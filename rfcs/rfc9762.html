<!DOCTYPE html>
<html lang="en" class="RFC">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>RFC 9762: Using Router Advertisements to Signal the Availability of DHCPv6 Prefix Delegation to Clients</title>
<meta content="Lorenzo Colitti" name="author">
<meta content="Jen Linkova" name="author">
<meta content="Xiao Ma" name="author">
<meta content="David 'equinox' Lamparter" name="author">
<meta content="
       
This document defines the P flag in the Prefix Information Option (PIO) of
IPv6 Router Advertisements (RAs).  The flag is used to indicate that the
network prefers that clients use the deployment model in RFC 9663
instead of using individual addresses in the on-link prefix assigned using
Stateless Address Autoconfiguration (SLAAC) or DHCPv6 address assignment.
 
       
This document updates RFC 4862 to indicate that the Autonomous flag in a PIO
needs to be ignored if the PIO has the P flag set.  It also updates RFC 4861
to specify that the P flag indicates DHCPv6 prefix delegation support for
clients.
 
    " name="description">
<meta content="xml2rfc 3.29.0" name="generator">
<meta content="ipv6" name="keyword">
<meta content="slaac" name="keyword">
<meta content="pio" name="keyword">
<meta content="dhcpv6-pd" name="keyword">
<meta content="9762" name="rfc.number">
<!-- Generator version information:
  xml2rfc 3.29.0
    Python 3.9.15
    ConfigArgParse 1.5.3
    google-i18n-address 3.0.0
    intervaltree 3.1.0
    Jinja2 3.1.2
    lxml 5.3.0
    platformdirs 3.8.0
    pycountry 22.3.5
    PyYAML 6.0
    requests 2.28.0
    setuptools 44.1.1
    wcwidth 0.2.5
    weasyprint 65.0
-->
<link href="rfc9762.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necessary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

:root {
  --font-sans: 'Noto Sans', Arial, Helvetica, sans-serif;
  --font-serif: 'Noto Serif', 'Times', 'Times New Roman', serif;
  --font-mono: 'Roboto Mono', Courier, 'Courier New', monospace;
}

@viewport {
  zoom: 1.0;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: var(--font-sans);
  line-height: 1.6;
  scroll-behavior: smooth;
  overflow-wrap: break-word;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
@media print {
  svg {
    max-height: 850px;
    max-width: 660px;
  }
}
svg[font-family~="serif" i], svg [font-family~="serif" i] {
  font-family: var(--font-serif);
}
svg[font-family~="sans-serif" i], svg [font-family~="sans-serif" i] {
  font-family: var(--font-sans);
}
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  display: table;
  border: none;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre {
  background-color: #f9f9f9;
  font-family: var(--font-mono);
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
blockquote > *:last-child {
  margin-bottom: 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}
.xref {
  overflow-wrap: normal;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    max-width: 100%;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.refSubseries {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: var(--font-sans);
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  .breakable pre {
    break-inside: auto;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The following is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
.sourcecode pre,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .artwork > pre,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: upper-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background slightly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr {
  break-inside: avoid;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottom margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code, dt tt, dt code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the compact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div.sourcecode:first-child,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type:only-child {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<link href="https://datatracker.ietf.org/doc/draft-ietf-6man-pio-pflag-12" rel="prev">
  <link href="https://dx.doi.org/10.17487/rfc9762" rel="alternate">
  <link href="urn:issn:2070-1721" rel="alternate">
  </head>
<body class="xml2rfc">
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 9762</td>
<td class="center">PIO P Flag</td>
<td class="right">June 2025</td>
</tr></thead>
<tfoot><tr>
<td class="left">Colitti, et al.</td>
<td class="center">Standards Track</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Engineering Task Force (IETF)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a href="https://www.rfc-editor.org/rfc/rfc9762" class="eref">9762</a></dd>
<dt class="label-updates">Updates:</dt>
<dd class="updates">
<a href="https://www.rfc-editor.org/rfc/rfc4861" class="eref">4861</a>, <a href="https://www.rfc-editor.org/rfc/rfc4862" class="eref">4862</a> </dd>
<dt class="label-category">Category:</dt>
<dd class="category">Standards Track</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2025-06" class="published">June 2025</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">L. Colitti</div>
<div class="org">Google</div>
</div>
<div class="author">
      <div class="author-name">J. Linkova</div>
<div class="org">Google</div>
</div>
<div class="author">
      <div class="author-name">X. Ma, <span class="editor">Ed.</span>
</div>
<div class="org">Google</div>
</div>
<div class="author">
      <div class="author-name">D. Lamparter</div>
<div class="org">NetDEF, Inc.</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 9762</h1>
<h1 id="title">Using Router Advertisements to Signal the Availability of DHCPv6 Prefix Delegation to Clients</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">
This document defines the P flag in the Prefix Information Option (PIO) of
IPv6 Router Advertisements (RAs).  The flag is used to indicate that the
network prefers that clients use the deployment model in RFC 9663
instead of using individual addresses in the on-link prefix assigned using
Stateless Address Autoconfiguration (SLAAC) or DHCPv6 address assignment.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
<p id="section-abstract-2">
This document updates RFC 4862 to indicate that the Autonomous flag in a PIO
needs to be ignored if the PIO has the P flag set.  It also updates RFC 4861
to specify that the P flag indicates DHCPv6 prefix delegation support for
clients.<a href="#section-abstract-2" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This is an Internet Standards Track document.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc9762">https://www.rfc-editor.org/info/rfc9762</a></span>.<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2025 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="auto internal xref">1</a>.  <a href="#name-introduction" class="internal xref">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="auto internal xref">2</a>.  <a href="#name-requirements-language" class="internal xref">Requirements Language</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1" class="keepWithNext"><a href="#section-3" class="auto internal xref">3</a>.  <a href="#name-terminology" class="internal xref">Terminology</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="auto internal xref">4</a>.  <a href="#name-rationale" class="internal xref">Rationale</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="auto internal xref">5</a>.  <a href="#name-p-flag-overview" class="internal xref">P Flag Overview</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="auto internal xref">6</a>.  <a href="#name-router-behavior" class="internal xref">Router Behavior</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="auto internal xref">7</a>.  <a href="#name-client-behavior" class="internal xref">Client Behavior</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="auto internal xref">7.1</a>.  <a href="#name-processing-the-p-flag" class="internal xref">Processing the P Flag</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a href="#section-7.2" class="auto internal xref">7.2</a>.  <a href="#name-using-delegated-prefixes" class="internal xref">Using Delegated Prefix(es)</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.3">
                <p id="section-toc.1-1.7.2.3.1"><a href="#section-7.3" class="auto internal xref">7.3</a>.  <a href="#name-absence-of-pios-with-the-p-" class="internal xref">Absence of PIOs with the P Bit Set</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.4">
                <p id="section-toc.1-1.7.2.4.1"><a href="#section-7.4" class="auto internal xref">7.4</a>.  <a href="#name-on-link-communication" class="internal xref">On-Link Communication</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.5">
                <p id="section-toc.1-1.7.2.5.1"><a href="#section-7.5" class="auto internal xref">7.5</a>.  <a href="#name-source-address-selection" class="internal xref">Source Address Selection</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="auto internal xref">8</a>.  <a href="#name-multihoming" class="internal xref">Multihoming</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="auto internal xref">9</a>.  <a href="#name-modifications-to-rfc-mandat" class="internal xref">Modifications to RFC-Mandated Behavior</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.1">
                <p id="section-toc.1-1.9.2.1.1"><a href="#section-9.1" class="auto internal xref">9.1</a>.  <a href="#name-changes-to-rfc-4861" class="internal xref">Changes to RFC 4861</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2">
                <p id="section-toc.1-1.9.2.2.1"><a href="#section-9.2" class="auto internal xref">9.2</a>.  <a href="#name-changes-to-rfc-4862" class="internal xref">Changes to RFC 4862</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="auto internal xref">10</a>. <a href="#name-security-considerations" class="internal xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="auto internal xref">11</a>. <a href="#name-privacy-considerations" class="internal xref">Privacy Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#section-12" class="auto internal xref">12</a>. <a href="#name-iana-considerations" class="internal xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#section-13" class="auto internal xref">13</a>. <a href="#name-references" class="internal xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.1">
                <p id="section-toc.1-1.13.2.1.1"><a href="#section-13.1" class="auto internal xref">13.1</a>.  <a href="#name-normative-references" class="internal xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.2">
                <p id="section-toc.1-1.13.2.2.1"><a href="#section-13.2" class="auto internal xref">13.2</a>.  <a href="#name-informative-references" class="internal xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a href="#appendix-A" class="auto internal xref"></a><a href="#name-acknowledgements" class="internal xref">Acknowledgements</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15">
            <p id="section-toc.1-1.15.1"><a href="#appendix-B" class="auto internal xref"></a><a href="#name-authors-addresses" class="internal xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">
<span>[<a href="#RFC9663" class="cite xref">RFC9663</a>]</span> documents an IPv6 address assignment model where IPv6 devices obtain dedicated prefixes from the network via DHCPv6 prefix delegation (DHCPv6-PD) <span>[<a href="#RFC8415" class="cite xref">RFC8415</a>]</span>. This model provides devices with a large IPv6 address space they can use to create addresses for communication, individually number virtual machines (VMs) or containers, or extend the network to downstream devices. It also provides scalability benefits on large networks because network infrastructure devices do not need to maintain per-address state, such as IPv6 neighbor cache, Source Address Validation Improvement (SAVI) <span>[<a href="#RFC7039" class="cite xref">RFC7039</a>]</span>  mappings, Virtual eXtensible Local Area Network (VXLAN) <span>[<a href="#RFC7348" class="cite xref">RFC7348</a>]</span> routes, etc.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">
  On networks with fewer devices, however, this model may not be appropriate, because scaling to support multiple individual IPv6 addresses per device is less of a concern. Also, many home networks currently offer prefix delegation but assume that a limited number of specialized devices and/or applications will require delegated prefixes and thus do not allocate enough address space to offer prefixes to every device that connects to the network.
  For example, if clients assume the <span>[<a href="#RFC9663" class="cite xref">RFC9663</a>]</span> deployment model on a home network that only receives a /60 from the ISP and each client obtains a /64 prefix, then the network will run out of prefixes after 15 devices have been connected.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">
Therefore, to safely roll out the support of the deployment model defined in <span>[<a href="#RFC9663" class="cite xref">RFC9663</a>]</span> on the client side, it is necessary to have a mechanism for the network to signal to the client which address assignment method is preferred.<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4"></p>
</section>
<section id="section-2">
      <h2 id="name-requirements-language">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-requirements-language" class="section-name selfRef">Requirements Language</a>
      </h2>
<p id="section-2-1">The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>", "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>",
          "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>", "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>", "<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be
          interpreted as described in BCP 14 <span>[<a href="#RFC2119" class="cite xref">RFC2119</a>]</span>
        <span>[<a href="#RFC8174" class="cite xref">RFC8174</a>]</span> when, and only when, they appear in
          all capitals, as shown here.<a href="#section-2-1" class="pilcrow">¶</a></p>
</section>
<section id="section-3">
      <h2 id="name-terminology">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-terminology" class="section-name selfRef">Terminology</a>
      </h2>
<span class="break"></span><dl class="dlParallel" id="section-3-1">
        <dt id="section-3-1.1">Node:</dt>
        <dd style="margin-left: 1.5em" id="section-3-1.2">a device that implements IPv6 <span>[<a href="#RFC8200" class="cite xref">RFC8200</a>]</span><a href="#section-3-1.2" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-1.3">Host:</dt>
        <dd style="margin-left: 1.5em" id="section-3-1.4">any node that is not a router <span>[<a href="#RFC8200" class="cite xref">RFC8200</a>]</span><a href="#section-3-1.4" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-1.5">Client:</dt>
        <dd style="margin-left: 1.5em" id="section-3-1.6">a node that connects to a network and acquires
   addresses. The node may wish to obtain addresses for its own use, or it
   may be a router that wishes to extend the network to its physical or
   virtual subsystems, or both. It may be either a host or a router as
   defined by <span>[<a href="#RFC8200" class="cite xref">RFC8200</a>]</span>.<a href="#section-3-1.6" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-1.7">DHCPv6-PD:</dt>
        <dd style="margin-left: 1.5em" id="section-3-1.8">DHCPv6 Prefix Delegation <span>[<a href="#RFC8415" class="cite xref">RFC8415</a>]</span>; a mechanism to delegate IPv6 prefixes to clients.<a href="#section-3-1.8" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-1.9">DHCPv6 IA_NA:</dt>
        <dd style="margin-left: 1.5em" id="section-3-1.10">Identity Association for Non-temporary Addresses (<span><a href="https://rfc-editor.org/rfc/rfc8415#section-21.4" class="relref">Section 21.4</a> of [<a href="#RFC8415" class="cite xref">RFC8415</a>]</span>)<a href="#section-3-1.10" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-1.11">DHCPv6 IA_PD:</dt>
        <dd style="margin-left: 1.5em" id="section-3-1.12">Identity Association for Prefix Delegation (<span><a href="https://rfc-editor.org/rfc/rfc8415#section-21.21" class="relref">Section 21.21</a> of [<a href="#RFC8415" class="cite xref">RFC8415</a>]</span>)<a href="#section-3-1.12" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-1.13">ND:</dt>
        <dd style="margin-left: 1.5em" id="section-3-1.14">Neighbor Discovery <span>[<a href="#RFC4861" class="cite xref">RFC4861</a>]</span><a href="#section-3-1.14" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-1.15">On-link address:</dt>
        <dd style="margin-left: 1.5em" id="section-3-1.16">an address that is assigned to an interface on a specified link <span>[<a href="#RFC4861" class="cite xref">RFC4861</a>]</span><a href="#section-3-1.16" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-1.17">On-link prefix:</dt>
        <dd style="margin-left: 1.5em" id="section-3-1.18">a prefix that is assigned to a specified link<a href="#section-3-1.18" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-1.19">Off-link:</dt>
        <dd style="margin-left: 1.5em" id="section-3-1.20">the opposite of "on-link" (see <span>[<a href="#RFC4861" class="cite xref">RFC4861</a>]</span>)<a href="#section-3-1.20" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-1.21">PIO:</dt>
        <dd style="margin-left: 1.5em" id="section-3-1.22">Prefix Information Option <span>[<a href="#RFC4862" class="cite xref">RFC4862</a>]</span><a href="#section-3-1.22" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-1.23">RA:</dt>
        <dd style="margin-left: 1.5em" id="section-3-1.24">Router Advertisement <span>[<a href="#RFC4861" class="cite xref">RFC4861</a>]</span><a href="#section-3-1.24" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-1.25">SLAAC:</dt>
        <dd style="margin-left: 1.5em" id="section-3-1.26">Stateless Address Autoconfiguration <span>[<a href="#RFC4862" class="cite xref">RFC4862</a>]</span><a href="#section-3-1.26" class="pilcrow">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
</section>
<div id="rationale">
<section id="section-4">
      <h2 id="name-rationale">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-rationale" class="section-name selfRef">Rationale</a>
      </h2>
<p id="section-4-1">
The network administrator might want to indicate to clients that requesting a prefix via DHCPv6-PD and using that prefix for address assignment (see <span>[<a href="#RFC9663" class="cite xref">RFC9663</a>]</span>) should be preferred over using individual addresses from the on-link prefix.
The information is passed to the client via a P flag in the PIO. The reasons for it being a PIO flag are as follows:<a href="#section-4-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4-2.1">
The information must be contained in the RA because it must be available to the client before it decides to form IPv6 addresses from the PIO prefix using SLAAC. Otherwise, the client might use SLAAC to form IPv6 addresses from the PIO provided and start using them, even if a unique per-client prefix is available via DHCPv6-PD.
Forming addresses via SLAAC is suboptimal because if the client later acquires a prefix using DHCPv6-PD, it can either 1) use both the prefix and SLAAC addresses, reducing the scalability benefits of using DHCPv6-PD, or 2) remove the SLAAC addresses, which would be disruptive for applications that are using them.<a href="#section-4-2.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-4-2.2">
This information is specific to the particular prefix being announced. For
example, a network administrator might want clients to assign global addresses
from delegated prefixes but form Unique Local IPv6
Unicast Addresses <span>[<a href="#RFC4193" class="cite xref">RFC4193</a>]</span> from another PIO in the RA using SLAAC.  Also, in a multihoming situation,
one upstream network might choose to assign prefixes via prefix delegation and
another via PIOs.<a href="#section-4-2.2" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-4-3">
Note that setting the P flag in a PIO expresses the network operator's preference that clients should attempt using DHCPv6-PD instead of performing individual address configuration on the prefix.
For clients that honor this preference by requesting prefix delegation, the actual delegated prefix will necessarily be a prefix different from the one from the PIO.<a href="#section-4-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="flag-over">
<section id="section-5">
      <h2 id="name-p-flag-overview">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-p-flag-overview" class="section-name selfRef">P Flag Overview</a>
      </h2>
<p id="section-5-1">
The P flag (also called the DHCPv6-PD Preferred Flag) is a 1-bit PIO flag, located after the R flag <span>[<a href="#RFC6275" class="cite xref">RFC6275</a>]</span>.

The presence of a PIO with the P flag set indicates that the network prefers that clients use prefix delegation instead of acquiring individual addresses via SLAAC or DHCPv6 address assignment. This implies that the network has a DHCPv6 server capable of making DHCPv6 prefix delegations to every device on the network, as described in <span>[<a href="#RFC9663" class="cite xref">RFC9663</a>]</span>.<a href="#section-5-1" class="pilcrow">¶</a></p>
<p id="section-5-2">
<a href="#fig_pio_new" class="auto internal xref">Figure 1</a> shows the resulting format of the PIO.<a href="#section-5-2" class="pilcrow">¶</a></p>
<div id="fig_pio_new">
<figure id="figure-1">
        <div class="alignCenter art-text artwork" id="section-5-3.1">
<pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     Type      |    Length     | Prefix Length |L|A|R|P| Rsvd1 |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                         Valid Lifetime                        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                       Preferred Lifetime                      |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                           Reserved2                           |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               |
+                                                               +
|                                                               |
+                            Prefix                             +
|                                                               |
+                                                               +
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a></figcaption></figure>
</div>
<p id="section-5-4">
The P flag is independent of the value of the M and O flags in the RA.
If the network desires to delegate prefixes to devices that support DHCPv6 prefix delegation but do not support the P flag, it <span class="bcp14">SHOULD</span> also set the M or O bits in the RA to 1, because some devices, such as Customer Edge (CE) routers <span>[<a href="#RFC7084" class="cite xref">RFC7084</a>]</span>, might not initiate DHCPv6 prefix delegation if both the M and O bits are set to zero.<a href="#section-5-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="Router">
<section id="section-6">
      <h2 id="name-router-behavior">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-router-behavior" class="section-name selfRef">Router Behavior</a>
      </h2>
<p id="section-6-1">
Routers <span class="bcp14">SHOULD</span> set the P flag to zero by default, unless explicitly configured by the administrator, and <span class="bcp14">SHOULD</span> allow the operator to set the P flag value for any given prefix advertised in a PIO.
Routers <span class="bcp14">MUST</span> allow the P flag to be configured separately from the A flag.
In particular, enabling or disabling the P flag <span class="bcp14">MUST NOT</span> trigger automatic changes in the A flag value set by the router.<a href="#section-6-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="client">
<section id="section-7">
      <h2 id="name-client-behavior">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-client-behavior" class="section-name selfRef">Client Behavior</a>
      </h2>
<section id="section-7.1">
        <h3 id="name-processing-the-p-flag">
<a href="#section-7.1" class="section-number selfRef">7.1. </a><a href="#name-processing-the-p-flag" class="section-name selfRef">Processing the P Flag</a>
        </h3>
<p id="section-7.1-1">
This specification only applies to clients that support DHCPv6 prefix delegation.
Clients that do not support DHCPv6 prefix delegation <span class="bcp14">MUST</span> ignore the P flag.
The P flag is meaningless for link-local prefixes, and any PIO containing
the link-local prefix <span class="bcp14">MUST</span> be ignored as specified in <span><a href="https://rfc-editor.org/rfc/rfc4862#section-5.5.3" class="relref">Section 5.5.3</a> of [<a href="#RFC4862" class="cite xref">RFC4862</a>]</span>.
In the following text, all prefixes are assumed not to be link-local.<a href="#section-7.1-1" class="pilcrow">¶</a></p>
<p id="section-7.1-2">
For each interface, the client <span class="bcp14">MUST</span> keep a list of every prefix that was received
from a PIO with the P flag set and currently has a non-zero preferred lifetime.
The list affects the behavior of the DHCPv6 client as follows:<a href="#section-7.1-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7.1-3.1">When a prefix's preferred lifetime becomes zero, either because the preferred
lifetime expires or because the client receives a PIO for the prefix with a zero
preferred lifetime, the prefix <span class="bcp14">MUST</span> be removed from the list.<a href="#section-7.1-3.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-7.1-3.2">When the length of the list increases to one, the client <span class="bcp14">SHOULD</span> start requesting
prefixes via DHCPv6 prefix delegation unless it is already doing so.<a href="#section-7.1-3.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-7.1-3.3">When the length of the list decreases to zero, the client <span class="bcp14">SHOULD</span> stop requesting
or renewing prefixes via DHCPv6 prefix delegation if it has no other reason to do so.
The lifetimes of any prefixes already obtained via DHCPv6 are unaffected.<a href="#section-7.1-3.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-7.1-3.4">
If the client has already received delegated prefix(es) from one or more
servers, then any time one or more prefix(es) are added to or removed from the list, the client <span class="bcp14">MUST</span> consider this to be a change in configuration information as
described in <span><a href="https://rfc-editor.org/rfc/rfc8415#section-18.2.12" class="relref">Section 18.2.12</a> of [<a href="#RFC8415" class="cite xref">RFC8415</a>]</span>. In that case, the client <span class="bcp14">MUST</span> perform
a REBIND, unless the list is now empty.
This is in addition to performing a REBIND in the other cases required by that
section. Issuing a REBIND allows the client to obtain new prefixes if necessary, for example,
when the network is being renumbered. It also refreshes the state related to the
delegated prefix(es).<a href="#section-7.1-3.4" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-7.1-4">
When a client requests a prefix via DHCPv6-PD, it <span class="bcp14">MUST</span> use the prefix length hint (<span><a href="https://rfc-editor.org/rfc/rfc8415#section-18.2.4" class="relref">Section 18.2.4</a> of [<a href="#RFC8415" class="cite xref">RFC8415</a>]</span>) to request a prefix that is short enough to form addresses via SLAAC.<a href="#section-7.1-4" class="pilcrow">¶</a></p>
<p id="section-7.1-5">In order to achieve the scalability benefits of using DHCPv6-PD, the client
<span class="bcp14">SHOULD</span> prefer to form addresses from the delegated prefix
instead of using individual addresses in the on-link prefix(es). Therefore,
when the client requests a prefix using DHCPv6-PD, the client <span class="bcp14">SHOULD NOT</span> use SLAAC to obtain IPv6 addresses from PIOs with the P and A bits
set.  Similarly, if all PIOs processed by the client have the P bit set, the
client <span class="bcp14">SHOULD NOT</span> request individual IPv6 addresses from
DHCPv6, i.e., it <span class="bcp14">SHOULD NOT</span> include any IA_NA options in
Solicit messages <span>[<a href="#RFC8415" class="cite xref">RFC8415</a>]</span>.  The client <span class="bcp14">MAY</span>
continue to use addresses that are already configured.<a href="#section-7.1-5" class="pilcrow">¶</a></p>
<p id="section-7.1-6">If the client does not obtain any suitable prefixes via DHCPv6-PD that are suitable for SLAAC, it <span class="bcp14">MAY</span> choose to disable further processing of the P flag on that interface, allowing the client to fall back to other address assignment mechanisms, such as forming addresses via SLAAC (if the PIO has the A flag set to 1) and/or requesting individual addresses via DHCPv6.<a href="#section-7.1-6" class="pilcrow">¶</a></p>
</section>
<div id="received">
<section id="section-7.2">
        <h3 id="name-using-delegated-prefixes">
<a href="#section-7.2" class="section-number selfRef">7.2. </a><a href="#name-using-delegated-prefixes" class="section-name selfRef">Using Delegated Prefix(es)</a>
        </h3>
<p id="section-7.2-1">
 If the delegated prefix is too long to be used for SLAAC, the client <span class="bcp14">MUST</span> ignore it, as <span><a href="https://rfc-editor.org/rfc/rfc9663#section-7" class="relref">Section 7</a> of [<a href="#RFC9663" class="cite xref">RFC9663</a>]</span> requires the network to provide a SLAAC-suitable prefix to clients.
 If the prefix is shorter than required for SLAAC, the client <span class="bcp14">SHOULD</span> accept it, allocate one or more longer prefixes suitable for SLAAC, and use the prefixes as described below.<a href="#section-7.2-1" class="pilcrow">¶</a></p>
<p id="section-7.2-2">
For every accepted prefix:<a href="#section-7.2-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7.2-3.1">
The client <span class="bcp14">MAY</span> form as many IPv6 addresses from the prefix as it chooses.<a href="#section-7.2-3.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-7.2-3.2">
The client <span class="bcp14">MAY</span> use the prefix to provide IPv6 addresses to internal components such as VMs or containers.<a href="#section-7.2-3.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-7.2-3.3">
The client <span class="bcp14">MAY</span> use the prefix to allow devices directly connected to it to obtain IPv6 addresses. For example, the client <span class="bcp14">MAY</span> route traffic for that prefix to an interface and send an RA containing a PIO for the prefix on that interface. That interface <span class="bcp14">MUST NOT</span> be the interface the prefix is obtained from. If the client advertises the prefix on an interface and it has formed addresses from the prefix, then it <span class="bcp14">MUST</span> act as though the addresses were assigned to that interface for the purposes of Neighbor Discovery and Duplicate Address Detection.<a href="#section-7.2-3.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-7.2-4">The client <span class="bcp14">MUST NOT</span> send or forward packets with destination addresses within a delegated prefix to the interface that it obtained the prefix on, as this can cause a routing loop. This problem will not occur if the client has assigned the prefix to another interface. Another way the client can prevent this problem is to add to its routing table a high-metric discard route for the delegated prefix.<a href="#section-7.2-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="p0">
<section id="section-7.3">
        <h3 id="name-absence-of-pios-with-the-p-">
<a href="#section-7.3" class="section-number selfRef">7.3. </a><a href="#name-absence-of-pios-with-the-p-" class="section-name selfRef">Absence of PIOs with the P Bit Set</a>
        </h3>
<p id="section-7.3-1">
The P bit is purely a positive indicator, telling nodes that DHCPv6
prefix delegation is available and the network prefers that nodes use it,
even if they do not have any other reason to run a prefix delegation client.
The absence of any PIOs with the P bit does not carry any kind of signal to
the opposite and <span class="bcp14">MUST NOT</span> be processed to mean that DHCPv6-PD is absent. In
particular, nodes that run DHCPv6-PD due to explicit configuration or by default
(e.g., to extend the network) <span class="bcp14">MUST NOT</span> disable DHCPv6-PD on the absence of PIOs
with the P bit set.
A very common example of this are CE routers as described
by <span>[<a href="#RFC7084" class="cite xref">RFC7084</a>]</span>.<a href="#section-7.3-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="onlink">
<section id="section-7.4">
        <h3 id="name-on-link-communication">
<a href="#section-7.4" class="section-number selfRef">7.4. </a><a href="#name-on-link-communication" class="section-name selfRef">On-Link Communication</a>
        </h3>
<p id="section-7.4-1">
When the network delegates unique prefixes to clients, each client will consider other clients' destination addresses to be off-link, because those addresses are from the delegated prefixes and are not within any on-link prefix. When a client sends traffic to another client, packets will initially be sent to the default router. The router may respond with an ICMPv6 redirect message (<span><a href="https://rfc-editor.org/rfc/rfc4861#section-4.5" class="relref">Section 4.5</a> of [<a href="#RFC4861" class="cite xref">RFC4861</a>]</span>). If the client receives and accepts the redirect, then traffic can flow directly from device to device. Therefore, hosts supporting the P flag <span class="bcp14">SHOULD</span> process redirects unless configured otherwise.
Hosts that do not process ICMPv6 redirects, and routers that do not act on ICMPv6 redirects, may experience higher latency while communicating to prefixes delegated to other clients on the same link.<a href="#section-7.4-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="addrselect">
<section id="section-7.5">
        <h3 id="name-source-address-selection">
<a href="#section-7.5" class="section-number selfRef">7.5. </a><a href="#name-source-address-selection" class="section-name selfRef">Source Address Selection</a>
        </h3>
<p id="section-7.5-1">
  For the purpose of source address selection <span>[<a href="#RFC6724" class="cite xref">RFC6724</a>]</span>, if the host creates any addresses from a delegated prefix, it <span class="bcp14">SHOULD</span> treat those addresses as if they were assigned to the interface on which the prefix was received.
  This includes placing them in the candidate set and associating them with the outgoing interface when implementing Rule 5 of the source address selection algorithm <span>[<a href="#RFC6724" class="cite xref">RFC6724</a>]</span>.<a href="#section-7.5-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="mhoming">
<section id="section-8">
      <h2 id="name-multihoming">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-multihoming" class="section-name selfRef">Multihoming</a>
      </h2>
<p id="section-8-1">
In multi-prefix multihoming, the host generally needs to associate the prefix with the router that advertised it (for example, see Rule 5.5 in <span>[<a href="#RFC6724" class="cite xref">RFC6724</a>]</span>). If the host supports Rule 5.5, then it <span class="bcp14">SHOULD</span> associate each prefix with the link-local address of the DHCPv6 server or relay from which it received the REPLY packet.
When receiving multiple REPLYs carrying the same prefix from distinct
link-local addresses, the host <span class="bcp14">SHOULD</span> associate that prefix with all of these
addresses.  This can commonly happen in networks with redundant routers and
DHCPv6 servers or relays.<a href="#section-8-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="rfcchanges">
<section id="section-9">
      <h2 id="name-modifications-to-rfc-mandat">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-modifications-to-rfc-mandat" class="section-name selfRef">Modifications to RFC-Mandated Behavior</a>
      </h2>
<section id="section-9.1">
        <h3 id="name-changes-to-rfc-4861">
<a href="#section-9.1" class="section-number selfRef">9.1. </a><a href="#name-changes-to-rfc-4861" class="section-name selfRef">Changes to RFC 4861</a>
        </h3>
<p id="section-9.1-1">This document makes the following changes to <span><a href="https://rfc-editor.org/rfc/rfc4861#section-4.2" class="relref">Section 4.2</a> of [<a href="#RFC4861" class="cite xref">RFC4861</a>]</span>:<a href="#section-9.1-1" class="pilcrow">¶</a></p>
<p id="section-9.1-2">OLD TEXT:<a href="#section-9.1-2" class="pilcrow">¶</a></p>
<blockquote id="section-9.1-3">Note: If neither M nor O flags are set, this indicates that
       no information is available via DHCPv6.<a href="#section-9.1-3" class="pilcrow">¶</a>
</blockquote>
<p id="section-9.1-4">NEW TEXT:<a href="#section-9.1-4" class="pilcrow">¶</a></p>
<blockquote id="section-9.1-5">Note: If the M, O, or P (RFC 9762)
       flags are not set, this indicates that no information is available via
       DHCPv6.<a href="#section-9.1-5" class="pilcrow">¶</a>
</blockquote>
</section>
<section id="section-9.2">
        <h3 id="name-changes-to-rfc-4862">
<a href="#section-9.2" class="section-number selfRef">9.2. </a><a href="#name-changes-to-rfc-4862" class="section-name selfRef">Changes to RFC 4862</a>
        </h3>
<p id="section-9.2-1">This document makes the following changes to <span><a href="https://rfc-editor.org/rfc/rfc4862#section-5.5.3" class="relref">Section 5.5.3</a> of [<a href="#RFC4862" class="cite xref">RFC4862</a>]</span>:<a href="#section-9.2-1" class="pilcrow">¶</a></p>
<p id="section-9.2-2">OLD TEXT:<a href="#section-9.2-2" class="pilcrow">¶</a></p>
<blockquote id="section-9.2-3">
          <p id="section-9.2-3.1">For each Prefix-Information option in the Router Advertisement:<a href="#section-9.2-3.1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="olPercent" id="section-9.2-3.2">
  <dt>a)</dt>
<dd id="section-9.2-3.2.1">If the Autonomous flag is not set, silently ignore the Prefix Information option.<a href="#section-9.2-3.2.1" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt>b)</dt>
<dd id="section-9.2-3.2.2">If the prefix is the link-local prefix, silently ignore the Prefix Information option.<a href="#section-9.2-3.2.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt>c)</dt>
<dd id="section-9.2-3.2.3">If the preferred lifetime is greater than the valid lifetime,
  silently ignore the Prefix Information option.  A node
  <span class="bcp14">MAY</span> wish to log a system management error in this
  case.<a href="#section-9.2-3.2.3" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt>d)</dt>
<dd id="section-9.2-3.2.4">If the prefix advertised is not equal to the prefix of an address
  configured by stateless autoconfiguration already in the list of
  addresses associated with the interface (where "equal" means the two
  prefix lengths are the same and the first prefix-length bits of the
  prefixes are identical), and if the Valid Lifetime is not 0, form an
  address (and add it to the list) by combining the advertised prefix
  with an interface identifier of the link as follows:<a href="#section-9.2-3.2.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</blockquote>
<p id="section-9.2-4">NEW TEXT:<a href="#section-9.2-4" class="pilcrow">¶</a></p>
<blockquote id="section-9.2-5">
          <p id="section-9.2-5.1">For each Prefix Information Option in the Router Advertisement:<a href="#section-9.2-5.1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="olPercent" id="section-9.2-5.2">
  <dt>a)</dt>
<dd id="section-9.2-5.2.1">If the prefix is the link-local prefix, silently ignore the
  Prefix Information Option.<a href="#section-9.2-5.2.1" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt>b)</dt>
<dd id="section-9.2-5.2.2">If the P flag is set and the node implements
  RFC 9762, it <span class="bcp14">SHOULD</span> treat the
  Autonomous flag as if it was unset and use prefix delegation to
  obtain addresses as described in RFC 9762.<a href="#section-9.2-5.2.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt>c)</dt>
<dd id="section-9.2-5.2.3">If the Autonomous flag is not set, silently ignore the Prefix Information Option.<a href="#section-9.2-5.2.3" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt>d)</dt>
<dd id="section-9.2-5.2.4">If the preferred lifetime is greater than the valid lifetime,
  silently ignore the Prefix Information Option.  A node
  <span class="bcp14">MAY</span> wish to log a system management error in this
  case.<a href="#section-9.2-5.2.4" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt>e)</dt>
<dd id="section-9.2-5.2.5">If the prefix advertised is not equal to the prefix of an address
  configured by stateless autoconfiguration already in the list of
  addresses associated with the interface (where "equal" means the two
  prefix lengths are the same and the first prefix-length bits of the
  prefixes are identical) and if the Valid Lifetime is not 0, form an
  address (and add it to the list) by combining the advertised prefix
  with an interface identifier of the link as follows:<a href="#section-9.2-5.2.5" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</blockquote>
</section>
</section>
</div>
<div id="Security">
<section id="section-10">
      <h2 id="name-security-considerations">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-10-1"> The mechanism described in this document relies on the information
      provided in the RA and therefore shares the same
      security model as SLAAC.  If the network does not implement RA-Guard
      <span>[<a href="#RFC6105" class="cite xref">RFC6105</a>]</span>, an attacker might send RAs containing the PIO
      used by the network, set the P flag to 1, and force hosts to ignore the A
      flag.  In the absence of DHCPv6-PD infrastructure, hosts would either
      obtain no IPv6 addresses or, if they fall back to other IPv6 address
      assignment mechanisms such as SLAAC and IA_NA, would experience delays
      in obtaining IPv6 addresses. If the network does not support
      DHCPv6-Shield <span>[<a href="#RFC7610" class="cite xref">RFC7610</a>]</span>, the attacker could also run a
      rogue DHCPv6 server, providing the host with invalid prefixes or other
      invalid configuration information.<a href="#section-10-1" class="pilcrow">¶</a></p>
<p id="section-10-2">The attacker might force hosts to oscillate between DHCPv6-PD and
      PIO-based SLAAC by sending the same set of PIOs with and then without the P flag
      set.  That would cause the clients to issue REBIND requests, increasing
      the load on the DHCP infrastructure.  However, <span><a href="https://rfc-editor.org/rfc/rfc8415#section-14.1" class="relref">Section 14.1</a> of [<a href="#RFC8415" class="cite xref">RFC8415</a>]</span> requires that DHCPv6-PD clients rate-limit
      transmitted DHCPv6 messages.<a href="#section-10-2" class="pilcrow">¶</a></p>
<p id="section-10-3">It should be noted that if the network allows rogue RAs to be sent,
      the attacker would be able to disrupt hosts' connectivity anyway, so this
      document doesn't introduce any fundamentally new security
      considerations.<a href="#section-10-3" class="pilcrow">¶</a></p>
<p id="section-10-4">Security considerations inherent to the PD-per-device model are
      documented in <span><a href="https://rfc-editor.org/rfc/rfc9663#section-15" class="relref">Section 15</a> of [<a href="#RFC9663" class="cite xref">RFC9663</a>]</span>.<a href="#section-10-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="privacy">
<section id="section-11">
      <h2 id="name-privacy-considerations">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-privacy-considerations" class="section-name selfRef">Privacy Considerations</a>
      </h2>
<p id="section-11-1">
The privacy implications of implementing the P flag and using DHCPv6-PD to assign prefixes to hosts are similar to the privacy implications of using DHCPv6 to assign individual addresses. 
If the DHCPv6 infrastructure assigns the same prefix to the same client, then an observer might be able to identify clients based on the highest 64 bits of the client's address. Those implications and recommended countermeasures are discussed in <span><a href="https://rfc-editor.org/rfc/rfc9663#section-13" class="relref">Section 13</a> of [<a href="#RFC9663" class="cite xref">RFC9663</a>]</span>.<a href="#section-11-1" class="pilcrow">¶</a></p>
<p id="section-11-2">
Implementing the P flag support on a host and receiving will enable DHCPv6 on that host if the host receives an RA containing a PIO with the P bit set.
Sending DHCPv6 packets  may reveal some minor additional information about the host,
        most prominently the hostname. This is not a new concern and would apply for any network that uses DHCPv6 and sets the  M flag in RAs.<a href="#section-11-2" class="pilcrow">¶</a></p>
<p id="section-11-3">
        No privacy considerations result from supporting the P flag on the sender side.<a href="#section-11-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="IANA">
<section id="section-12">
      <h2 id="name-iana-considerations">
<a href="#section-12" class="section-number selfRef">12. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-12-1">IANA has made the following allocation in the "IPv6 Neighbor Discovery
      Prefix Information Option Flags" registry <span>[<a href="#RFC8425" class="cite xref">RFC8425</a>]</span>:<a href="#section-12-1" class="pilcrow">¶</a></p>
<table class="center" id="table-1">
        <caption><a href="#table-1" class="selfRef">Table 1</a></caption>
<thead>
          <tr>
            <th class="text-left" rowspan="1" colspan="1">PIO Option Bit</th>
            <th class="text-left" rowspan="1" colspan="1">Description</th>
            <th class="text-left" rowspan="1" colspan="1">Reference</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">3</td>
            <td class="text-left" rowspan="1" colspan="1">P - DHCPv6-PD Preferred Flag</td>
            <td class="text-left" rowspan="1" colspan="1">RFC 9762</td>
          </tr>
        </tbody>
      </table>
</section>
</div>
<section id="section-13">
      <h2 id="name-references">
<a href="#section-13" class="section-number selfRef">13. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-13.1">
        <h3 id="name-normative-references">
<a href="#section-13.1" class="section-number selfRef">13.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4861">[RFC4861]</dt>
        <dd>
<span class="refAuthor">Narten, T.</span>, <span class="refAuthor">Nordmark, E.</span>, <span class="refAuthor">Simpson, W.</span>, and <span class="refAuthor">H. Soliman</span>, <span class="refTitle">"Neighbor Discovery for IP version 6 (IPv6)"</span>, <span class="seriesInfo">RFC 4861</span>, <span class="seriesInfo">DOI 10.17487/RFC4861</span>, <time datetime="2007-09" class="refDate">September 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4861">https://www.rfc-editor.org/info/rfc4861</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4862">[RFC4862]</dt>
        <dd>
<span class="refAuthor">Thomson, S.</span>, <span class="refAuthor">Narten, T.</span>, and <span class="refAuthor">T. Jinmei</span>, <span class="refTitle">"IPv6 Stateless Address Autoconfiguration"</span>, <span class="seriesInfo">RFC 4862</span>, <span class="seriesInfo">DOI 10.17487/RFC4862</span>, <time datetime="2007-09" class="refDate">September 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4862">https://www.rfc-editor.org/info/rfc4862</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6724">[RFC6724]</dt>
        <dd>
<span class="refAuthor">Thaler, D., Ed.</span>, <span class="refAuthor">Draves, R.</span>, <span class="refAuthor">Matsumoto, A.</span>, and <span class="refAuthor">T. Chown</span>, <span class="refTitle">"Default Address Selection for Internet Protocol Version 6 (IPv6)"</span>, <span class="seriesInfo">RFC 6724</span>, <span class="seriesInfo">DOI 10.17487/RFC6724</span>, <time datetime="2012-09" class="refDate">September 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6724">https://www.rfc-editor.org/info/rfc6724</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8415">[RFC8415]</dt>
        <dd>
<span class="refAuthor">Mrugalski, T.</span>, <span class="refAuthor">Siodelski, M.</span>, <span class="refAuthor">Volz, B.</span>, <span class="refAuthor">Yourtchenko, A.</span>, <span class="refAuthor">Richardson, M.</span>, <span class="refAuthor">Jiang, S.</span>, <span class="refAuthor">Lemon, T.</span>, and <span class="refAuthor">T. Winters</span>, <span class="refTitle">"Dynamic Host Configuration Protocol for IPv6 (DHCPv6)"</span>, <span class="seriesInfo">RFC 8415</span>, <span class="seriesInfo">DOI 10.17487/RFC8415</span>, <time datetime="2018-11" class="refDate">November 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8415">https://www.rfc-editor.org/info/rfc8415</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8425">[RFC8425]</dt>
      <dd>
<span class="refAuthor">Troan, O.</span>, <span class="refTitle">"IANA Considerations for IPv6 Neighbor Discovery Prefix Information Option Flags"</span>, <span class="seriesInfo">RFC 8425</span>, <span class="seriesInfo">DOI 10.17487/RFC8425</span>, <time datetime="2018-07" class="refDate">July 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8425">https://www.rfc-editor.org/info/rfc8425</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-13.2">
        <h3 id="name-informative-references">
<a href="#section-13.2" class="section-number selfRef">13.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="RFC4193">[RFC4193]</dt>
        <dd>
<span class="refAuthor">Hinden, R.</span> and <span class="refAuthor">B. Haberman</span>, <span class="refTitle">"Unique Local IPv6 Unicast Addresses"</span>, <span class="seriesInfo">RFC 4193</span>, <span class="seriesInfo">DOI 10.17487/RFC4193</span>, <time datetime="2005-10" class="refDate">October 2005</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4193">https://www.rfc-editor.org/info/rfc4193</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6105">[RFC6105]</dt>
        <dd>
<span class="refAuthor">Levy-Abegnoli, E.</span>, <span class="refAuthor">Van de Velde, G.</span>, <span class="refAuthor">Popoviciu, C.</span>, and <span class="refAuthor">J. Mohacsi</span>, <span class="refTitle">"IPv6 Router Advertisement Guard"</span>, <span class="seriesInfo">RFC 6105</span>, <span class="seriesInfo">DOI 10.17487/RFC6105</span>, <time datetime="2011-02" class="refDate">February 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6105">https://www.rfc-editor.org/info/rfc6105</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6275">[RFC6275]</dt>
        <dd>
<span class="refAuthor">Perkins, C., Ed.</span>, <span class="refAuthor">Johnson, D.</span>, and <span class="refAuthor">J. Arkko</span>, <span class="refTitle">"Mobility Support in IPv6"</span>, <span class="seriesInfo">RFC 6275</span>, <span class="seriesInfo">DOI 10.17487/RFC6275</span>, <time datetime="2011-07" class="refDate">July 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6275">https://www.rfc-editor.org/info/rfc6275</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7039">[RFC7039]</dt>
        <dd>
<span class="refAuthor">Wu, J.</span>, <span class="refAuthor">Bi, J.</span>, <span class="refAuthor">Bagnulo, M.</span>, <span class="refAuthor">Baker, F.</span>, and <span class="refAuthor">C. Vogt, Ed.</span>, <span class="refTitle">"Source Address Validation Improvement (SAVI) Framework"</span>, <span class="seriesInfo">RFC 7039</span>, <span class="seriesInfo">DOI 10.17487/RFC7039</span>, <time datetime="2013-10" class="refDate">October 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7039">https://www.rfc-editor.org/info/rfc7039</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7084">[RFC7084]</dt>
        <dd>
<span class="refAuthor">Singh, H.</span>, <span class="refAuthor">Beebee, W.</span>, <span class="refAuthor">Donley, C.</span>, and <span class="refAuthor">B. Stark</span>, <span class="refTitle">"Basic Requirements for IPv6 Customer Edge Routers"</span>, <span class="seriesInfo">RFC 7084</span>, <span class="seriesInfo">DOI 10.17487/RFC7084</span>, <time datetime="2013-11" class="refDate">November 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7084">https://www.rfc-editor.org/info/rfc7084</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7348">[RFC7348]</dt>
        <dd>
<span class="refAuthor">Mahalingam, M.</span>, <span class="refAuthor">Dutt, D.</span>, <span class="refAuthor">Duda, K.</span>, <span class="refAuthor">Agarwal, P.</span>, <span class="refAuthor">Kreeger, L.</span>, <span class="refAuthor">Sridhar, T.</span>, <span class="refAuthor">Bursell, M.</span>, and <span class="refAuthor">C. Wright</span>, <span class="refTitle">"Virtual eXtensible Local Area Network (VXLAN): A Framework for Overlaying Virtualized Layer 2 Networks over Layer 3 Networks"</span>, <span class="seriesInfo">RFC 7348</span>, <span class="seriesInfo">DOI 10.17487/RFC7348</span>, <time datetime="2014-08" class="refDate">August 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7348">https://www.rfc-editor.org/info/rfc7348</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7610">[RFC7610]</dt>
        <dd>
<span class="refAuthor">Gont, F.</span>, <span class="refAuthor">Liu, W.</span>, and <span class="refAuthor">G. Van de Velde</span>, <span class="refTitle">"DHCPv6-Shield: Protecting against Rogue DHCPv6 Servers"</span>, <span class="seriesInfo">BCP 199</span>, <span class="seriesInfo">RFC 7610</span>, <span class="seriesInfo">DOI 10.17487/RFC7610</span>, <time datetime="2015-08" class="refDate">August 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7610">https://www.rfc-editor.org/info/rfc7610</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8200">[RFC8200]</dt>
        <dd>
<span class="refAuthor">Deering, S.</span> and <span class="refAuthor">R. Hinden</span>, <span class="refTitle">"Internet Protocol, Version 6 (IPv6) Specification"</span>, <span class="seriesInfo">STD 86</span>, <span class="seriesInfo">RFC 8200</span>, <span class="seriesInfo">DOI 10.17487/RFC8200</span>, <time datetime="2017-07" class="refDate">July 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8200">https://www.rfc-editor.org/info/rfc8200</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9663">[RFC9663]</dt>
      <dd>
<span class="refAuthor">Colitti, L.</span>, <span class="refAuthor">Linkova, J., Ed.</span>, and <span class="refAuthor">X. Ma, Ed.</span>, <span class="refTitle">"Using DHCPv6 Prefix Delegation (DHCPv6-PD) to Allocate Unique IPv6 Prefixes per Client in Large Broadcast Networks"</span>, <span class="seriesInfo">RFC 9663</span>, <span class="seriesInfo">DOI 10.17487/RFC9663</span>, <time datetime="2024-10" class="refDate">October 2024</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9663">https://www.rfc-editor.org/info/rfc9663</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="Acknowledgements">
<section id="appendix-A">
      <h2 id="name-acknowledgements">
<a href="#name-acknowledgements" class="section-name selfRef">Acknowledgements</a>
      </h2>
<p id="appendix-A-1">Thanks to <span class="contact-name">Nick Buraglio</span>, <span class="contact-name">Brian Carpenter</span>, <span class="contact-name">Tim Chown</span>, <span class="contact-name">David Farmer</span>, <span class="contact-name">Fernando Gont</span>, <span class="contact-name">Susan Hares</span>, <span class="contact-name">Mahesh Jethanandani</span>,
      <span class="contact-name">Suresh Krishnan</span>, <span class="contact-name">Ted Lemon</span>,
      <span class="contact-name">Andrew McGregor</span>, <span class="contact-name">Tomek       Mrugalski</span>, <span class="contact-name">Erik Nordmark</span>, <span class="contact-name">Michael Richardson</span>, <span class="contact-name">Patrick Rohr</span>, <span class="contact-name">John Scudder</span>,
      <span class="contact-name">Ole Trøan</span>, <span class="contact-name">Dirk Von Hugo</span>,
      <span class="contact-name">Éric Vyncke</span> and <span class="contact-name">Timothy       Winters</span> for the discussions, reviews, input, and
      contributions.<a href="#appendix-A-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-B">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Lorenzo Colitti</span></div>
<div dir="auto" class="left"><span class="org">Google</span></div>
<div dir="auto" class="left">
<span class="street-address">Shibuya 3-21-3</span>, </div>
<div dir="auto" class="left"><span class="country-name">Japan</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:lorenzo@google.com" class="email">lorenzo@google.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Jen Linkova</span></div>
<div dir="auto" class="left"><span class="org">Google</span></div>
<div dir="auto" class="left"><span class="street-address">1 Darling Island Rd</span></div>
<div dir="auto" class="left">
<span class="locality">Pyrmont</span> <span class="region">NSW</span> <span class="postal-code">2009</span>
</div>
<div dir="auto" class="left"><span class="country-name">Australia</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:furry13@gmail.com" class="email">furry13@gmail.com</a>, <a href="mailto:furry@google.com" class="email">furry@google.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Xiao Ma (<span class="role">editor</span>)</span></div>
<div dir="auto" class="left"><span class="org">Google</span></div>
<div dir="auto" class="left">
<span class="street-address">Shibuya 3-21-3</span>, </div>
<div dir="auto" class="left"><span class="country-name">Japan</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:xiaom@google.com" class="email">xiaom@google.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">David 'equinox' Lamparter</span></div>
<div dir="auto" class="left"><span class="org">NetDEF, Inc.</span></div>
<div dir="auto" class="left">
<span class="postal-code">04229</span> <span class="locality">Leipzig</span>
</div>
<div dir="auto" class="left"><span class="country-name">Germany</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:equinox@diac24.net" class="email">equinox@diac24.net</a>, <a href="mailto:equinox@opensourcerouting.org" class="email">equinox@opensourcerouting.org</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
