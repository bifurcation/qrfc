<!DOCTYPE html>
<html lang="en" class="RFC">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>RFC 9924: Advanced Professional Video</title>
<meta content="Youngkwon Lim" name="author">
<meta content="Minwoo Park" name="author">
<meta content="Madhukar Budagavi" name="author">
<meta content="Rajan Joshi" name="author">
<meta content="Kwang Pyo Choi" name="author">
<meta content="
       This document describes the bitstream format of Advanced Professional Video (APV) and its decoding process. APV is a professional video codec providing visually lossless compression mainly for recording and post production. 
    " name="description">
<meta content="xml2rfc 3.31.0" name="generator">
<meta content="mezzanine codec" name="keyword">
<meta content="visually lossless compression" name="keyword">
<meta content="APV" name="keyword">
<meta content="9924" name="rfc.number">
<!-- Generator version information:
  xml2rfc 3.31.0
    Python 3.9.15
    ConfigArgParse 1.5.3
    google-i18n-address 3.0.0
    intervaltree 3.1.0
    Jinja2 3.1.2
    lxml 5.3.0
    platformdirs 3.8.0
    pycountry 22.3.5
    PyYAML 6.0
    requests 2.28.0
    wcwidth 0.2.5
    weasyprint 65.0
-->
<link href="rfc9924.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necessary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://static.ietf.org/fonts/noto-sans/import.css'); /* Sans-serif */
@import url('https://static.ietf.org/fonts/noto-serif/import.css'); /* Serif (print) */
@import url('https://static.ietf.org/fonts/roboto-mono/import.css'); /* Monospace */

:root {
  --font-sans: 'Noto Sans', Arial, Helvetica, sans-serif;
  --font-serif: 'Noto Serif', 'Times', 'Times New Roman', serif;
  --font-mono: 'Roboto Mono', Courier, 'Courier New', monospace;
}

@viewport {
  zoom: 1.0;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: var(--font-sans);
  line-height: 1.6;
  scroll-behavior: smooth;
  overflow-wrap: break-word;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
@media print {
  svg {
    max-height: 850px;
    max-width: 660px;
  }
}
svg[font-family~="serif" i], svg [font-family~="serif" i] {
  font-family: var(--font-serif);
}
svg[font-family~="sans-serif" i], svg [font-family~="sans-serif" i] {
  font-family: var(--font-sans);
}
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  display: table;
  border: none;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre {
  background-color: #f9f9f9;
  font-family: var(--font-mono);
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
blockquote > *:last-child {
  margin-bottom: 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}
.xref {
  overflow-wrap: normal;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    max-width: 100%;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.refSubseries {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: var(--font-sans);
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  .breakable pre {
    break-inside: auto;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The following is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
.sourcecode pre,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .artwork > pre,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: upper-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background slightly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr {
  break-inside: avoid;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottom margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code, dt tt, dt code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the compact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > blockquote:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div.sourcecode:first-child,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type:only-child {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<link href="https://datatracker.ietf.org/doc/draft-lim-apv-09" rel="prev">
  <link href="https://dx.doi.org/10.17487/rfc9924" rel="alternate">
  <link href="urn:issn:2070-1721" rel="alternate">
  </head>
<body class="xml2rfc">
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 9924</td>
<td class="center">APV</td>
<td class="right">February 2026</td>
</tr></thead>
<tfoot><tr>
<td class="left">Lim, et al.</td>
<td class="center">Informational</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Independent Submission</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a href="https://www.rfc-editor.org/rfc/rfc9924" class="eref">9924</a></dd>
<dt class="label-category">Category:</dt>
<dd class="category">Informational</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2026-02" class="published">February 2026</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">Y. Lim</div>
<div class="org">Samsung Electronics</div>
</div>
<div class="author">
      <div class="author-name">M. Park</div>
<div class="org">Samsung Electronics</div>
</div>
<div class="author">
      <div class="author-name">M. Budagavi</div>
<div class="org">Samsung Electronics</div>
</div>
<div class="author">
      <div class="author-name">R. Joshi</div>
<div class="org">Samsung Electronics</div>
</div>
<div class="author">
      <div class="author-name">K. Choi</div>
<div class="org">Samsung Electronics</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 9924</h1>
<h1 id="title">Advanced Professional Video</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This document describes the bitstream format of Advanced Professional Video (APV) and its decoding process. APV is a professional video codec providing visually lossless compression mainly for recording and post production.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This document is not an Internet Standards Track specification; it is
            published for informational purposes.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
            This is a contribution to the RFC Series, independently of any
            other RFC stream.  The RFC Editor has chosen to publish this
            document at its discretion and makes no statement about its value
            for implementation or deployment.  Documents approved for
            publication by the RFC Editor are not candidates for any level of
            Internet Standard; see Section 2 of RFC 7841.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc9924">https://www.rfc-editor.org/info/rfc9924</a></span>.<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2026 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="auto internal xref">1</a>.  <a href="#name-introduction" class="internal xref">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a href="#section-2" class="auto internal xref">2</a>.  <a href="#name-terms" class="internal xref">Terms</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1" class="keepWithNext"><a href="#section-2.1" class="auto internal xref">2.1</a>.  <a href="#name-terms-and-definitions" class="internal xref">Terms and Definitions</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.2">
                <p id="section-toc.1-1.2.2.2.1" class="keepWithNext"><a href="#section-2.2" class="auto internal xref">2.2</a>.  <a href="#name-abbreviated-terms" class="internal xref">Abbreviated Terms</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="auto internal xref">3</a>.  <a href="#name-conventions-used-in-this-do" class="internal xref">Conventions Used in This Document</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a href="#section-3.1" class="auto internal xref">3.1</a>.  <a href="#name-general" class="internal xref">General</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="auto internal xref">3.2</a>.  <a href="#name-operators" class="internal xref">Operators</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2.2.1">
                    <p id="section-toc.1-1.3.2.2.2.1.1"><a href="#section-3.2.1" class="auto internal xref">3.2.1</a>.  <a href="#name-arithmetic-operators" class="internal xref">Arithmetic Operators</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2.2.2">
                    <p id="section-toc.1-1.3.2.2.2.2.1"><a href="#section-3.2.2" class="auto internal xref">3.2.2</a>.  <a href="#name-bitwise-operators" class="internal xref">Bitwise Operators</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a href="#section-3.3" class="auto internal xref">3.3</a>.  <a href="#name-range-notation" class="internal xref">Range Notation</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3.2.1">
                    <p id="section-toc.1-1.3.2.3.2.1.1"><a href="#section-3.3.1" class="auto internal xref">3.3.1</a>.  <a href="#name-order-of-operations-precede" class="internal xref">Order of Operations Precedence</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.4">
                <p id="section-toc.1-1.3.2.4.1"><a href="#section-3.4" class="auto internal xref">3.4</a>.  <a href="#name-variables-syntax-elements-a" class="internal xref">Variables, Syntax Elements, and Tables</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.5">
                <p id="section-toc.1-1.3.2.5.1"><a href="#section-3.5" class="auto internal xref">3.5</a>.  <a href="#name-processes" class="internal xref">Processes</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="auto internal xref">4</a>.  <a href="#name-formats-and-processes-used-" class="internal xref">Formats and Processes Used in This Document</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="auto internal xref">4.1</a>.  <a href="#name-bitstream-formats" class="internal xref">Bitstream Formats</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="auto internal xref">4.2</a>.  <a href="#name-source-decoded-and-output-f" class="internal xref">Source, Decoded, and Output Frame Formats</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="auto internal xref">4.3</a>.  <a href="#name-partitioning-of-a-frame" class="internal xref">Partitioning of a Frame</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3.2.1">
                    <p id="section-toc.1-1.4.2.3.2.1.1"><a href="#section-4.3.1" class="auto internal xref">4.3.1</a>.  <a href="#name-partitioning-of-a-frame-int" class="internal xref">Partitioning of a Frame into Tiles</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3.2.2">
                    <p id="section-toc.1-1.4.2.3.2.2.1"><a href="#section-4.3.2" class="auto internal xref">4.3.2</a>.  <a href="#name-spatial-or-component-wise-p" class="internal xref">Spatial or Component-Wise Partitioning</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4">
                <p id="section-toc.1-1.4.2.4.1"><a href="#section-4.4" class="auto internal xref">4.4</a>.  <a href="#name-scanning-processes" class="internal xref">Scanning Processes</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4.2.1">
                    <p id="section-toc.1-1.4.2.4.2.1.1"><a href="#section-4.4.1" class="auto internal xref">4.4.1</a>.  <a href="#name-zig-zag-scan" class="internal xref">Zig-Zag Scan</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4.2.2">
                    <p id="section-toc.1-1.4.2.4.2.2.1"><a href="#section-4.4.2" class="auto internal xref">4.4.2</a>.  <a href="#name-inverse-scan" class="internal xref">Inverse Scan</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="auto internal xref">5</a>.  <a href="#name-syntax-and-semantics" class="internal xref">Syntax and Semantics</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="auto internal xref">5.1</a>.  <a href="#name-method-of-specifying-syntax" class="internal xref">Method of Specifying Syntax</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="auto internal xref">5.2</a>.  <a href="#name-syntax-functions-and-descri" class="internal xref">Syntax Functions and Descriptors</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.1">
                    <p id="section-toc.1-1.5.2.2.2.1.1"><a href="#section-5.2.1" class="auto internal xref">5.2.1</a>.  <a href="#name-byte_aligned" class="internal xref">byte_aligned()</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.2">
                    <p id="section-toc.1-1.5.2.2.2.2.1"><a href="#section-5.2.2" class="auto internal xref">5.2.2</a>.  <a href="#name-more_data_in_tile" class="internal xref">more_data_in_tile()</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.3">
                    <p id="section-toc.1-1.5.2.2.2.3.1"><a href="#section-5.2.3" class="auto internal xref">5.2.3</a>.  <a href="#name-next_bitsn" class="internal xref">next_bits(n)</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.4">
                    <p id="section-toc.1-1.5.2.2.2.4.1"><a href="#section-5.2.4" class="auto internal xref">5.2.4</a>.  <a href="#name-read_bitsn" class="internal xref">read_bits(n)</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.5">
                    <p id="section-toc.1-1.5.2.2.2.5.1"><a href="#section-5.2.5" class="auto internal xref">5.2.5</a>.  <a href="#name-syntax-element-processing-f" class="internal xref">Syntax Element Processing Functions</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3">
                <p id="section-toc.1-1.5.2.3.1"><a href="#section-5.3" class="auto internal xref">5.3</a>.  <a href="#name-list-of-syntax-and-semantic" class="internal xref">List of Syntax and Semantics</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3.2.1">
                    <p id="section-toc.1-1.5.2.3.2.1.1"><a href="#section-5.3.1" class="auto internal xref">5.3.1</a>.  <a href="#name-access-unit" class="internal xref">Access Unit</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3.2.2">
                    <p id="section-toc.1-1.5.2.3.2.2.1"><a href="#section-5.3.2" class="auto internal xref">5.3.2</a>.  <a href="#name-primitive-bitstream-unit" class="internal xref">Primitive Bitstream Unit</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3.2.3">
                    <p id="section-toc.1-1.5.2.3.2.3.1"><a href="#section-5.3.3" class="auto internal xref">5.3.3</a>.  <a href="#name-primitive-bitstream-unit-he" class="internal xref">Primitive Bitstream Unit Header</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3.2.4">
                    <p id="section-toc.1-1.5.2.3.2.4.1"><a href="#section-5.3.4" class="auto internal xref">5.3.4</a>.  <a href="#name-frame" class="internal xref">Frame</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3.2.5">
                    <p id="section-toc.1-1.5.2.3.2.5.1"><a href="#section-5.3.5" class="auto internal xref">5.3.5</a>.  <a href="#name-frame-header" class="internal xref">Frame Header</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3.2.6">
                    <p id="section-toc.1-1.5.2.3.2.6.1"><a href="#section-5.3.6" class="auto internal xref">5.3.6</a>.  <a href="#name-frame-information" class="internal xref">Frame Information</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3.2.7">
                    <p id="section-toc.1-1.5.2.3.2.7.1"><a href="#section-5.3.7" class="auto internal xref">5.3.7</a>.  <a href="#name-quantization-matrix" class="internal xref">Quantization Matrix</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3.2.8">
                    <p id="section-toc.1-1.5.2.3.2.8.1"><a href="#section-5.3.8" class="auto internal xref">5.3.8</a>.  <a href="#name-tile-info" class="internal xref">Tile Info</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3.2.9">
                    <p id="section-toc.1-1.5.2.3.2.9.1"><a href="#section-5.3.9" class="auto internal xref">5.3.9</a>.  <a href="#name-access-unit-information" class="internal xref">Access Unit Information</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3.2.10">
                    <p id="section-toc.1-1.5.2.3.2.10.1"><a href="#section-5.3.10" class="auto internal xref">5.3.10</a>. <a href="#name-metadata" class="internal xref">Metadata</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3.2.11">
                    <p id="section-toc.1-1.5.2.3.2.11.1"><a href="#section-5.3.11" class="auto internal xref">5.3.11</a>. <a href="#name-filler" class="internal xref">Filler</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3.2.12">
                    <p id="section-toc.1-1.5.2.3.2.12.1"><a href="#section-5.3.12" class="auto internal xref">5.3.12</a>. <a href="#name-tile" class="internal xref">Tile</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3.2.13">
                    <p id="section-toc.1-1.5.2.3.2.13.1"><a href="#section-5.3.13" class="auto internal xref">5.3.13</a>. <a href="#name-tile-header" class="internal xref">Tile Header</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3.2.14">
                    <p id="section-toc.1-1.5.2.3.2.14.1"><a href="#section-5.3.14" class="auto internal xref">5.3.14</a>. <a href="#name-tile-data" class="internal xref">Tile Data</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3.2.15">
                    <p id="section-toc.1-1.5.2.3.2.15.1"><a href="#section-5.3.15" class="auto internal xref">5.3.15</a>. <a href="#name-macroblock-layer" class="internal xref">Macroblock Layer</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3.2.16">
                    <p id="section-toc.1-1.5.2.3.2.16.1"><a href="#section-5.3.16" class="auto internal xref">5.3.16</a>. <a href="#name-ac-coefficient-coding" class="internal xref">AC Coefficient Coding</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3.2.17">
                    <p id="section-toc.1-1.5.2.3.2.17.1"><a href="#section-5.3.17" class="auto internal xref">5.3.17</a>. <a href="#name-byte-alignment" class="internal xref">Byte Alignment</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="auto internal xref">6</a>.  <a href="#name-decoding-process" class="internal xref">Decoding Process</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="auto internal xref">6.1</a>.  <a href="#name-mb-decoding-process" class="internal xref">MB Decoding Process</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="auto internal xref">6.2</a>.  <a href="#name-block-reconstruction-proces" class="internal xref">Block Reconstruction Process</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3">
                <p id="section-toc.1-1.6.2.3.1"><a href="#section-6.3" class="auto internal xref">6.3</a>.  <a href="#name-scaling-and-transformation-" class="internal xref">Scaling and Transformation Process</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3.2.1">
                    <p id="section-toc.1-1.6.2.3.2.1.1"><a href="#section-6.3.1" class="auto internal xref">6.3.1</a>.  <a href="#name-scaling-process-for-transfo" class="internal xref">Scaling Process for Transform Coefficients</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3.2.2">
                    <p id="section-toc.1-1.6.2.3.2.2.1"><a href="#section-6.3.2" class="auto internal xref">6.3.2</a>.  <a href="#name-process-for-scaled-transfor" class="internal xref">Process for Scaled Transform Coefficients</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="auto internal xref">7</a>.  <a href="#name-parsing-process" class="internal xref">Parsing Process</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="auto internal xref">7.1</a>.  <a href="#name-process-for-syntax-element-" class="internal xref">Process for Syntax Element Type h(v)</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1.2.1">
                    <p id="section-toc.1-1.7.2.1.2.1.1"><a href="#section-7.1.1" class="auto internal xref">7.1.1</a>.  <a href="#name-process-for-abs_dc_coeff_di" class="internal xref">Process for abs_dc_coeff_diff</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1.2.2">
                    <p id="section-toc.1-1.7.2.1.2.2.1"><a href="#section-7.1.2" class="auto internal xref">7.1.2</a>.  <a href="#name-process-for-coeff_zero_run" class="internal xref">Process for coeff_zero_run</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1.2.3">
                    <p id="section-toc.1-1.7.2.1.2.3.1"><a href="#section-7.1.3" class="auto internal xref">7.1.3</a>.  <a href="#name-process-for-abs_ac_coeff_mi" class="internal xref">Process for abs_ac_coeff_minus1</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1.2.4">
                    <p id="section-toc.1-1.7.2.1.2.4.1"><a href="#section-7.1.4" class="auto internal xref">7.1.4</a>.  <a href="#name-process-for-variable-length" class="internal xref">Process for Variable-Length Codes</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a href="#section-7.2" class="auto internal xref">7.2</a>.  <a href="#name-codeword-generation-process" class="internal xref">Codeword Generation Process for h(v) (Informative)</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2.2.1">
                    <p id="section-toc.1-1.7.2.2.2.1.1"><a href="#section-7.2.1" class="auto internal xref">7.2.1</a>.  <a href="#name-process-for-abs_dc_coeff_dif" class="internal xref">Process for abs_dc_coeff_diff</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2.2.2">
                    <p id="section-toc.1-1.7.2.2.2.2.1"><a href="#section-7.2.2" class="auto internal xref">7.2.2</a>.  <a href="#name-process-for-coeff_zero_run-2" class="internal xref">Process for coeff_zero_run</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2.2.3">
                    <p id="section-toc.1-1.7.2.2.2.3.1"><a href="#section-7.2.3" class="auto internal xref">7.2.3</a>.  <a href="#name-process-for-abs_ac_coeff_min" class="internal xref">Process for abs_ac_coeff_minus1</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2.2.4">
                    <p id="section-toc.1-1.7.2.2.2.4.1"><a href="#section-7.2.4" class="auto internal xref">7.2.4</a>.  <a href="#name-process-for-variable-length-" class="internal xref">Process for Variable-Length Codes</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="auto internal xref">8</a>.  <a href="#name-metadata-information" class="internal xref">Metadata Information</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a href="#section-8.1" class="auto internal xref">8.1</a>.  <a href="#name-metadata-payload" class="internal xref">Metadata Payload</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1"><a href="#section-8.2" class="auto internal xref">8.2</a>.  <a href="#name-list-of-metadata-syntax-and" class="internal xref">List of Metadata Syntax and Semantics</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2.2.1">
                    <p id="section-toc.1-1.8.2.2.2.1.1"><a href="#section-8.2.1" class="auto internal xref">8.2.1</a>.  <a href="#name-filler-metadata" class="internal xref">Filler Metadata</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2.2.2">
                    <p id="section-toc.1-1.8.2.2.2.2.1"><a href="#section-8.2.2" class="auto internal xref">8.2.2</a>.  <a href="#name-recommendation-itu-t-t35-me" class="internal xref">Recommendation ITU-T T.35 Metadata</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2.2.3">
                    <p id="section-toc.1-1.8.2.2.2.3.1"><a href="#section-8.2.3" class="auto internal xref">8.2.3</a>.  <a href="#name-mastering-display-color-vol" class="internal xref">Mastering Display Color Volume Metadata</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2.2.4">
                    <p id="section-toc.1-1.8.2.2.2.4.1"><a href="#section-8.2.4" class="auto internal xref">8.2.4</a>.  <a href="#name-content-light-level-informa" class="internal xref">Content Light-Level Information Metadata</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2.2.5">
                    <p id="section-toc.1-1.8.2.2.2.5.1"><a href="#section-8.2.5" class="auto internal xref">8.2.5</a>.  <a href="#name-user-defined-metadata" class="internal xref">User-Defined Metadata</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2.2.6">
                    <p id="section-toc.1-1.8.2.2.2.6.1"><a href="#section-8.2.6" class="auto internal xref">8.2.6</a>.  <a href="#name-undefined-metadata" class="internal xref">Undefined Metadata</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="auto internal xref">9</a>.  <a href="#name-profiles-levels-and-bands" class="internal xref">Profiles, Levels, and Bands</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.1">
                <p id="section-toc.1-1.9.2.1.1"><a href="#section-9.1" class="auto internal xref">9.1</a>.  <a href="#name-overview-of-profiles-levels" class="internal xref">Overview of Profiles, Levels, and Bands</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2">
                <p id="section-toc.1-1.9.2.2.1"><a href="#section-9.2" class="auto internal xref">9.2</a>.  <a href="#name-requirements-on-video-decod" class="internal xref">Requirements on Video Decoder Capability</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.3">
                <p id="section-toc.1-1.9.2.3.1"><a href="#section-9.3" class="auto internal xref">9.3</a>.  <a href="#name-profiles" class="internal xref">Profiles</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.3.2.1">
                    <p id="section-toc.1-1.9.2.3.2.1.1"><a href="#section-9.3.1" class="auto internal xref">9.3.1</a>.  <a href="#name-general-3" class="internal xref">General</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.3.2.2">
                    <p id="section-toc.1-1.9.2.3.2.2.1"><a href="#section-9.3.2" class="auto internal xref">9.3.2</a>.  <a href="#name-422-10-profile" class="internal xref">422-10 Profile</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.3.2.3">
                    <p id="section-toc.1-1.9.2.3.2.3.1"><a href="#section-9.3.3" class="auto internal xref">9.3.3</a>.  <a href="#name-422-12-profile" class="internal xref">422-12 Profile</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.3.2.4">
                    <p id="section-toc.1-1.9.2.3.2.4.1"><a href="#section-9.3.4" class="auto internal xref">9.3.4</a>.  <a href="#name-444-10-profile" class="internal xref">444-10 Profile</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.3.2.5">
                    <p id="section-toc.1-1.9.2.3.2.5.1"><a href="#section-9.3.5" class="auto internal xref">9.3.5</a>.  <a href="#name-444-12-profile" class="internal xref">444-12 Profile</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.3.2.6">
                    <p id="section-toc.1-1.9.2.3.2.6.1"><a href="#section-9.3.6" class="auto internal xref">9.3.6</a>.  <a href="#name-4444-10-profile" class="internal xref">4444-10 Profile</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.3.2.7">
                    <p id="section-toc.1-1.9.2.3.2.7.1"><a href="#section-9.3.7" class="auto internal xref">9.3.7</a>.  <a href="#name-4444-12-profile" class="internal xref">4444-12 Profile</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.3.2.8">
                    <p id="section-toc.1-1.9.2.3.2.8.1"><a href="#section-9.3.8" class="auto internal xref">9.3.8</a>.  <a href="#name-400-10-profile" class="internal xref">400-10 Profile</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.4">
                <p id="section-toc.1-1.9.2.4.1"><a href="#section-9.4" class="auto internal xref">9.4</a>.  <a href="#name-levels-and-bands" class="internal xref">Levels and Bands</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.4.2.1">
                    <p id="section-toc.1-1.9.2.4.2.1.1"><a href="#section-9.4.1" class="auto internal xref">9.4.1</a>.  <a href="#name-general-4" class="internal xref">General</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.4.2.2">
                    <p id="section-toc.1-1.9.2.4.2.2.1"><a href="#section-9.4.2" class="auto internal xref">9.4.2</a>.  <a href="#name-limits-of-levels-and-bands" class="internal xref">Limits of Levels and Bands</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="auto internal xref">10</a>. <a href="#name-security-considerations" class="internal xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="auto internal xref">11</a>. <a href="#name-iana-considerations" class="internal xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#section-12" class="auto internal xref">12</a>. <a href="#name-references" class="internal xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.1">
                <p id="section-toc.1-1.12.2.1.1"><a href="#section-12.1" class="auto internal xref">12.1</a>.  <a href="#name-normative-references" class="internal xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.2">
                <p id="section-toc.1-1.12.2.2.1"><a href="#section-12.2" class="auto internal xref">12.2</a>.  <a href="#name-informative-references" class="internal xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#appendix-A" class="auto internal xref">Appendix A</a>.  <a href="#name-raw-bitstream-format" class="internal xref">Raw Bitstream Format</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a href="#appendix-B" class="auto internal xref">Appendix B</a>.  <a href="#name-apv-implementations" class="internal xref">APV Implementations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.1">
                <p id="section-toc.1-1.14.2.1.1"><a href="#appendix-B.1" class="auto internal xref">B.1</a>.  <a href="#name-openapv-open-source-project" class="internal xref">OpenAPV Open Source Project</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.2">
                <p id="section-toc.1-1.14.2.2.1"><a href="#appendix-B.2" class="auto internal xref">B.2</a>.  <a href="#name-android-open-source-project" class="internal xref">Android Open Source Project</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.3">
                <p id="section-toc.1-1.14.2.3.1"><a href="#appendix-B.3" class="auto internal xref">B.3</a>.  <a href="#name-ffmpeg-open-source-project" class="internal xref">FFmpeg Open Source Project</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15">
            <p id="section-toc.1-1.15.1"><a href="#appendix-C" class="auto internal xref"></a><a href="#name-authors-addresses" class="internal xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">This document defines the bitstream format  and decoding process for the Advanced Professional Video (APV) codec. The APV codec is a professional video codec that was developed in response to the need for professional-level, high-quality video recording and post production. The primary purpose of the APV codec is for use in professional video recording and editing workflows for various types of content.  This specification is neither the product of the IETF nor a consensus view of the community.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">The APV codec supports the following features:<a href="#section-1-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1-3.1">
          <p id="section-1-3.1.1">Perceptually lossless video quality that is close to the original, uncompressed quality;<a href="#section-1-3.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-1-3.2">
          <p id="section-1-3.2.1">Low complexity and high throughput intra frame only coding without inter frame coding;<a href="#section-1-3.2.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-1-3.3">
          <p id="section-1-3.3.1">Intra frame coding without prediction between pixel values but with prediction between transformed values for low delay encoding;<a href="#section-1-3.3.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-1-3.4">
          <p id="section-1-3.4.1">High bit rates of up to a few Gbps for 2K, 4K, and 8K resolution content, enabled by a lightweight entropy coding scheme;<a href="#section-1-3.4.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-1-3.5">
          <p id="section-1-3.5.1">Frame tiling for immersive content and for enabling parallel encoding and decoding;<a href="#section-1-3.5.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-1-3.6">
          <p id="section-1-3.6.1">Various chroma sampling formats from 4:0:0 to 4:4:4:4, and bit depths from 10 to 16 (Note: Only the profiles supporting 10 bits and 12 bits are currently defined);<a href="#section-1-3.6.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-1-3.7">
          <p id="section-1-3.7.1">The ability to decode and re-encode multiple times without severe visual quality degradation; and<a href="#section-1-3.7.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-1-3.8">
          <p id="section-1-3.8.1">Various metadata including HDR10/10+ and user-defined formats.<a href="#section-1-3.8.1" class="pilcrow">¶</a></p>
</li>
      </ul>
</section>
</div>
<div id="terms">
<section id="section-2">
      <h2 id="name-terms">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-terms" class="section-name selfRef">Terms</a>
      </h2>
<div id="terms-and-definitions">
<section id="section-2.1">
        <h3 id="name-terms-and-definitions">
<a href="#section-2.1" class="section-number selfRef">2.1. </a><a href="#name-terms-and-definitions" class="section-name selfRef">Terms and Definitions</a>
        </h3>
<span class="break"></span><dl class="dlParallel" id="section-2.1-1">
          <dt id="section-2.1-1.1">access unit (AU):</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.2">a collection of primitive bitstream
          units (PBU) including various types of frames, metadata, filler, and
          access unit information, associated with a specific time<a href="#section-2.1-1.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.3">band:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.4">a defined set of constraints on the value of the
          maximum coded data rate of each level<a href="#section-2.1-1.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.5">block:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.6">MxN (M-column by N-row) array of samples, or an MxN array of transform coefficients<a href="#section-2.1-1.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.7">byte-aligned:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.8">a position in a bitstream that is an
          integer multiple of 8 bits from the position of the first bit in the
          bitstream<a href="#section-2.1-1.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.9">chroma:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.10">a sample array or single sample representing one
          of the two color difference signals related to the primary colors,
          represented by the symbols Cb and Cr in 4:2:2 or 4:4:4 color
          format<a href="#section-2.1-1.10" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.11">coded frame:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.12">a coded representation of a frame
          containing all macroblocks of the frame<a href="#section-2.1-1.12" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.13">coded representation:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.14">a data element as represented in its coded form<a href="#section-2.1-1.14" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.15">component:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.16">an array or a single sample from one of the
          three arrays (luma and two chroma) that compose a frame in 4:2:2, or
          4:4:4 color format, or an array or a single sample from an array
          that compose a frame in 4:0:0 color format, or an array or a single
          sample from one of the four arrays that compose a frame in 4:4:4:4
          color format.<a href="#section-2.1-1.16" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.17">decoded frame:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.18">a frame derived by decoding a coded frame<a href="#section-2.1-1.18" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.19">decoder:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.20">an embodiment of a decoding process<a href="#section-2.1-1.20" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.21">decoding process:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.22">a process specified that reads a
          bitstream and derives decoded frames from it<a href="#section-2.1-1.22" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.23">encoder:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.24">an embodiment of an encoding process<a href="#section-2.1-1.24" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.25">encoding process:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.26">a process that produces a bitstream conforming to this document<a href="#section-2.1-1.26" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.27">flag:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.28">a variable or single-bit syntax element that can take one of the two possible values: 0 and 1<a href="#section-2.1-1.28" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.29">frame:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.30">an array of luma samples and two corresponding arrays of chroma samples in 4:2:2 and 4:4:4 color format, or an array of samples in 4:0:0 color format, or four arrays of samples in 4:4:4:4 color format<a href="#section-2.1-1.30" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.31">level:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.32">a defined set of constraints on the values that are taken by the syntax elements and variables of this document, or the value of a transform coefficient prior to scaling<a href="#section-2.1-1.32" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.33">luma:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.34">a sample array or single sample representing the monochrome signal related to the primary colors, represented by the symbol or subscript Y or L<a href="#section-2.1-1.34" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.35">macroblock (MB):</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.36">a square block of luma samples and two corresponding blocks of chroma samples of a frame in 4:2:2 or 4:4:4 color format, or a square block of samples of a frame in 4:0:0 color format, or four square blocks of samples of a frame in 4:4:4:4 color format<a href="#section-2.1-1.36" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.37">metadata:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.38">data describing various characteristics related to a bitstream without directly affecting the decoding process of it.<a href="#section-2.1-1.38" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.39">partitioning:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.40">a division of a set into subsets such that each element of the set is in exactly one of the subsets<a href="#section-2.1-1.40" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.41">prediction:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.42">an embodiment of the prediction process<a href="#section-2.1-1.42" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.43">prediction process:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.44">use of a predictor to provide an estimate of the data element currently being decoded<a href="#section-2.1-1.44" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.45">predictor:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.46">a combination of specified values or previously decoded data elements used in the decoding process of subsequent data elements<a href="#section-2.1-1.46" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.47">primitive bitstream unit (PBU):</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.48">a data structure to construct an access unit with frame and metadata<a href="#section-2.1-1.48" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.49">profile:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.50">a specified subset of the syntax of this document<a href="#section-2.1-1.50" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.51">quantization parameter (QP):</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.52">a variable used by the decoding process for the scaling value of transform coefficients<a href="#section-2.1-1.52" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.53">raster scan:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.54">a mapping of a rectangular two-dimensional pattern to a one-dimensional pattern such that the first entries in the one-dimensional pattern are from the top row of the two-dimensional pattern scanned from left to right, followed by the second, third, etc., rows of the pattern each scanned from left to right<a href="#section-2.1-1.54" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.55">raw bitstream:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.56">an encapsulation of a sequence of access units where a field indicating the size of an access unit precedes each access unit as defined in <a href="#appendix-rawbitstream" class="auto internal xref">Appendix A</a><a href="#section-2.1-1.56" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.57">source:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.58">a term used to describe the video material or some of its attributes before the encoding process<a href="#section-2.1-1.58" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.59">syntax element:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.60">an element of data represented in the bitstream<a href="#section-2.1-1.60" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.61">syntax structure:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.62">zero or more syntax elements present together in a bitstream in a specified order<a href="#section-2.1-1.62" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.63">tile:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.64">a rectangular region of MBs within a particular tile column and a particular tile row in a frame<a href="#section-2.1-1.64" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.65">tile column:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.66">a rectangular region of MBs having a height equal to the height of the frame and width specified by syntax elements in the frame header<a href="#section-2.1-1.66" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.67">tile row:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.68">a rectangular region of MBs having a height specified by syntax elements in the frame header and a width equal to the width of the frame<a href="#section-2.1-1.68" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.69">tile scan:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.70">a specific sequential ordering of MBs partitioning a frame in which the MBs are ordered consecutively in MB raster scan in a tile and the tiles in a frame are ordered consecutively in a raster scan of the tiles of the frame<a href="#section-2.1-1.70" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.71">transform coefficient:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.72">a scalar quantity, considered to be in a frequency domain, that is associated with a particular one-dimensional or two-dimensional index<a href="#section-2.1-1.72" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="abbreviated-terms">
<section id="section-2.2">
        <h3 id="name-abbreviated-terms">
<a href="#section-2.2" class="section-number selfRef">2.2. </a><a href="#name-abbreviated-terms" class="section-name selfRef">Abbreviated Terms</a>
        </h3>
<span class="break"></span><dl class="dlParallel" id="section-2.2-1">
          <dt id="section-2.2-1.1">LSB:</dt>
          <dd style="margin-left: 1.5em" id="section-2.2-1.2">least significant bit<a href="#section-2.2-1.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-1.3">MSB:</dt>
          <dd style="margin-left: 1.5em" id="section-2.2-1.4">most significant bit<a href="#section-2.2-1.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-1.5">RGB:</dt>
          <dd style="margin-left: 1.5em" id="section-2.2-1.6">Red, Green and Blue<a href="#section-2.2-1.6" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
<div id="conventions">
<section id="section-3">
      <h2 id="name-conventions-used-in-this-do">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-conventions-used-in-this-do" class="section-name selfRef">Conventions Used in This Document</a>
      </h2>
<div id="general">
<section id="section-3.1">
        <h3 id="name-general">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-general" class="section-name selfRef">General</a>
        </h3>
<p id="section-3.1-1">
    The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>",
    "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>",
    "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>",
    "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
    "<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be
    interpreted as described in BCP 14 <span>[<a href="#RFC2119" class="cite xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="cite xref">RFC8174</a>]</span> when, and only when, they appear in all capitals, as
    shown here.<a href="#section-3.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="operators">
<section id="section-3.2">
        <h3 id="name-operators">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-operators" class="section-name selfRef">Operators</a>
        </h3>
<p id="section-3.2-1">The operators and the order of precedence are the same as used in the C programming language <span>[<a href="#ISO9899" class="cite xref">ISO9899</a>]</span>. However, there are some exceptions for the operators described in the <a href="#arith-operator" class="auto internal xref">Section 3.2.1</a> and <a href="#bit-operator" class="auto internal xref">Section 3.2.2</a>, which follows widely used industry practices for video codecs.<a href="#section-3.2-1" class="pilcrow">¶</a></p>
<div id="arith-operator">
<section id="section-3.2.1">
          <h4 id="name-arithmetic-operators">
<a href="#section-3.2.1" class="section-number selfRef">3.2.1. </a><a href="#name-arithmetic-operators" class="section-name selfRef">Arithmetic Operators</a>
          </h4>
<span class="break"></span><dl class="dlNewline" id="section-3.2.1-1">
            <dt id="section-3.2.1-1.1">//</dt>
            <dd style="margin-left: 1.5em" id="section-3.2.1-1.2">an integer division with rounding of the result toward
     zero. For example, 7//4 and -7//-4 are rounded to 1 and -7//4 and
     7//-4 are rounded to -1<a href="#section-3.2.1-1.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-3.2.1-1.3">/ or div(x,y)</dt>
            <dd style="margin-left: 1.5em" id="section-3.2.1-1.4">a division in mathematical equations where no truncation or rounding is intended<a href="#section-3.2.1-1.4" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-3.2.1-1.5">min(x,y)</dt>
            <dd style="margin-left: 1.5em" id="section-3.2.1-1.6">the minimum value of the values x and y<a href="#section-3.2.1-1.6" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-3.2.1-1.7">max(x,y)</dt>
            <dd style="margin-left: 1.5em" id="section-3.2.1-1.8">the maximum value of the values x and y<a href="#section-3.2.1-1.8" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-3.2.1-1.9">ceil(x)</dt>
            <dd style="margin-left: 1.5em" id="section-3.2.1-1.10">the smallest integer value that is larger than or equal to x<a href="#section-3.2.1-1.10" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-3.2.1-1.11">clip(x,y,z)</dt>
            <dd style="margin-left: 1.5em" id="section-3.2.1-1.12">clip(x,y,z)=max(x,min(z,y))<a href="#section-3.2.1-1.12" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-3.2.1-1.13">sum (i=x, y, f(i))</dt>
            <dd style="margin-left: 1.5em" id="section-3.2.1-1.14">a summation of f(i) with i taking all integer values from x up to and including y<a href="#section-3.2.1-1.14" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-3.2.1-1.15">log2(x)</dt>
            <dd style="margin-left: 1.5em" id="section-3.2.1-1.16">the base-2 logarithm of x<a href="#section-3.2.1-1.16" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
<div id="bit-operator">
<section id="section-3.2.2">
          <h4 id="name-bitwise-operators">
<a href="#section-3.2.2" class="section-number selfRef">3.2.2. </a><a href="#name-bitwise-operators" class="section-name selfRef">Bitwise Operators</a>
          </h4>
<span class="break"></span><dl class="dlNewline" id="section-3.2.2-1">
            <dt id="section-3.2.2-1.1">&amp; (bitwise "and")</dt>
            <dd style="margin-left: 1.5em" id="section-3.2.2-1.2">When operating on integer arguments, operates on a two's complement representation of the integer value. When operating on arguments with unequal bit depths, the bit depths are equalized by adding zeros in significant positions to the argument with lower bit depth.<a href="#section-3.2.2-1.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-3.2.2-1.3">| (bitwise "or")</dt>
            <dd style="margin-left: 1.5em" id="section-3.2.2-1.4">When operating on integer arguments, operates on a two's complement representation of the integer value. When operating on arguments with unequal bit depths, the bit depths are equalized by adding zeros in significant positions to the argument with lower bit depth.<a href="#section-3.2.2-1.4" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-3.2.2-1.5">x &gt;&gt; y</dt>
            <dd style="margin-left: 1.5em" id="section-3.2.2-1.6">arithmetic right shift of a two's complement integer representation of x by y binary digits. This function is defined only for non-negative integer values of y. Bits shifted into the most significant bits (MSBs) as a result of the right shift have a value equal to the MSB of x prior to the shift operation.<a href="#section-3.2.2-1.6" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-3.2.2-1.7">x &lt;&lt; y</dt>
            <dd style="margin-left: 1.5em" id="section-3.2.2-1.8">arithmetic left shift of a two's complement integer representation of x by y binary digits. This function is defined only for non-negative integer values of y. Bits shifted into the least significant bits (LSBs) as a result of the left shift have a value equal to 0.<a href="#section-3.2.2-1.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
<div id="range-notation">
<section id="section-3.3">
        <h3 id="name-range-notation">
<a href="#section-3.3" class="section-number selfRef">3.3. </a><a href="#name-range-notation" class="section-name selfRef">Range Notation</a>
        </h3>
<span class="break"></span><dl class="dlNewline" id="section-3.3-1">
          <dt id="section-3.3-1.1">x = y..z</dt>
          <dd style="margin-left: 1.5em" id="section-3.3-1.2">x takes on integer values starting from y to z, inclusive, with x, y, and z being integer numbers and z being greater than y.<a href="#section-3.3-1.2" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<div id="order-of-operations-precedence">
<section id="section-3.3.1">
          <h4 id="name-order-of-operations-precede">
<a href="#section-3.3.1" class="section-number selfRef">3.3.1. </a><a href="#name-order-of-operations-precede" class="section-name selfRef">Order of Operations Precedence</a>
          </h4>
<p id="section-3.3.1-1">When order of precedence is not indicated explicitly by use of parentheses, operations are evaluated in the following order.<a href="#section-3.3.1-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.3.1-2.1">
              <p id="section-3.3.1-2.1.1">Operations of a higher precedence are evaluated before any operation of a lower precedence. <a href="#_table-operation_order" class="auto internal xref">Table 1</a> specifies the precedence of operations from highest to lowest; operations closer to the top of the table indicate a higher precedence.<a href="#section-3.3.1-2.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-3.3.1-2.2">
              <p id="section-3.3.1-2.2.1">Operations of the same precedence are evaluated sequentially from left to right.<a href="#section-3.3.1-2.2.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<span id="name-operation-precedence-from-h"></span><div id="_table-operation_order">
<table class="center" id="table-1">
            <caption>
<a href="#table-1" class="selfRef">Table 1</a>:
<a href="#name-operation-precedence-from-h" class="selfRef">Operation precedence from highest (top of the table) to lowest (bottom of the table)</a>
            </caption>
<thead>
              <tr>
                <th class="text-left" rowspan="1" colspan="1">operations (with operands x, y, and z)</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">"x++", "x--"</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">"!x", "-x" (as a unary prefix operator)</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">x^y (power)</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">"x * y", "x / y", "x // y", "x % y"</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">"x + y", "x - y", "sum (i=x, y, f(i))"</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">"x &lt;&lt; y", "x &gt;&gt; y"</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">"x &lt; y", "x &lt;= y", "x &gt; y", "x &gt;= y"</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">"x == y", "x != y"</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">"x &amp; y"</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">"x | y"</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">"x &amp;&amp; y"</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">"x || y"</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">"x ? y : z"</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">"x..y"</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">"x = y", "x += y", "x -= y"</td>
              </tr>
            </tbody>
          </table>
</div>
</section>
</div>
</section>
</div>
<div id="variables-syntax-elements-and-tables">
<section id="section-3.4">
        <h3 id="name-variables-syntax-elements-a">
<a href="#section-3.4" class="section-number selfRef">3.4. </a><a href="#name-variables-syntax-elements-a" class="section-name selfRef">Variables, Syntax Elements, and Tables</a>
        </h3>
<p id="section-3.4-1">Each syntax element is described by its name in all lowercase letters and its type is provided next to the syntax code in each row. Each syntax element and multi-byte integers are written in big endian format. The decoding process behaves according to the value of the syntax element and to the values of previously decoded syntax elements.<a href="#section-3.4-1" class="pilcrow">¶</a></p>
<p id="section-3.4-2">In some cases, the syntax tables may use the values of other variables derived from syntax elements values. Such variables appear in the syntax tables or text, named by a mixture of lower case and uppercase letters and without any underscore characters. Variables with names starting with an uppercase letter are derived for the decoding of the current syntax structure and all dependent syntax structures. Variables with names starting with an uppercase letter may be used in the decoding process for later syntax structures without mentioning the originating syntax structure of the variable. Variables with names starting with a lowercase letter are only used within the section in which they are derived.<a href="#section-3.4-2" class="pilcrow">¶</a></p>
<p id="section-3.4-3">Functions that specify properties of the current position in the bitstream are referred to as syntax functions. These functions are specified in <a href="#syntax-func" class="auto internal xref">Section 5.2</a> and assume the existence of a bitstream pointer with an indication of the position of the next bit to be read by the decoding process from the bitstream.<a href="#section-3.4-3" class="pilcrow">¶</a></p>
<p id="section-3.4-4">A one-dimensional array is referred to as a list. A two-dimensional array is referred to as a matrix. Arrays can either be syntax elements or variables. Square brackets are used for the indexing of arrays. In reference to a visual depiction of a matrix, the first square bracket is used as a column (horizontal) index and the second square bracket is used as a row (vertical) index.<a href="#section-3.4-4" class="pilcrow">¶</a></p>
<p id="section-3.4-5">A specification of values of the entries in rows and columns of an array may be denoted by {{...}{...}}, where each inner pair of brackets specifies the values of the elements within a row in increasing column order and the rows are ordered in increasing row order. Thus, setting a matrix s equal to {{1 6}{4 9}} specifies that s[0][0] is set equal to 1, s[1][0] is set equal to 6, s[0][1] is set equal to 4, and s[1][1] is set equal to 9.<a href="#section-3.4-5" class="pilcrow">¶</a></p>
<p id="section-3.4-6">Binary notation is indicated by enclosing the string of bit values in single quote marks. For example, '0b01000001' represents an eight-bit string having only its second and its last bits (counted from the most to the least significant bit) equal to 1.<a href="#section-3.4-6" class="pilcrow">¶</a></p>
<p id="section-3.4-7">Hexadecimal notation, indicated by prefixing the hexadecimal number by "0x", may be used instead of binary notation when the number of bits is an integer multiple of 4. For example, 0x41 represents an eight-bit string having only its second and its last bits (counted from the most to the least significant bit) equal to 1.<a href="#section-3.4-7" class="pilcrow">¶</a></p>
<p id="section-3.4-8">A value equal to 0 represents a FALSE condition in a test statement. The value TRUE is represented by any value different from zero.<a href="#section-3.4-8" class="pilcrow">¶</a></p>
</section>
</div>
<div id="processes">
<section id="section-3.5">
        <h3 id="name-processes">
<a href="#section-3.5" class="section-number selfRef">3.5. </a><a href="#name-processes" class="section-name selfRef">Processes</a>
        </h3>
<p id="section-3.5-1">Processes are used to describe the decoding of syntax elements. A process has a separate specification and invoking.
When invoking a process, the assignment of variables is specified as follows:<a href="#section-3.5-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.5-2.1">
            <p id="section-3.5-2.1.1">If the variables at the invoking and the process specification do not have the same name, the variables are explicitly assigned to lower case input or output variables of the process specification.<a href="#section-3.5-2.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-3.5-2.2">
            <p id="section-3.5-2.2.1">Otherwise (the variables at the invoking and the process specification have the same name), the assignment is implied.<a href="#section-3.5-2.2.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-3.5-3">In the specification of a process, a specific coding block is referred to by the variable name having a value equal to the address of the specific coding block.<a href="#section-3.5-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="Formats">
<section id="section-4">
      <h2 id="name-formats-and-processes-used-">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-formats-and-processes-used-" class="section-name selfRef">Formats and Processes Used in This Document</a>
      </h2>
<div id="bitstream-formats">
<section id="section-4.1">
        <h3 id="name-bitstream-formats">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-bitstream-formats" class="section-name selfRef">Bitstream Formats</a>
        </h3>
<p id="section-4.1-1">This section specifies the bitstream format of the Advanced Professional Video (APV) codec.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1-2">A raw bitstream format consists of a sequence of AUs where the field indicating the size of access units precedes each of them. The raw bitstream format is specified in <a href="#appendix-rawbitstream" class="auto internal xref">Appendix A</a>.<a href="#section-4.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="source-decoded-and-output-frame-formats">
<section id="section-4.2">
        <h3 id="name-source-decoded-and-output-f">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-source-decoded-and-output-f" class="section-name selfRef">Source, Decoded, and Output Frame Formats</a>
        </h3>
<p id="section-4.2-1">This section specifies the relationship between the source and decoded frames.<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<p id="section-4.2-2">The video source that is represented by the bitstream is a sequence of frames.<a href="#section-4.2-2" class="pilcrow">¶</a></p>
<p id="section-4.2-3">Source and decoded frames are each comprised of one or more sample arrays:<a href="#section-4.2-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.2-4.1">
            <p id="section-4.2-4.1.1">Monochrome (for example, Luma only)<a href="#section-4.2-4.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.2-4.2">
            <p id="section-4.2-4.2.1">Luma and two chroma (for example, YCbCr or YCgCo as specified in <span>[<a href="#H273" class="cite xref">H273</a>]</span>).<a href="#section-4.2-4.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.2-4.3">
            <p id="section-4.2-4.3.1">Green, blue, and red (GBR, also known as RGB).<a href="#section-4.2-4.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.2-4.4">
            <p id="section-4.2-4.4.1">Arrays representing other unspecified tri-stimulus color samplings (for example, YZX, also known as XYZ as specified in <span>[<a href="#CIE15" class="cite xref">CIE15</a>]</span>).<a href="#section-4.2-4.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.2-4.5">
            <p id="section-4.2-4.5.1">Arrays representing other unspecified four color samplings<a href="#section-4.2-4.5.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-4.2-5">For the convenience of notation and terminology in this document, the variables and terms associated with these arrays can be referred to as luma and chroma regardless of the actual color representation method in use.<a href="#section-4.2-5" class="pilcrow">¶</a></p>
<p id="section-4.2-6">The values of the variables SubWidthC, SubHeightC, and NumComps depend on the chroma format sampling structure as specified in <a href="#_table-chroma_format_idc" class="auto internal xref">Table 2</a>. The chroma format sampling structure is signaled through chroma_format_idc. Other values of chroma_format_idc, SubWidthC, SubHeightC, and NumComps may be specified in future versions of this document.<a href="#section-4.2-6" class="pilcrow">¶</a></p>
<span id="name-subwidthc-subheightc-and-nu"></span><div id="_table-chroma_format_idc">
<table class="center" id="table-2">
          <caption>
<a href="#table-2" class="selfRef">Table 2</a>:
<a href="#name-subwidthc-subheightc-and-nu" class="selfRef">SubWidthC, SubHeightC, and NumComps values derived from chroma_format_idc</a>
          </caption>
<thead>
            <tr>
              <th class="text-center" rowspan="1" colspan="1">chroma_format_idc</th>
              <th class="text-center" rowspan="1" colspan="1">Chroma format</th>
              <th class="text-center" rowspan="1" colspan="1">SubWidthC</th>
              <th class="text-center" rowspan="1" colspan="1">SubHeightC</th>
              <th class="text-center" rowspan="1" colspan="1">NumComps</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-center" rowspan="1" colspan="1">0</td>
              <td class="text-center" rowspan="1" colspan="1">4:0:0</td>
              <td class="text-center" rowspan="1" colspan="1">1</td>
              <td class="text-center" rowspan="1" colspan="1">1</td>
              <td class="text-center" rowspan="1" colspan="1">1</td>
            </tr>
            <tr>
              <td class="text-center" rowspan="1" colspan="1">1</td>
              <td class="text-center" rowspan="1" colspan="1">reserved</td>
              <td class="text-center" rowspan="1" colspan="1">reserved</td>
              <td class="text-center" rowspan="1" colspan="1">reserved</td>
              <td class="text-center" rowspan="1" colspan="1">reserved</td>
            </tr>
            <tr>
              <td class="text-center" rowspan="1" colspan="1">2</td>
              <td class="text-center" rowspan="1" colspan="1">4:2:2</td>
              <td class="text-center" rowspan="1" colspan="1">2</td>
              <td class="text-center" rowspan="1" colspan="1">1</td>
              <td class="text-center" rowspan="1" colspan="1">3</td>
            </tr>
            <tr>
              <td class="text-center" rowspan="1" colspan="1">3</td>
              <td class="text-center" rowspan="1" colspan="1">4:4:4</td>
              <td class="text-center" rowspan="1" colspan="1">1</td>
              <td class="text-center" rowspan="1" colspan="1">1</td>
              <td class="text-center" rowspan="1" colspan="1">3</td>
            </tr>
            <tr>
              <td class="text-center" rowspan="1" colspan="1">4</td>
              <td class="text-center" rowspan="1" colspan="1">4:4:4:4</td>
              <td class="text-center" rowspan="1" colspan="1">1</td>
              <td class="text-center" rowspan="1" colspan="1">1</td>
              <td class="text-center" rowspan="1" colspan="1">4</td>
            </tr>
            <tr>
              <td class="text-center" rowspan="1" colspan="1">5..7</td>
              <td class="text-center" rowspan="1" colspan="1">reserved</td>
              <td class="text-center" rowspan="1" colspan="1">reserved</td>
              <td class="text-center" rowspan="1" colspan="1">reserved</td>
              <td class="text-center" rowspan="1" colspan="1">reserved</td>
            </tr>
          </tbody>
        </table>
</div>
<p id="section-4.2-8">In 4:0:0 sampling, there is only one sample array that can be considered as the luma array.<a href="#section-4.2-8" class="pilcrow">¶</a></p>
<p id="section-4.2-9">In 4:2:2 sampling, each of the two chroma arrays has the same height and half the width of the luma array.<a href="#section-4.2-9" class="pilcrow">¶</a></p>
<p id="section-4.2-10">In 4:4:4 sampling and 4:4:4:4 sampling, all the sample arrays have the same height and width as the luma array.<a href="#section-4.2-10" class="pilcrow">¶</a></p>
<p id="section-4.2-11">The number of bits necessary for the representation of each of the samples in the luma and chroma arrays in a video sequence is in the range of 10 to 16, inclusive.<a href="#section-4.2-11" class="pilcrow">¶</a></p>
<p id="section-4.2-12">When the value of chroma_format_idc is equal to 2, the chroma samples are co-sited with the corresponding luma samples; the nominal locations in a frame are as shown in <a href="#_figure-format420" class="auto internal xref">Figure 1</a>.<a href="#section-4.2-12" class="pilcrow">¶</a></p>
<span id="name-nominal-vertical-and-horizo"></span><div id="_figure-format420">
<figure id="figure-1">
          <div class="alignLeft art-text artwork" id="section-4.2-13.1">
<pre>
              &amp; * &amp; * &amp; * &amp; * &amp; * ...

              &amp; * &amp; * &amp; * &amp; * &amp; * ...

              &amp; * &amp; * &amp; * &amp; * &amp; * ...

              &amp; * &amp; * &amp; * &amp; * &amp; * ...

                       ...

&amp; - location where both luma and chroma sample exist
* - location where only luma sample exist</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-nominal-vertical-and-horizo" class="selfRef">Nominal vertical and horizontal locations of 4:2:2 luma and chroma samples in a frame</a>
          </figcaption></figure>
</div>
<p id="section-4.2-14">For each frame, when the value of chroma_format_idc is equal to 3 or 4, all of the array samples are co-sited; the nominal locations in a frame are as shown in <a href="#_figure-format444" class="auto internal xref">Figure 2</a>.<a href="#section-4.2-14" class="pilcrow">¶</a></p>
<span id="name-nominal-vertical-and-horizon"></span><div id="_figure-format444">
<figure id="figure-2">
          <div class="alignLeft art-text artwork" id="section-4.2-15.1">
<pre>
              &amp; &amp; &amp; &amp; &amp; &amp; &amp; &amp; &amp; &amp; ...

              &amp; &amp; &amp; &amp; &amp; &amp; &amp; &amp; &amp; &amp; ...

              &amp; &amp; &amp; &amp; &amp; &amp; &amp; &amp; &amp; &amp; ...

              &amp; &amp; &amp; &amp; &amp; &amp; &amp; &amp; &amp; &amp; ...

                       ...

&amp; - location where both luma and chroma sample exist</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-nominal-vertical-and-horizon" class="selfRef">Nominal vertical and horizontal locations of 4:4:4 and 4:4:4:4 luma and chroma samples in a frame</a>
          </figcaption></figure>
</div>
<p id="section-4.2-16">Samples are processed in units of MBs. The variables MbWidth and MbHeight, which specify the width and height of the luma arrays for each MB, are defined as follows:<a href="#section-4.2-16" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.2-17.1">
            <p id="section-4.2-17.1.1">MbWidth = 16<a href="#section-4.2-17.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.2-17.2">
            <p id="section-4.2-17.2.1">MbHeight = 16<a href="#section-4.2-17.2.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-4.2-18">The variables MbWidthC and MbHeightC, which specify the width and height of the chroma arrays for each MB, are derived as follows:<a href="#section-4.2-18" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.2-19.1">
            <p id="section-4.2-19.1.1">MbWidthC = MbWidth // SubWidthC<a href="#section-4.2-19.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.2-19.2">
            <p id="section-4.2-19.2.1">MbHeightC = MbHeight // SubHeightC<a href="#section-4.2-19.2.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="partitioning-of-a-frame">
<section id="section-4.3">
        <h3 id="name-partitioning-of-a-frame">
<a href="#section-4.3" class="section-number selfRef">4.3. </a><a href="#name-partitioning-of-a-frame" class="section-name selfRef">Partitioning of a Frame</a>
        </h3>
<div id="partitioning-of-a-frame-into-tiles">
<section id="section-4.3.1">
          <h4 id="name-partitioning-of-a-frame-int">
<a href="#section-4.3.1" class="section-number selfRef">4.3.1. </a><a href="#name-partitioning-of-a-frame-int" class="section-name selfRef">Partitioning of a Frame into Tiles</a>
          </h4>
<p id="section-4.3.1-1">This section specifies how a frame is partitioned into tiles.<a href="#section-4.3.1-1" class="pilcrow">¶</a></p>
<p id="section-4.3.1-2">A frame is divided into tiles. A tile is a group of MBs that cover a rectangular region of a frame and is processed independently of other tiles. Every tile has the same width and height, except possibly tiles at the right or bottom frame boundary when the frame width or height is not a multiple of the tile width or height, respectively. The tiles in a frame are scanned in raster order. Within a tile, the MBs are scanned in raster order. Each MB is comprised of one (MbWidth) x (MbHeight) luma array and zero, two, or three corresponding chroma sample arrays.<a href="#section-4.3.1-2" class="pilcrow">¶</a></p>
<p id="section-4.3.1-3">For example, a frame is divided into 6 tiles (3 tile columns and 2 tile rows) as shown in <a href="#_figure-tile_examaple" class="auto internal xref">Figure 3</a>. In this example, the tile size is defined as 4 column MBs and 4 row MBs. In case of the third and sixth tiles (in raster order), the tile size is 2 column MBs and 4 row MBs since the frame width is not a multiple of the tile width.<a href="#section-4.3.1-3" class="pilcrow">¶</a></p>
<span id="name-frame-with-10-by-8-mbs-that"></span><div id="_figure-tile_examaple">
<figure id="figure-3">
            <div class="alignLeft art-text artwork" id="section-4.3.1-4.1">
<pre>
+===================+===================+=========+
#    |    |    |    # MB | MB | MB | MB # MB | MB #
+-------------------+-------------------+---------+
#    |    |    |    # MB | MB | MB | MB # MB | MB #
+-----   tile  -----+-------------------+---------+
#    |    |    |    # MB | MB | MB | MB # MB | MB #
+-------------------+-------------------+---------+
#    |    |    |    # MB | MB | MB | MB # MB | MB #
+===================+===================+=========+
# MB | MB | MB | MB # MB | MB | MB | MB # MB | MB #
+-------------------+-------------------+---------+
# MB | MB | MB | MB # MB | MB | MB | MB # MB | MB #
+-------------------+-------------------+---------+
# MB | MB | MB | MB # MB | MB | MB | MB # MB | MB #
+-------------------+-------------------+---------+
# MB | MB | MB | MB # MB | MB | MB | MB # MB | MB #
+===================+===================+=========+

            #,=  tile boundary
            |,-  MB boundary
</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a>:
<a href="#name-frame-with-10-by-8-mbs-that" class="selfRef">Frame with 10 by 8 MBs that is partitioned into 6 tiles</a>
            </figcaption></figure>
</div>
</section>
</div>
<div id="spatial-or-component-wise-partitioning">
<section id="section-4.3.2">
          <h4 id="name-spatial-or-component-wise-p">
<a href="#section-4.3.2" class="section-number selfRef">4.3.2. </a><a href="#name-spatial-or-component-wise-p" class="section-name selfRef">Spatial or Component-Wise Partitioning</a>
          </h4>
<p id="section-4.3.2-1">The following divisions of processing elements form spatial or component-wise partitioning:<a href="#section-4.3.2-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.3.2-2.1">
              <p id="section-4.3.2-2.1.1">the division of each frame into components;<a href="#section-4.3.2-2.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-4.3.2-2.2">
              <p id="section-4.3.2-2.2.1">the division of each frame into tile columns;<a href="#section-4.3.2-2.2.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-4.3.2-2.3">
              <p id="section-4.3.2-2.3.1">the division of each frame into tile rows;<a href="#section-4.3.2-2.3.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-4.3.2-2.4">
              <p id="section-4.3.2-2.4.1">the division of each tile column into tiles;<a href="#section-4.3.2-2.4.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-4.3.2-2.5">
              <p id="section-4.3.2-2.5.1">the division of each tile row into tiles;<a href="#section-4.3.2-2.5.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-4.3.2-2.6">
              <p id="section-4.3.2-2.6.1">the division of each tile into color components;<a href="#section-4.3.2-2.6.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-4.3.2-2.7">
              <p id="section-4.3.2-2.7.1">the division of each tile into MBs;<a href="#section-4.3.2-2.7.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-4.3.2-2.8">
              <p id="section-4.3.2-2.8.1">the division of each MB into blocks.<a href="#section-4.3.2-2.8.1" class="pilcrow">¶</a></p>
</li>
          </ul>
</section>
</div>
</section>
</div>
<div id="scanning-processes">
<section id="section-4.4">
        <h3 id="name-scanning-processes">
<a href="#section-4.4" class="section-number selfRef">4.4. </a><a href="#name-scanning-processes" class="section-name selfRef">Scanning Processes</a>
        </h3>
<div id="zig-zag">
<section id="section-4.4.1">
          <h4 id="name-zig-zag-scan">
<a href="#section-4.4.1" class="section-number selfRef">4.4.1. </a><a href="#name-zig-zag-scan" class="section-name selfRef">Zig-Zag Scan</a>
          </h4>
<p id="section-4.4.1-1">This process converts a two dimensional array into an one-dimensional array. The process starts at the top-left position in the block and then moves diagonally, changing direction at the edges of the block until it reaches the bottom-right position. <a href="#_figure-zz" class="auto internal xref">Figure 4</a> shows an example of scanning order for 4x4 size block.<a href="#section-4.4.1-1" class="pilcrow">¶</a></p>
<span id="name-example-of-zig-zag-scanning"></span><div id="_figure-zz">
<figure id="figure-4">
            <div class="alignLeft art-text artwork" id="section-4.4.1-2.1">
<pre>
+===================+
# 00 | 01 | 05 | 06 #
+-------------------+
# 02 | 04 | 07 | 12 #
+-------------------+
# 03 | 08 | 11 | 13 #
+-------------------+
# 09 | 10 | 14 | 15 #
+===================+
</pre>
</div>
<figcaption><a href="#figure-4" class="selfRef">Figure 4</a>:
<a href="#name-example-of-zig-zag-scanning" class="selfRef">Example of zig-zag scanning order for 4x4 block</a>
            </figcaption></figure>
</div>
<p id="section-4.4.1-3">Inputs to this process are:<a href="#section-4.4.1-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.4.1-4.1">
              <p id="section-4.4.1-4.1.1">a variable blkWidth specifying the width of a block, and<a href="#section-4.4.1-4.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-4.4.1-4.2">
              <p id="section-4.4.1-4.2.1">a variable blkHeight specifying the height of a block.<a href="#section-4.4.1-4.2.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="section-4.4.1-5">Output of this process is the array zigZagScan[sPos].<a href="#section-4.4.1-5" class="pilcrow">¶</a></p>
<p id="section-4.4.1-6">The array index sPos specifies the scan position ranging from 0 to (blkWidth * blkHeight)-1. Depending on the value of blkWidth and blkHeight, the array zigZagScan is derived as follows:<a href="#section-4.4.1-6" class="pilcrow">¶</a></p>
<span id="name-pseudocode-for-zig-zag-scan"></span><div id="_figure-zzscan">
<figure id="figure-5">
            <div class="alignLeft art-text artwork" id="section-4.4.1-7.1">
<pre>
pos = 0
zigZagScan[pos] = 0
pos++
for(line = 1; line &lt; (blkWidth + blkHeight - 1); line++){
  if(line % 2){
    x = min(line, blkWidth - 1)
    y = max(0, line - (blkWidth - 1))
    while(x &gt;=0 &amp;&amp; y &lt; blkHeight){
      zigZagScan[pos] = y * blkWidth + x
      pos++
      x--
      y++
    }
  }
  else{
    y = min(line, blkHeight - 1)
    x = max(0, line - (blkHeight - 1))
    while(y &gt;= 0 &amp;&amp; x &lt; blkWidth){
      zigZagScan[pos] = y * blkWidth + x
      pos++
      x++
      y--
    }
  }
}</pre>
</div>
<figcaption><a href="#figure-5" class="selfRef">Figure 5</a>:
<a href="#name-pseudocode-for-zig-zag-scan" class="selfRef">Pseudocode for zig-zag scan</a>
            </figcaption></figure>
</div>
</section>
</div>
<div id="inverse-scan">
<section id="section-4.4.2">
          <h4 id="name-inverse-scan">
<a href="#section-4.4.2" class="section-number selfRef">4.4.2. </a><a href="#name-inverse-scan" class="section-name selfRef">Inverse Scan</a>
          </h4>
<p id="section-4.4.2-1">Inputs to this process are:<a href="#section-4.4.2-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.4.2-2.1">
              <p id="section-4.4.2-2.1.1">a variable blkWidth specifying the width of a block, and<a href="#section-4.4.2-2.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-4.4.2-2.2">
              <p id="section-4.4.2-2.2.1">a variable blkHeight specifying the height of a block.<a href="#section-4.4.2-2.2.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="section-4.4.2-3">Output of this process is the array inverseScan[rPos].<a href="#section-4.4.2-3" class="pilcrow">¶</a></p>
<p id="section-4.4.2-4">The array index rPos specifies the raster scan position ranging from 0 to (blkWidth * blkHeight)-1. Depending on the value of blkWidth and blkHeight, the array inverseScan is derived as follows:<a href="#section-4.4.2-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.4.2-5.1">
              <p id="section-4.4.2-5.1.1">The variable forwardScan is derived by invoking the zig-zag scan order initialization process as specified in <a href="#zig-zag" class="auto internal xref">Section 4.4.1</a> with input parameters blkWidth and blkHeight.<a href="#section-4.4.2-5.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-4.4.2-5.2">
              <p id="section-4.4.2-5.2.1">The output variable inverseScan is derived as follows:<a href="#section-4.4.2-5.2.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<span id="name-pseudocode-for-inverse-zig-"></span><div id="_figure-inv_zzscan">
<figure id="figure-6">
            <div class="alignLeft art-text artwork" id="section-4.4.2-6.1">
<pre>
for(pos = 0; pos &lt; blkWidth * blkHeight; pos++){
  inverseScan[forwardScan[pos]] = pos
}</pre>
</div>
<figcaption><a href="#figure-6" class="selfRef">Figure 6</a>:
<a href="#name-pseudocode-for-inverse-zig-" class="selfRef">Pseudocode for inverse zig-zag scan</a>
            </figcaption></figure>
</div>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="syntax">
<section id="section-5">
      <h2 id="name-syntax-and-semantics">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-syntax-and-semantics" class="section-name selfRef">Syntax and Semantics</a>
      </h2>
<div id="method-of-specifying-syntax">
<section id="section-5.1">
        <h3 id="name-method-of-specifying-syntax">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-method-of-specifying-syntax" class="section-name selfRef">Method of Specifying Syntax</a>
        </h3>
<p id="section-5.1-1">The syntax tables specify a superset of the syntax of all allowed bitstreams. Note that a decoder <span class="bcp14">MUST</span> implement some means for identifying entry points into the bitstream and some means to identify and handle non-conforming bitstreams. The methods for identifying and handling errors and other such situations are not specified in this document.<a href="#section-5.1-1" class="pilcrow">¶</a></p>
<p id="section-5.1-2">The APV bitstream is described using syntax code based on the C programming language <span>[<a href="#ISO9899" class="cite xref">ISO9899</a>]</span> -- including use of if/else, while, and for -- as well as functions defined within this document.<a href="#section-5.1-2" class="pilcrow">¶</a></p>
<p id="section-5.1-3">The syntax table in syntax code is presented in a two-column format such as shown in <a href="#syntax-examplecode" class="auto internal xref">Figure 7</a>. In this form, the type column provides a type referenced in that same line of syntax code by using the syntax elements processing functions defined in <a href="#syntax-process-func" class="auto internal xref">Section 5.2.5</a>.<a href="#section-5.1-3" class="pilcrow">¶</a></p>
<span id="name-a-depiction-of-type-labeled"></span><div id="syntax-examplecode">
<figure id="figure-7">
          <div class="alignLeft art-text artwork" id="section-5.1-4.1">
<pre>
syntax code                                                   | type
--------------------------------------------------------------|-----
ExampleSyntaxCode(){                                          |
       operations                                             |
       syntax_element                                         | u(n)
}                                                             |</pre>
</div>
<figcaption><a href="#figure-7" class="selfRef">Figure 7</a>:
<a href="#name-a-depiction-of-type-labeled" class="selfRef">A depiction of type-labeled syntax code for syntax description in this document</a>
          </figcaption></figure>
</div>
</section>
</div>
<div id="syntax-func">
<section id="section-5.2">
        <h3 id="name-syntax-functions-and-descri">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-syntax-functions-and-descri" class="section-name selfRef">Syntax Functions and Descriptors</a>
        </h3>
<p id="section-5.2-1">The functions presented in this document are used in the syntactical description. These functions are expressed in terms of the value of a bitstream pointer that indicates the position of the next bit to be read by the decoding process from the bitstream.<a href="#section-5.2-1" class="pilcrow">¶</a></p>
<div id="bytealigned">
<section id="section-5.2.1">
          <h4 id="name-byte_aligned">
<a href="#section-5.2.1" class="section-number selfRef">5.2.1. </a><a href="#name-byte_aligned" class="section-name selfRef">byte_aligned()</a>
          </h4>
<ul class="normal">
<li class="normal" id="section-5.2.1-1.1">
              <p id="section-5.2.1-1.1.1">If the current position in the bitstream is on the last bit of a byte, i.e., the next bit in the bitstream is the first bit in a byte, the return value of byte_aligned() is equal to TRUE.<a href="#section-5.2.1-1.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-5.2.1-1.2">
              <p id="section-5.2.1-1.2.1">Otherwise, the return value of byte_aligned() is equal to FALSE.<a href="#section-5.2.1-1.2.1" class="pilcrow">¶</a></p>
</li>
          </ul>
</section>
</div>
<div id="moredataintile">
<section id="section-5.2.2">
          <h4 id="name-more_data_in_tile">
<a href="#section-5.2.2" class="section-number selfRef">5.2.2. </a><a href="#name-more_data_in_tile" class="section-name selfRef">more_data_in_tile()</a>
          </h4>
<ul class="normal">
<li class="normal" id="section-5.2.2-1.1">
              <p id="section-5.2.2-1.1.1">If the current position in the i-th tile() syntax structure is less than TileSize[i] in bytes from the beginning of the tile_header() syntax structure of the i-th tile, the return value of more_data_in_tile() is equal to TRUE.<a href="#section-5.2.2-1.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-5.2.2-1.2">
              <p id="section-5.2.2-1.2.1">Otherwise, the return value of more_data_in_tile() is equal to FALSE.<a href="#section-5.2.2-1.2.1" class="pilcrow">¶</a></p>
</li>
          </ul>
</section>
</div>
<div id="nextbitsn">
<section id="section-5.2.3">
          <h4 id="name-next_bitsn">
<a href="#section-5.2.3" class="section-number selfRef">5.2.3. </a><a href="#name-next_bitsn" class="section-name selfRef">next_bits(n)</a>
          </h4>
<p id="section-5.2.3-1">This function provides the next n bits in the bitstream for comparison purposes, without advancing the bitstream pointer.<a href="#section-5.2.3-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="readbitsn">
<section id="section-5.2.4">
          <h4 id="name-read_bitsn">
<a href="#section-5.2.4" class="section-number selfRef">5.2.4. </a><a href="#name-read_bitsn" class="section-name selfRef">read_bits(n)</a>
          </h4>
<p id="section-5.2.4-1">This function indicates that the next n bits from the bitstream are to be read and it advances the bitstream pointer by n bit positions. When n is equal to 0, read_bits(n) is specified to return a value equal to 0 and to not advance the bitstream pointer.<a href="#section-5.2.4-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="syntax-process-func">
<section id="section-5.2.5">
          <h4 id="name-syntax-element-processing-f">
<a href="#section-5.2.5" class="section-number selfRef">5.2.5. </a><a href="#name-syntax-element-processing-f" class="section-name selfRef">Syntax Element Processing Functions</a>
          </h4>
<span class="break"></span><dl class="dlParallel" id="section-5.2.5-1">
            <dt id="section-5.2.5-1.1">b(8):</dt>
            <dd style="margin-left: 1.5em" id="section-5.2.5-1.2">byte having any pattern of bit string (8
            bits). The parsing process for this descriptor is specified by the
            return value of the function read_bits(8).<a href="#section-5.2.5-1.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-5.2.5-1.3">f(n):</dt>
            <dd style="margin-left: 1.5em" id="section-5.2.5-1.4">fixed-pattern bit string using n bits written
            (from left to right) with the left bit first, i.e., big endian
            format. The parsing process for this descriptor is specified by
            the return value of the function read_bits(n).<a href="#section-5.2.5-1.4" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-5.2.5-1.5">u(n):</dt>
            <dd style="margin-left: 1.5em" id="section-5.2.5-1.6">unsigned integer using n bits. The parsing
            process for this descriptor is specified by the return value of
            the function read_bits(n) interpreted as a binary representation
            of an unsigned integer with the most significant bit written
            first.<a href="#section-5.2.5-1.6" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-5.2.5-1.7">h(v):</dt>
            <dd style="margin-left: 1.5em" id="section-5.2.5-1.8">variable-length entropy coded syntax element
            with the left bit first, i.e., big endian format. The parsing
            process for this descriptor is specified in <a href="#process_h" class="auto internal xref">Section 7.1</a>.<a href="#section-5.2.5-1.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
<div id="list-of-syntax-and-semantics">
<section id="section-5.3">
        <h3 id="name-list-of-syntax-and-semantic">
<a href="#section-5.3" class="section-number selfRef">5.3. </a><a href="#name-list-of-syntax-and-semantic" class="section-name selfRef">List of Syntax and Semantics</a>
        </h3>
<div id="access-unit">
<section id="section-5.3.1">
          <h4 id="name-access-unit">
<a href="#section-5.3.1" class="section-number selfRef">5.3.1. </a><a href="#name-access-unit" class="section-name selfRef">Access Unit</a>
          </h4>
<span id="name-access-unit-syntax-code"></span><div id="syntaxcode-access_unit">
<figure id="figure-8">
            <div class="alignLeft art-text artwork" id="section-5.3.1-1.1">
<pre>
syntax code                                                   | type
--------------------------------------------------------------|-----
access_unit(au_size){                                         |
    signature                                                 | f(32)
    currReadSize = 4                                          |
    do(){                                                     |
        pbu_size                                              | u(32)
        currReadSize += 4                                     |
        pbu()                                                 |
        currReadSize += pbu_size                              |
    } while (au_size &gt; currReadSize)                          |
}                                                             |</pre>
</div>
<figcaption><a href="#figure-8" class="selfRef">Figure 8</a>:
<a href="#name-access-unit-syntax-code" class="selfRef">access unit syntax code</a>
            </figcaption></figure>
</div>
<span class="break"></span><dl class="dlNewline" id="section-5.3.1-2">
            <dt id="section-5.3.1-2.1">signature</dt>
            <dd style="margin-left: 1.5em" id="section-5.3.1-2.2">A four-character code that identifies the bitstream as an APV AU. The value <span class="bcp14">MUST</span> be 'aPv1' (0x61507631).<a href="#section-5.3.1-2.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-5.3.1-2.3">pbu_size</dt>
            <dd style="margin-left: 1.5em" id="section-5.3.1-2.4">the size of a primitive bitstream unit in bytes. A value of 0 is prohibited and the value of 0xFFFFFFFF for pbu_size is reserved for future use.<a href="#section-5.3.1-2.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-5.3.1-3">Note: An AU consists of one primary frame, zero or more non-primary frames such as a frame for additional view, zero or more alpha frames, zero or more depth frames, zero or more preview frames such as a frame with smaller resolution, zero or more metadata, and zero or more fillers.<a href="#section-5.3.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="pbu">
<section id="section-5.3.2">
          <h4 id="name-primitive-bitstream-unit">
<a href="#section-5.3.2" class="section-number selfRef">5.3.2. </a><a href="#name-primitive-bitstream-unit" class="section-name selfRef">Primitive Bitstream Unit</a>
          </h4>
<span id="name-primitive-bitstream-unit-sy"></span><div id="syntaxcode-pbu">
<figure id="figure-9">
            <div class="alignLeft art-text artwork" id="section-5.3.2-1.1">
<pre>
syntax code                                                   | type
--------------------------------------------------------------|-----
pbu(){                                                        |
    pbu_header()                                              |
    if((1 &lt;= pbu_type &amp;&amp; pbu_type &lt;=2) ||                     |
      (25 &lt;= pbu_type &amp;&amp; pbu_type &lt;= 27))                     |
      frame()                                                 |
    else if(pbu_type == 65)                                   |
      au_info()                                               |
    else if(pbu_type == 66)                                   |
      metadata()                                              |
    else if (pbu_type == 67)                                  |
      filler()                                                |
}                                                             |</pre>
</div>
<figcaption><a href="#figure-9" class="selfRef">Figure 9</a>:
<a href="#name-primitive-bitstream-unit-sy" class="selfRef">primitive bitstream unit syntax code</a>
            </figcaption></figure>
</div>
</section>
</div>
<div id="pbu-header">
<section id="section-5.3.3">
          <h4 id="name-primitive-bitstream-unit-he">
<a href="#section-5.3.3" class="section-number selfRef">5.3.3. </a><a href="#name-primitive-bitstream-unit-he" class="section-name selfRef">Primitive Bitstream Unit Header</a>
          </h4>
<span id="name-primitive-bitstream-unit-hea"></span><div id="syntaxcode-pbu_header">
<figure id="figure-10">
            <div class="alignLeft art-text artwork" id="section-5.3.3-1.1">
<pre>
syntax code                                                   | type
--------------------------------------------------------------|-----
pbu_header(){                                                 |
    pbu_type                                                  | u(8)
    group_id                                                  | u(16)
    reserved_zero_8bits                                       | u(8)
}                                                             |</pre>
</div>
<figcaption><a href="#figure-10" class="selfRef">Figure 10</a>:
<a href="#name-primitive-bitstream-unit-hea" class="selfRef">primitive bitstream unit header syntax code</a>
            </figcaption></figure>
</div>
<span class="break"></span><dl class="dlNewline" id="section-5.3.3-2">
            <dt id="section-5.3.3-2.1">pbu_type</dt>
            <dd style="margin-left: 1.5em" id="section-5.3.3-2.2">
              <p id="section-5.3.3-2.2.1">indicates the type of data in a PBU listed in <a href="#_table-pbu_type" class="auto internal xref">Table 3</a>. Other values of pbu_type are reserved
            for future use.<a href="#section-5.3.3-2.2.1" class="pilcrow">¶</a></p>
<span id="name-list-of-pbu-types"></span><div id="_table-pbu_type">
<table class="center" id="table-3">
                <caption>
<a href="#table-3" class="selfRef">Table 3</a>:
<a href="#name-list-of-pbu-types" class="selfRef">List of PBU types</a>
                </caption>
<thead>
                  <tr>
                    <th class="text-center" rowspan="1" colspan="1">pbu_type</th>
                    <th class="text-center" rowspan="1" colspan="1">meaning</th>
                    <th class="text-center" rowspan="1" colspan="1">notes</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="text-center" rowspan="1" colspan="1">0</td>
                    <td class="text-center" rowspan="1" colspan="1">reserved</td>
                    <td class="text-center" rowspan="1" colspan="1"> </td>
                  </tr>
                  <tr>
                    <td class="text-center" rowspan="1" colspan="1">1</td>
                    <td class="text-center" rowspan="1" colspan="1">primary frame</td>
                    <td class="text-center" rowspan="1" colspan="1"> </td>
                  </tr>
                  <tr>
                    <td class="text-center" rowspan="1" colspan="1">2</td>
                    <td class="text-center" rowspan="1" colspan="1">non-primary frame</td>
                    <td class="text-center" rowspan="1" colspan="1"> </td>
                  </tr>
                  <tr>
                    <td class="text-center" rowspan="1" colspan="1">3...24</td>
                    <td class="text-center" rowspan="1" colspan="1">reserved</td>
                    <td class="text-center" rowspan="1" colspan="1"> </td>
                  </tr>
                  <tr>
                    <td class="text-center" rowspan="1" colspan="1">25</td>
                    <td class="text-center" rowspan="1" colspan="1">preview frame</td>
                    <td class="text-center" rowspan="1" colspan="1"> </td>
                  </tr>
                  <tr>
                    <td class="text-center" rowspan="1" colspan="1">26</td>
                    <td class="text-center" rowspan="1" colspan="1">depth frame</td>
                    <td class="text-center" rowspan="1" colspan="1"> </td>
                  </tr>
                  <tr>
                    <td class="text-center" rowspan="1" colspan="1">27</td>
                    <td class="text-center" rowspan="1" colspan="1">alpha frame</td>
                    <td class="text-center" rowspan="1" colspan="1"> </td>
                  </tr>
                  <tr>
                    <td class="text-center" rowspan="1" colspan="1">28...64</td>
                    <td class="text-center" rowspan="1" colspan="1">reserved</td>
                    <td class="text-center" rowspan="1" colspan="1"> </td>
                  </tr>
                  <tr>
                    <td class="text-center" rowspan="1" colspan="1">65</td>
                    <td class="text-center" rowspan="1" colspan="1">access unit information</td>
                    <td class="text-center" rowspan="1" colspan="1"> </td>
                  </tr>
                  <tr>
                    <td class="text-center" rowspan="1" colspan="1">66</td>
                    <td class="text-center" rowspan="1" colspan="1">metadata</td>
                    <td class="text-center" rowspan="1" colspan="1"> </td>
                  </tr>
                  <tr>
                    <td class="text-center" rowspan="1" colspan="1">67</td>
                    <td class="text-center" rowspan="1" colspan="1">filler</td>
                    <td class="text-center" rowspan="1" colspan="1"> </td>
                  </tr>
                  <tr>
                    <td class="text-center" rowspan="1" colspan="1">68...255</td>
                    <td class="text-center" rowspan="1" colspan="1">reserved</td>
                    <td class="text-center" rowspan="1" colspan="1"> </td>
                  </tr>
                </tbody>
              </table>
</div>
<p id="section-5.3.3-2.2.3">Note: A PBU with pbu_type equal to 65 (access unit information) may happen in an AU. If it exists, it <span class="bcp14">MUST</span> be the first PBU in an AU, and it can be ignored by a decoder.<a href="#section-5.3.3-2.2.3" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-5.3.3-2.3">group_id</dt>
            <dd style="margin-left: 1.5em" id="section-5.3.3-2.4">indicates the identifier to associate a coded frame with metadata. More than two frames can have the same group_id in a single AU. A primary frame and a non-primary frame <span class="bcp14">MUST</span> have different group_id values, and two non-primary frames <span class="bcp14">MUST</span> have different group_id values. When the value of group_id is equal to 0, the value of pbu_type <span class="bcp14">MUST</span> be greater than 64. The value of 0xFFFF for group_id is reserved for future use.<a href="#section-5.3.3-2.4" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-5.3.3-2.5">reserved_zero_8bits</dt>
            <dd style="margin-left: 1.5em" id="section-5.3.3-2.6">
              <span class="bcp14">MUST</span> be equal to 0 in bitstreams conforming to the profiles specified in <a href="#appendix-profile-level-band" class="auto internal xref">Section 9</a>. Values of reserved_zero_8bits greater than 0 are reserved for future use. Decoders conforming to the profiles specified in <a href="#appendix-profile-level-band" class="auto internal xref">Section 9</a> <span class="bcp14">MUST</span> ignore PBU with values of reserved_zero_8bits greater than 0.<a href="#section-5.3.3-2.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
<div id="frame">
<section id="section-5.3.4">
          <h4 id="name-frame">
<a href="#section-5.3.4" class="section-number selfRef">5.3.4. </a><a href="#name-frame" class="section-name selfRef">Frame</a>
          </h4>
<span id="name-frame-syntax-code"></span><div id="syntaxcode-frame">
<figure id="figure-11">
            <div class="alignLeft art-text artwork" id="section-5.3.4-1.1">
<pre>
syntax code                                                   | type
--------------------------------------------------------------|-----
frame(){                                                      |
    frame_header()                                            |
    for(i = 0; i &lt; NumTiles; i++){                            |
        tile_size[i]                                          | u(32)
        tile(i)                                               |
    }                                                         |
    filler()                                                  |
}                                                             |</pre>
</div>
<figcaption><a href="#figure-11" class="selfRef">Figure 11</a>:
<a href="#name-frame-syntax-code" class="selfRef">frame() syntax code</a>
            </figcaption></figure>
</div>
<span class="break"></span><dl class="dlNewline" id="section-5.3.4-2">
            <dt id="section-5.3.4-2.1">tile_size[i]</dt>
            <dd style="margin-left: 1.5em" id="section-5.3.4-2.2">
              <p id="section-5.3.4-2.2.1">indicates the size in bytes of i-th tile data (i.e.,
            tile(i)) in raster order in a frame. The value of 0 for
            tile_size[i] is reserved for future use.<a href="#section-5.3.4-2.2.1" class="pilcrow">¶</a></p>
<p id="section-5.3.4-2.2.2">The variable TileSize[i] is set equal to tile_size[i].<a href="#section-5.3.4-2.2.2" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
<div id="frame-header">
<section id="section-5.3.5">
          <h4 id="name-frame-header">
<a href="#section-5.3.5" class="section-number selfRef">5.3.5. </a><a href="#name-frame-header" class="section-name selfRef">Frame Header</a>
          </h4>
<span id="name-frame_header-syntax-code"></span><div id="syntaxcode-frame_header">
<figure id="figure-12">
            <div class="alignLeft art-text artwork" id="section-5.3.5-1.1">
<pre>
syntax code                                                   | type
--------------------------------------------------------------|-----
frame_header(){                                               |
  frame_info()                                                |
  reserved_zero_8bits                                         | u(8)
  color_description_present_flag                              | u(1)
  if(color_description_present_flag){                         |
    color_primaries                                           | u(8)
    transfer_characteristics                                  | u(8)
    matrix_coefficients                                       | u(8)
    full_range_flag                                           | u(1)
  }                                                           |
  use_q_matrix                                                | u(1)
  if(use_q_matrix){                                           |
    quantization_matrix()                                     |
  }                                                           |
  tile_info()                                                 |
  reserved_zero_8bits                                         | u(8)
  byte_alignment()                                            |
}                                                             |</pre>
</div>
<figcaption><a href="#figure-12" class="selfRef">Figure 12</a>:
<a href="#name-frame_header-syntax-code" class="selfRef">frame_header() syntax code</a>
            </figcaption></figure>
</div>
<span class="break"></span><dl class="dlNewline" id="section-5.3.5-2">
            <dt id="section-5.3.5-2.1">reserved_zero_8bits</dt>
            <dd style="margin-left: 1.5em" id="section-5.3.5-2.2">
              <span class="bcp14">MUST</span> be equal to 0 in bitstreams conforming to
            the profiles specified in <a href="#appendix-profile-level-band" class="auto internal xref">Section 9</a>. Values of reserved_zero_8bits greater than 0 are
            reserved for future use. Decoders conforming to the profiles
            specified in <a href="#appendix-profile-level-band" class="auto internal xref">Section 9</a> <span class="bcp14">MUST</span> ignore PBU with values of 
            reserved_zero_8bits greater than 0.<a href="#section-5.3.5-2.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-5.3.5-2.3">color_description_present_flag equal to 1</dt>
            <dd style="margin-left: 1.5em" id="section-5.3.5-2.4">specifies that color_primaries, transfer_characteristics, and
            matrix_coefficients are present. color_description_present_flag
            equal to 0 specifies that color_primaries,
            transfer_characteristics, and matrix_coefficients are not
            present.<a href="#section-5.3.5-2.4" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-5.3.5-2.5">color_primaries</dt>
            <dd style="margin-left: 1.5em" id="section-5.3.5-2.6">
              <span class="bcp14">MUST</span> have the semantics of ColourPrimaries as
            specified in <span>[<a href="#H273" class="cite xref">H273</a>]</span>. When the color_primaries
            syntax element is not present, the value of color_primaries is
            inferred to be equal to 2.<a href="#section-5.3.5-2.6" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-5.3.5-2.7">transfer_characteristics</dt>
            <dd style="margin-left: 1.5em" id="section-5.3.5-2.8">
              <span class="bcp14">MUST</span> have the semantics of
            TransferCharacteristics as specified in <span>[<a href="#H273" class="cite xref">H273</a>]</span>. When the transfer_characteristics syntax element
            is not present, the value of transfer_characteristics is inferred
            to be equal to 2.<a href="#section-5.3.5-2.8" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-5.3.5-2.9">matrix_coefficients</dt>
            <dd style="margin-left: 1.5em" id="section-5.3.5-2.10">
              <span class="bcp14">MUST</span> have the semantics of MatrixCoefficients
            as specified in <span>[<a href="#H273" class="cite xref">H273</a>]</span>. When the
            matrix_coefficients syntax element is not present, the value of
            matrix_coefficients is inferred to be equal to 2.<a href="#section-5.3.5-2.10" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-5.3.5-2.11">full_range_flag</dt>
            <dd style="margin-left: 1.5em" id="section-5.3.5-2.12">
              <span class="bcp14">MUST</span> have the semantics of VideoFullRangeFlag
            as specified in <span>[<a href="#H273" class="cite xref">H273</a>]</span>. When the full_range_flag
            syntax element is not present, the value of full_range_flag is
            inferred to be equal to 0.<a href="#section-5.3.5-2.12" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-5.3.5-2.13">use_q_matrix</dt>
            <dd style="margin-left: 1.5em" id="section-5.3.5-2.14">with a value of 1 specifies that the quantization matrices are
            present. A value of 0 specifies that the quantization matrices are
            not present.<a href="#section-5.3.5-2.14" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-5.3.5-2.15">reserved_zero_8bits</dt>
            <dd style="margin-left: 1.5em" id="section-5.3.5-2.16">
              <span class="bcp14">MUST</span> be equal to 0 in bitstreams conforming to
            the profiles specified in <a href="#appendix-profile-level-band" class="auto internal xref">Section 9</a>. Values of reserved_zero_8bits greater than 0 are
            reserved for future use. Decoders conforming to the profiles
            specified in <a href="#appendix-profile-level-band" class="auto internal xref">Section 9</a> <span class="bcp14">MUST</span> ignore PBU with values of
            reserved_zero_8bits greater than 0.<a href="#section-5.3.5-2.16" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
<div id="frame-info">
<section id="section-5.3.6">
          <h4 id="name-frame-information">
<a href="#section-5.3.6" class="section-number selfRef">5.3.6. </a><a href="#name-frame-information" class="section-name selfRef">Frame Information</a>
          </h4>
<span id="name-frame_info-syntax-code"></span><div id="syntaxcode-frame_info">
<figure id="figure-13">
            <div class="alignLeft art-text artwork" id="section-5.3.6-1.1">
<pre>
syntax code                                                   | type
--------------------------------------------------------------|-----
frame_info(){                                                 |
  profile_idc                                                 | u(8)
  level_idc                                                   | u(8)
  band_idc                                                    | u(3)
  reserved_zero_5bits                                         | u(5)
  frame_width                                                 | u(24)
  frame_height                                                | u(24)
  chroma_format_idc                                           | u(4)
  bit_depth_minus8                                            | u(4)
  capture_time_distance                                       | u(8)
  reserved_zero_8bits                                         | u(8)
}                                                             |</pre>
</div>
<figcaption><a href="#figure-13" class="selfRef">Figure 13</a>:
<a href="#name-frame_info-syntax-code" class="selfRef">frame_info() syntax code</a>
            </figcaption></figure>
</div>
<span class="break"></span><dl class="dlNewline" id="section-5.3.6-2">
            <dt id="section-5.3.6-2.1">profile_idc</dt>
            <dd style="margin-left: 1.5em" id="section-5.3.6-2.2">indicates a profile to which the coded frame conforms as
            specified in <a href="#appendix-profile-level-band" class="auto internal xref">Section 9</a>. Bitstreams <span class="bcp14">SHALL NOT</span> contain values of profiles_idc other than those
            specified in <a href="#appendix-profile-level-band" class="auto internal xref">Section 9</a>. Other
            values of profile_idc are reserved for future use.<a href="#section-5.3.6-2.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-5.3.6-2.3">level_idc</dt>
            <dd style="margin-left: 1.5em" id="section-5.3.6-2.4">indicates a level to which the coded frame conforms as
            specified in <a href="#appendix-profile-level-band" class="auto internal xref">Section 9</a>. Bitstreams <span class="bcp14">SHALL NOT</span> contain values of level_idc other than those specified
            in <a href="#appendix-profile-level-band" class="auto internal xref">Section 9</a>. Other values of
            level_idc are reserved for future use.<a href="#section-5.3.6-2.4" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-5.3.6-2.5">band_idc</dt>
            <dd style="margin-left: 1.5em" id="section-5.3.6-2.6">specifies a maximum coded data rate of level_idc as specified
            in <a href="#appendix-profile-level-band" class="auto internal xref">Section 9</a>. Bitstreams
            <span class="bcp14">SHALL NOT</span> contain values of band_idc other than
            those specified in <a href="#appendix-profile-level-band" class="auto internal xref">Section 9</a>. The value of band_idc
            <span class="bcp14">MUST</span> be in the range of 0 to 3. Other values of
            band_idc are reserved for future use.<a href="#section-5.3.6-2.6" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-5.3.6-2.7">reserved_zero_5bits</dt>
            <dd style="margin-left: 1.5em" id="section-5.3.6-2.8">
              <span class="bcp14">MUST</span> be equal to 0 in bitstreams conforming to
            the profiles specified in <a href="#appendix-profile-level-band" class="auto internal xref">Section 9</a>. Values of reserved_zero_8bits greater than 0 are
            reserved for future use. Decoders conforming to the profiles
            specified in <a href="#appendix-profile-level-band" class="auto internal xref">Section 9</a> <span class="bcp14">MUST</span> ignore PBU with values of
            reserved_zero_8bits greater than 0.<a href="#section-5.3.6-2.8" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-5.3.6-2.9">frame_width</dt>
            <dd style="margin-left: 1.5em" id="section-5.3.6-2.10">specifies the width of the frame in units of luma
            samples. frame_width <span class="bcp14">MUST</span> be a multiple of 2 when
            chroma_format_idc has a value of 2. The value 0 is reserved for
            future use.<a href="#section-5.3.6-2.10" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-5.3.6-2.11">frame_height</dt>
            <dd style="margin-left: 1.5em" id="section-5.3.6-2.12">specifies the height of the frame in units of luma samples. The value 0 is reserved for future use.<a href="#section-5.3.6-2.12" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-5.3.6-2.13">The variables FrameWidthInMbsY, FrameHeightInMbsY,
            FrameWidthInSamplesY, FrameHeightInSamplesY, FrameWidthInSamplesC,
            FrameHeightInSamplesC, FrameSizeInMbsY, and FrameSizeInSamplesY
            are derived as follows:</dt>
            <dd style="margin-left: 1.5em" id="section-5.3.6-2.14">
              <ul class="normal">
<li class="normal" id="section-5.3.6-2.14.1.1">FrameWidthInSamplesY = frame_width<a href="#section-5.3.6-2.14.1.1" class="pilcrow">¶</a>
</li>
                <li class="normal" id="section-5.3.6-2.14.1.2">FrameHeightInSamplesY = frame_height<a href="#section-5.3.6-2.14.1.2" class="pilcrow">¶</a>
</li>
                <li class="normal" id="section-5.3.6-2.14.1.3">FrameWidthInMbsY = ceil(FrameWidthInSamplesY / MbWidth)<a href="#section-5.3.6-2.14.1.3" class="pilcrow">¶</a>
</li>
                <li class="normal" id="section-5.3.6-2.14.1.4">FrameHeightInMbsY = ceil(FrameHeightInSamplesY / MbHeight)<a href="#section-5.3.6-2.14.1.4" class="pilcrow">¶</a>
</li>
                <li class="normal" id="section-5.3.6-2.14.1.5">FrameWidthInSamplesC = FrameWidthInSamplesY // SubWidthC<a href="#section-5.3.6-2.14.1.5" class="pilcrow">¶</a>
</li>
                <li class="normal" id="section-5.3.6-2.14.1.6">FrameHeightInSamplesC = FrameHeightInSamplesY // SubHeightC<a href="#section-5.3.6-2.14.1.6" class="pilcrow">¶</a>
</li>
                <li class="normal" id="section-5.3.6-2.14.1.7">FrameSizeInMbsY = FrameWidthInMbsY * FrameHeightInMbsY<a href="#section-5.3.6-2.14.1.7" class="pilcrow">¶</a>
</li>
                <li class="normal" id="section-5.3.6-2.14.1.8">FrameSizeInSamplesY = FrameWidthInSamplesY * FrameHeightInSamplesY<a href="#section-5.3.6-2.14.1.8" class="pilcrow">¶</a>
</li>
              </ul>
</dd>
            <dd class="break"></dd>
<dt id="section-5.3.6-2.15">chroma_format_idc</dt>
            <dd style="margin-left: 1.5em" id="section-5.3.6-2.16">specifies the chroma sampling relative to the luma sampling as
            specified in <a href="#_table-chroma_format_idc" class="auto internal xref">Table 2</a>. The value
            of chroma_format_idc <span class="bcp14">MUST</span> be 0, 2, 3, or 4. Other
            values are reserved for future use.<a href="#section-5.3.6-2.16" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-5.3.6-2.17">bit_depth_minus8</dt>
            <dd style="margin-left: 1.5em" id="section-5.3.6-2.18">
              <p id="section-5.3.6-2.18.1">specifies the bit depth of the samples. The variables BitDepth and QpBdOffset are derived as follows:<a href="#section-5.3.6-2.18.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.3.6-2.18.2.1">BitDepth = bit_depth_minus8 + 8<a href="#section-5.3.6-2.18.2.1" class="pilcrow">¶</a>
</li>
                <li class="normal" id="section-5.3.6-2.18.2.2">QpBdOffset = bit_depth_minus8 * 6<a href="#section-5.3.6-2.18.2.2" class="pilcrow">¶</a>
</li>
              </ul>
<p id="section-5.3.6-2.18.3">bit_depth_minus8 <span class="bcp14">MUST</span> be in the range of 2 to 8, inclusive. Other values are reserved for future use.<a href="#section-5.3.6-2.18.3" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-5.3.6-2.19">capture_time_distance</dt>
            <dd style="margin-left: 1.5em" id="section-5.3.6-2.20">indicates the time difference between the capture time of the
            frames in the previous access unit and frames in the current
            access unit in milliseconds if there has been any access unit
            preceding the access unit this frame belongs to.<a href="#section-5.3.6-2.20" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-5.3.6-2.21">reserved_zero_8bits</dt>
            <dd style="margin-left: 1.5em" id="section-5.3.6-2.22">
              <span class="bcp14">MUST</span> be equal to 0 in bitstreams conforming to
            the profiles specified in <a href="#appendix-profile-level-band" class="auto internal xref">Section 9</a>. Values of reserved_zero_8bits greater than 0 are
            reserved for future use. Decoders conforming to the profiles
            specified in <a href="#appendix-profile-level-band" class="auto internal xref">Section 9</a> <span class="bcp14">MUST</span> ignore PBU with values of
            reserved_zero_8bits greater than 0.<a href="#section-5.3.6-2.22" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
<div id="quantization-matrix">
<section id="section-5.3.7">
          <h4 id="name-quantization-matrix">
<a href="#section-5.3.7" class="section-number selfRef">5.3.7. </a><a href="#name-quantization-matrix" class="section-name selfRef">Quantization Matrix</a>
          </h4>
<span id="name-quantization_matrix-syntax-"></span><div id="syntaxcode-quantization_matrix">
<figure id="figure-14">
            <div class="alignLeft art-text artwork" id="section-5.3.7-1.1">
<pre>
syntax code                                                   | type
--------------------------------------------------------------|-----
quantization_matrix(){                                        |
  for(i = 0; i &lt; NumComps; i++){                              |
    for(y = 0; y &lt; 8; y++){                                   |
      for(x = 0; x &lt; 8; x++){                                 |
        q_matrix[i][x][y]                                     | u(8)
      }                                                       |
    }                                                         |
  }                                                           |
}                                                             |</pre>
</div>
<figcaption><a href="#figure-14" class="selfRef">Figure 14</a>:
<a href="#name-quantization_matrix-syntax-" class="selfRef">quantization_matrix() syntax code</a>
            </figcaption></figure>
</div>
<span class="break"></span><dl class="dlNewline" id="section-5.3.7-2">
            <dt id="section-5.3.7-2.1">q_matrix[i][x][y]</dt>
            <dd style="margin-left: 1.5em" id="section-5.3.7-2.2">
              <p id="section-5.3.7-2.2.1">specifies a scaling value in the quantization matrices. When
            q_matrix[i][x][y] is not present, it is inferred to be equal to
            16. The array index i specifies an indicator for the color
            component; when chroma_format_idc is equal to 2 or 3, the value of the index i is equal to 0 for Y component, 1
            for Cb, and 2 for Cr. The value of 0 for q_matrix[i][x][y] is
            reserved for future use.<a href="#section-5.3.7-2.2.1" class="pilcrow">¶</a></p>
<p id="section-5.3.7-2.2.2">The quantization matrix, QMatrix[i][x][y], is derived as follows:<a href="#section-5.3.7-2.2.2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.3.7-2.2.3.1">QMatrix[i][x][y] = q_matrix[i][x][y]<a href="#section-5.3.7-2.2.3.1" class="pilcrow">¶</a>
</li>
              </ul>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
<div id="tile-info">
<section id="section-5.3.8">
          <h4 id="name-tile-info">
<a href="#section-5.3.8" class="section-number selfRef">5.3.8. </a><a href="#name-tile-info" class="section-name selfRef">Tile Info</a>
          </h4>
<span id="name-tile_info-syntax-code"></span><div id="syntaxcode-tile_info">
<figure id="figure-15">
            <div class="alignLeft art-text artwork" id="section-5.3.8-1.1">
<pre>
syntax code                                                   | type
--------------------------------------------------------------|-----
tile_info(){                                                  |
  tile_width_in_mbs                                           | u(20)
  tile_height_in_mbs                                          | u(20)
  startMb = 0                                                 |
  for(i = 0; startMb &lt; FrameWidthInMbsY; i++){                |
    ColStarts[i] = startMb * MbWidth                          |
    startMb += tile_width_in_mbs                              |
  }                                                           |
  ColStarts[i] = FrameWidthInMbsY*MbWidth                     |
  TileCols = i                                                |
  startMb = 0                                                 |
  for(i = 0; startMb &lt; FrameHeightInMbsY; i++){               |
    RowStarts[i] = startMb * MbHeight                         |
    startMb += tile_height_in_mbs                             |
  }                                                           |
  RowStarts[i] = FrameHeightInMbsY*MbHeight                   |
  TileRows = i                                                |
  NumTiles = TileCols * TileRows                              |
  tile_size_present_in_fh_flag                                | u(1)
  if(tile_size_present_in_fh_flag){                           |
    for(i = 0; i &lt; NumTiles; i++){                            |
      tile_size_in_fh[i]                                      | u(32)
    }                                                         |
  }                                                           |
}                                                             |</pre>
</div>
<figcaption><a href="#figure-15" class="selfRef">Figure 15</a>:
<a href="#name-tile_info-syntax-code" class="selfRef">tile_info() syntax code</a>
            </figcaption></figure>
</div>
<span class="break"></span><dl class="dlNewline" id="section-5.3.8-2">
            <dt id="section-5.3.8-2.1">tile_width_in_mbs</dt>
            <dd style="margin-left: 1.5em" id="section-5.3.8-2.2">specifies the width of a tile in units of MBs.<a href="#section-5.3.8-2.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-5.3.8-2.3">tile_height_in_mbs</dt>
            <dd style="margin-left: 1.5em" id="section-5.3.8-2.4">specifies the height of a tile in units of MBs.<a href="#section-5.3.8-2.4" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-5.3.8-2.5">tile_size_present_in_fh_flag</dt>
            <dd style="margin-left: 1.5em" id="section-5.3.8-2.6">equal to 1 specifies that tile_size_in_fh[i] is present in the
            frame header. tile_size_present_in_fh_flag equal to 0 specifies
            that tile_size_in_fh[i] is not present in the frame header.<a href="#section-5.3.8-2.6" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-5.3.8-2.7">tile_size_in_fh[i]</dt>
            <dd style="margin-left: 1.5em" id="section-5.3.8-2.8">indicates the size in bytes of i-th tile data in raster order
            in a frame. The value of tile_size_in_fh[i] <span class="bcp14">MUST</span>
            have the same value with tile_size[i]. When it is not present, the
            value of tile_size_in_fh[i] is inferred to be equal to
            tile_size[i]. The value of 0 for tile_size_in_fh[i] is reserved
            for future use.<a href="#section-5.3.8-2.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
<div id="au-info">
<section id="section-5.3.9">
          <h4 id="name-access-unit-information">
<a href="#section-5.3.9" class="section-number selfRef">5.3.9. </a><a href="#name-access-unit-information" class="section-name selfRef">Access Unit Information</a>
          </h4>
<span id="name-au_info-syntax-code"></span><div id="syntaxcode-au_info">
<figure id="figure-16">
            <div class="alignLeft art-text artwork" id="section-5.3.9-1.1">
<pre>
syntax code                                                   | type
--------------------------------------------------------------|-----
au_info(){                                                    |
  num_frames                                                  | u(16)
  for(i = 0; i &lt; num_frames; i++){                            |
    pbu_type                                                  | u(8)
    group_id                                                  | u(16)
    reserved_zero_8bits                                       | u(8)
    frame_info()                                              |
  }                                                           |
  reserved_zero_8bits                                         | u(8)
  byte_alignment()                                            |
  filler()                                                    |
}                                                             |</pre>
</div>
<figcaption><a href="#figure-16" class="selfRef">Figure 16</a>:
<a href="#name-au_info-syntax-code" class="selfRef">au_info() syntax code</a>
            </figcaption></figure>
</div>
<span class="break"></span><dl class="dlNewline" id="section-5.3.9-2">
            <dt id="section-5.3.9-2.1">num_frames</dt>
            <dd style="margin-left: 1.5em" id="section-5.3.9-2.2">indicates the number of frames contained in the current AU.<a href="#section-5.3.9-2.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-5.3.9-2.3">pbu_type</dt>
            <dd style="margin-left: 1.5em" id="section-5.3.9-2.4">
              <p id="section-5.3.9-2.4.1">has the same semantics as pbu_type in the pbu_header() syntax.<a href="#section-5.3.9-2.4.1" class="pilcrow">¶</a></p>
<p id="section-5.3.9-2.4.2">Note: The value of pbu_type <span class="bcp14">MUST</span> be 1, 2, 25,
     26, or 27 in bitstreams conforming to this document.<a href="#section-5.3.9-2.4.2" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-5.3.9-2.5">group_id</dt>
            <dd style="margin-left: 1.5em" id="section-5.3.9-2.6">has the same semantics as group_id in the pbu_header() syntax.<a href="#section-5.3.9-2.6" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-5.3.9-2.7">reserved_zero_8bits</dt>
            <dd style="margin-left: 1.5em" id="section-5.3.9-2.8">
              <span class="bcp14">MUST</span> be equal to 0 in bitstreams conforming to
            the profiles specified in <a href="#appendix-profile-level-band" class="auto internal xref">Section 9</a>. Values of reserved_zero_8bits greater than 0 are
            reserved for future use. Decoders conforming to the profiles
            specified in <a href="#appendix-profile-level-band" class="auto internal xref">Section 9</a> <span class="bcp14">MUST</span> ignore PBU with values of
            reserved_zero_8bits greater than 0.<a href="#section-5.3.9-2.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
<div id="metadata">
<section id="section-5.3.10">
          <h4 id="name-metadata">
<a href="#section-5.3.10" class="section-number selfRef">5.3.10. </a><a href="#name-metadata" class="section-name selfRef">Metadata</a>
          </h4>
<span id="name-metadata-syntax-code"></span><div id="syntaxcode-metadata">
<figure id="figure-17">
            <div class="alignLeft art-text artwork" id="section-5.3.10-1.1">
<pre>
syntax code                                                   | type
--------------------------------------------------------------|-----
metadata(){                                                   |
  metadata_size                                               | u(32)
  currReadSize = 0                                            |
  do{                                                         |
    payloadType = 0                                           |
    while(next_bits(8) == 0xFF){                              |
      ff_byte                                                 | f(8)
      payloadType += ff_byte                                  |
      currReadSize++                                          |
    }                                                         |
    metadata_payload_type                                     | u(8)
    payloadType += metadata_payload_type                      |
    currReadSize++                                            |
                                                              |
    payloadSize = 0                                           |
    while(next_bits(8) == 0xFF){                              |
      ff_byte                                                 | f(8)
      payloadSize += ff_byte                                  |
      currReadSize++                                          |
    }                                                         |
    metadata_payload_size                                     | u(8)
    payloadSize += metadata_payload_size                      |
    currReadSize++                                            |
                                                              |
    metadata_payload(payloadType, payloadSize)                |
    currReadSize += payloadSize                               |
  } while(metadata_size &gt; currReadSize)                       |
  filler()                                                    |
}                                                             |</pre>
</div>
<figcaption><a href="#figure-17" class="selfRef">Figure 17</a>:
<a href="#name-metadata-syntax-code" class="selfRef">metadata() syntax code</a>
            </figcaption></figure>
</div>
<span class="break"></span><dl class="dlNewline" id="section-5.3.10-2">
            <dt id="section-5.3.10-2.1">metadata_size</dt>
            <dd style="margin-left: 1.5em" id="section-5.3.10-2.2">specifies the size of metadata before filler() in the current PBU.<a href="#section-5.3.10-2.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-5.3.10-2.3">ff_byte</dt>
            <dd style="margin-left: 1.5em" id="section-5.3.10-2.4">is a byte equal to 0xFF.<a href="#section-5.3.10-2.4" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-5.3.10-2.5">metadata_payload_type</dt>
            <dd style="margin-left: 1.5em" id="section-5.3.10-2.6">specifies the last byte of the payload type of a metadata.<a href="#section-5.3.10-2.6" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-5.3.10-2.7">metadata_payload_size</dt>
            <dd style="margin-left: 1.5em" id="section-5.3.10-2.8">specifies the last byte of the payload size of a metadata.<a href="#section-5.3.10-2.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-5.3.10-3">Syntax and semantics of metadata_payload() are specified in <a href="#appendix-metadata" class="auto internal xref">Section 8</a>.<a href="#section-5.3.10-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="filler">
<section id="section-5.3.11">
          <h4 id="name-filler">
<a href="#section-5.3.11" class="section-number selfRef">5.3.11. </a><a href="#name-filler" class="section-name selfRef">Filler</a>
          </h4>
<span id="name-filler-syntax-code"></span><div id="syntaxcode-filler">
<figure id="figure-18">
            <div class="alignLeft art-text artwork" id="section-5.3.11-1.1">
<pre>
syntax code                                                   | type
--------------------------------------------------------------|-----
filler(){                                                     |
  while(next_bits(8) == 0xFF)                                 |
    ff_byte                                                   | f(8)
}                                                             |</pre>
</div>
<figcaption><a href="#figure-18" class="selfRef">Figure 18</a>:
<a href="#name-filler-syntax-code" class="selfRef">filler() syntax code</a>
            </figcaption></figure>
</div>
<span class="break"></span><dl class="dlNewline" id="section-5.3.11-2">
            <dt id="section-5.3.11-2.1">ff_byte</dt>
            <dd style="margin-left: 1.5em" id="section-5.3.11-2.2">is a byte equal to 0xFF.<a href="#section-5.3.11-2.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
<div id="tile">
<section id="section-5.3.12">
          <h4 id="name-tile">
<a href="#section-5.3.12" class="section-number selfRef">5.3.12. </a><a href="#name-tile" class="section-name selfRef">Tile</a>
          </h4>
<span id="name-tile-syntax-code"></span><div id="syntaxcode-tile">
<figure id="figure-19">
            <div class="alignLeft art-text artwork" id="section-5.3.12-1.1">
<pre>
syntax code                                                   | type
--------------------------------------------------------------|-----
tile(tileIdx){                                                |
  tile_header(tileIdx)                                        |
  for(i = 0; i &lt; NumComps; i++){                              |
    tile_data(tileIdx, i)                                     |
  }                                                           |
  while(more_data_in_tile()){                                 |
    tile_dummy_byte                                           | b(8)
  }                                                           |
}                                                             |</pre>
</div>
<figcaption><a href="#figure-19" class="selfRef">Figure 19</a>:
<a href="#name-tile-syntax-code" class="selfRef">tile() syntax code</a>
            </figcaption></figure>
</div>
<span class="break"></span><dl class="dlNewline" id="section-5.3.12-2">
            <dt id="section-5.3.12-2.1">tile_dummy_byte</dt>
            <dd style="margin-left: 1.5em" id="section-5.3.12-2.2">has any pattern of 8-bit string.<a href="#section-5.3.12-2.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
<div id="tile-header">
<section id="section-5.3.13">
          <h4 id="name-tile-header">
<a href="#section-5.3.13" class="section-number selfRef">5.3.13. </a><a href="#name-tile-header" class="section-name selfRef">Tile Header</a>
          </h4>
<span id="name-tile_header-syntax-code"></span><div id="syntaxcode-tileheader">
<figure id="figure-20">
            <div class="alignLeft art-text artwork" id="section-5.3.13-1.1">
<pre>
syntax code                                                   | type
--------------------------------------------------------------|-----
tile_header(tileIdx){                                         |
  tile_header_size                                            | u(16)
  tile_index                                                  | u(16)
  for(i = 0; i &lt; NumComps; i++){                              |
    tile_data_size[i]                                         | u(32)
  }                                                           |
  for(i = 0; i &lt; NumComps; i++){                              |
    tile_qp[i]                                                | u(8)
  }                                                           |
  reserved_zero_8bits                                         | u(8)
  byte_alignment()                                            |
}                                                             |</pre>
</div>
<figcaption><a href="#figure-20" class="selfRef">Figure 20</a>:
<a href="#name-tile_header-syntax-code" class="selfRef">tile_header() syntax code</a>
            </figcaption></figure>
</div>
<span class="break"></span><dl class="dlNewline" id="section-5.3.13-2">
            <dt id="section-5.3.13-2.1">tile_header_size</dt>
            <dd style="margin-left: 1.5em" id="section-5.3.13-2.2">indicates the size of the tile header in bytes.<a href="#section-5.3.13-2.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-5.3.13-2.3">tile_index</dt>
            <dd style="margin-left: 1.5em" id="section-5.3.13-2.4">specifies the tile index in raster order in a frame. tile_index <span class="bcp14">MUST</span> have the same value as tileIdx.<a href="#section-5.3.13-2.4" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-5.3.13-2.5">tile_data_size[i]</dt>
            <dd style="margin-left: 1.5em" id="section-5.3.13-2.6">indicates the size of the i-th color component data in a tile in
            bytes. The array index i specifies an indicator for the color
            component; when chroma_format_idc is equal to 2 or 3, the value of the index i is equal to 0 for Y component, 1 for Cb, and 2 for Cr.
            The value of 0 for tile_data_size[i] is
            reserved for future use.<a href="#section-5.3.13-2.6" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-5.3.13-2.7">tile_qp[i]</dt>
            <dd style="margin-left: 1.5em" id="section-5.3.13-2.8">
              <p id="section-5.3.13-2.8.1">specifies the quantization parameter value for i-th color
            component. The array index i specifies an indicator for the color
            component; when chroma_format_idc is equal to 2 or 3, the value of the index i is equal to 0 for Y component, 1 for Cb, and 2 for Cr. The Qp[i] to be used for the MBs in the tile are
            derived as follows:<a href="#section-5.3.13-2.8.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.3.13-2.8.2.1">Qp[i] = tile_qp[i] - QpBdOffset<a href="#section-5.3.13-2.8.2.1" class="pilcrow">¶</a>
</li>
                <li class="normal" id="section-5.3.13-2.8.2.2">Qp[i] <span class="bcp14">MUST</span> be in the range of -QpBdOffset to 51, inclusive.<a href="#section-5.3.13-2.8.2.2" class="pilcrow">¶</a>
</li>
              </ul>
</dd>
            <dd class="break"></dd>
<dt id="section-5.3.13-2.9">reserved_zero_8bits</dt>
            <dd style="margin-left: 1.5em" id="section-5.3.13-2.10">
              <span class="bcp14">MUST</span> be equal to 0 in bitstreams conforming to
            the profiles specified in <a href="#appendix-profile-level-band" class="auto internal xref">Section 9</a>. Values of reserved_zero_8bits greater than 0 are
            reserved for future use. Decoders conforming to the profiles
            specified in <a href="#appendix-profile-level-band" class="auto internal xref">Section 9</a> <span class="bcp14">MUST</span> ignore PBU with values of
            reserved_zero_8bits greater than 0.<a href="#section-5.3.13-2.10" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
<div id="tile-data">
<section id="section-5.3.14">
          <h4 id="name-tile-data">
<a href="#section-5.3.14" class="section-number selfRef">5.3.14. </a><a href="#name-tile-data" class="section-name selfRef">Tile Data</a>
          </h4>
<span id="name-tile_data-syntax-code"></span><div id="syntaxcode-tiledata">
<figure id="figure-21">
            <div class="alignLeft art-text artwork" id="section-5.3.14-1.1">
<pre>
syntax code                                                   | type
--------------------------------------------------------------|-----
tile_data(tileIdx, cIdx){                                     |
  x0 = ColStarts[tileIdx % TileCols]                          |
  y0 = RowStarts[tileIdx // TileCols]                         |
  numMbColsInTile = (ColStarts[tileIdx % TileCols + 1] -      |
          ColStarts[tileIdx % TileCols]) // MbWidth           |
  numMbRowsInTile = (RowStarts[tileIdx // TileCols + 1] -     |
          RowStarts[tileIdx // TileCols]) // MbHeight         |
  numMbsInTile = numMbColsInTile * numMbRowsInTile            |
  PrevDC = 0                                                  |
  PrevDcDiff = 20                                             |
  Prev1stAcLevel = 0                                          |
  for(i = 0; i &lt; numMbsInTile; i++){                          |
    xMb = x0 + ((i % numMbColsInTile) * MbWidth)              |
    yMb = y0 + ((i // numMbColsInTile) * MbHeight)            |
    macroblock_layer(xMb, yMb, cIdx)                          |
  }                                                           |
  byte_alignment()                                            |
}                                                             |</pre>
</div>
<figcaption><a href="#figure-21" class="selfRef">Figure 21</a>:
<a href="#name-tile_data-syntax-code" class="selfRef">tile_data() syntax code</a>
            </figcaption></figure>
</div>
<p id="section-5.3.14-2">The tile_data() syntax calculates the location of the macroblocks belonging to each tile and collects them.<a href="#section-5.3.14-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="mb-layer">
<section id="section-5.3.15">
          <h4 id="name-macroblock-layer">
<a href="#section-5.3.15" class="section-number selfRef">5.3.15. </a><a href="#name-macroblock-layer" class="section-name selfRef">Macroblock Layer</a>
          </h4>
<span id="name-macroblock_layer-syntax-cod"></span><div id="syntaxcode-macroblock_layer">
<figure id="figure-22">
            <div class="alignLeft art-text artwork" id="section-5.3.15-1.1">
<pre>
syntax code                                                   | type
--------------------------------------------------------------|-----
macroblock_layer(xMb, yMb, cIdx){                             |
  subW = (cIdx == 0)? 1 : SubWidthC                           |
  subH = (cIdx == 0)? 1 : SubHeightC                          |
  blkWidth = (cIdx == 0)? MbWidth : MbWidthC                  |
  blkHeight = (cIdx == 0)? MbHeight : MbHeightC               |
  TrSize = 8                                                  |
  for(y = 0; y &lt; blkHeight; y += TrSize){                     |
    for(x = 0; x &lt; blkWidth; x += TrSize){                    |
      abs_dc_coeff_diff                                       | h(v)
      if(abs_dc_coeff_diff)                                   |
        sign_dc_coeff_diff                                    | u(1)
      TransCoeff[cIdx][xMb // subW + x][yMb // subH + y] =    |
            PrevDC + abs_dc_coeff_diff *                      |
            (1 - 2*sign_dc_coeff_diff)                        |
      PrevDC =                                                |
        TransCoeff[cIdx][xMb // subW + x][yMb // subH + y]    |
      PrevDcDiff = abs_dc_coeff_diff                          |
      ac_coeff_coding(xMb // subW + x, yMb // subH + y,       |
            log2(TrSize), log2(TrSize), cIdx)                 |
    }                                                         |
  }                                                           |
}                                                             |</pre>
</div>
<figcaption><a href="#figure-22" class="selfRef">Figure 22</a>:
<a href="#name-macroblock_layer-syntax-cod" class="selfRef">macroblock_layer() syntax code</a>
            </figcaption></figure>
</div>
<span class="break"></span><dl class="dlNewline" id="section-5.3.15-2">
            <dt id="section-5.3.15-2.1">abs_dc_coeff_diff</dt>
            <dd style="margin-left: 1.5em" id="section-5.3.15-2.2">specifies the absolute value of the difference between the current DC transform coefficient level and PrevDC.<a href="#section-5.3.15-2.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-5.3.15-2.3">sign_dc_coeff_diff</dt>
            <dd style="margin-left: 1.5em" id="section-5.3.15-2.4">specifies the sign of the difference between the current DC
            transform coefficient level and PrevDC. sign_dc_coeff_diff equal
            to 0 specifies that the difference has a positive
            value. sign_dc_coeff_diff equal to 1 specifies that the difference
            has a negative value.<a href="#section-5.3.15-2.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-5.3.15-3">The transform coefficients are represented by the arrays TransCoeff[cIdx][x0][y0]. The array indices x0, y0 specify the location (x0, y0) relative to the top-left sample for each component of the frame. The array index cIdx specifies an indicator for the color component; when chroma_format_idc is equal to 2 or 3, the value of the index i is equal to 0 for Y component, 1 for Cb, and 2 for Cr. The value of TransCoeff[cIdx][x0][y0] <span class="bcp14">MUST</span> be in the range of -32768 to 32767, inclusive.<a href="#section-5.3.15-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="ac-coding">
<section id="section-5.3.16">
          <h4 id="name-ac-coefficient-coding">
<a href="#section-5.3.16" class="section-number selfRef">5.3.16. </a><a href="#name-ac-coefficient-coding" class="section-name selfRef">AC Coefficient Coding</a>
          </h4>
<span id="name-ac_coeff_coding-syntax-code"></span><div id="syntaxcode-ac_coeff_coding">
<figure id="figure-23">
            <div class="alignLeft art-text artwork" id="section-5.3.16-1.1">
<pre>
syntax code                                                   | type
--------------------------------------------------------------|-----
ac_coeff_coding(x0, y0, log2BlkWidth, log2BlkHeight, cIdx){   |
  scanPos = 1                                                 |
  firstAC = 1                                                 |
  PrevLevel = Prev1stAcLevel                                  |
  PrevRun = 0                                                 |
  do{                                                         |
    coeff_zero_run                                            | h(v)
    for(i = 0; i &lt; coeff_zero_run; i++){                      |
      blkPos = ScanOrder[scanPos]                             |
      xC = blkPos &amp; ((1 &lt;&lt; log2BlkWidth) - 1)                 |
      yC = blkPos &gt;&gt; log2BlkWidth                             |
      TransCoeff[cIdx][x0+xC][y0 + yC] = 0                    |
      scanPos++                                               |
    }                                                         |
    PrevRun = coeff_zero_run                                  |
    if(scanPos &lt; (1 &lt;&lt; (log2BlkWidth + log2BlkHeight))){      |
      abs_ac_coeff_minus1                                     | h(v)
      sign_ac_coeff                                           | u(1)
      level = (abs_ac_coeff_minus1 + 1) *                     |
        (1 - 2 * sign_ac_coeff)                               |
      blkPos = ScanOrder[scanPos]                             |
      xC = blkPos &amp; ((1 &lt;&lt; log2BlkWidth) - 1)                 |
      yC = blkPos &gt;&gt; log2BlkWidth                             |
      TransCoeff[cIdx][x0 + xC][y0 + yC] = level              |
      scanPos++                                               |
      PrevLevel = abs_ac_coeff_minus1 + 1                     |
      if(firstAC == 1){                                       |
        firstAC = 0                                           |
        Prev1stAcLevel = PrevLevel                            |
      }                                                       |
    }                                                         |
  } while(scanPos &lt; (1 &lt;&lt; (log2BlkWidth + log2BlkHeight)))    |
}                                                             |</pre>
</div>
<figcaption><a href="#figure-23" class="selfRef">Figure 23</a>:
<a href="#name-ac_coeff_coding-syntax-code" class="selfRef">ac_coeff_coding() syntax code</a>
            </figcaption></figure>
</div>
<span class="break"></span><dl class="dlNewline" id="section-5.3.16-2">
            <dt id="section-5.3.16-2.1">coeff_zero_run</dt>
            <dd style="margin-left: 1.5em" id="section-5.3.16-2.2">specifies the number of zero-valued transform coefficient
            levels that are located before the position of the next non-zero
            transform coefficient level in a scan of transform coefficient
            levels.<a href="#section-5.3.16-2.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-5.3.16-2.3">abs_ac_coeff_minus1</dt>
            <dd style="margin-left: 1.5em" id="section-5.3.16-2.4">plus 1 specifies the absolute value of an AC transform coefficient level at the given scanning position.<a href="#section-5.3.16-2.4" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-5.3.16-2.5">sign_ac_coeff</dt>
            <dd style="margin-left: 1.5em" id="section-5.3.16-2.6">specifies the sign of an AC transform coefficient level for
            the given scanning position. sign_ac_coeff equal to 0 specifies
            that the corresponding AC transform coefficient level has a
            positive value. sign_ac_coeff equal to 1 specifies that the
            corresponding AC transform coefficient level has a negative
            value.<a href="#section-5.3.16-2.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-5.3.16-3">The array ScanOrder[sPos] specifies the mapping of the zig-zag scan position sPos, ranging from 0 to (1 &lt;&lt; log2BlkWidth) * (1 &lt;&lt; log2BlkHeight) - 1, inclusive, to a raster scan position rPos. ScanOrder is derived by invoking <a href="#zig-zag" class="auto internal xref">Section 4.4.1</a> with input parameters blkWidth equal to (1 &lt;&lt; log2BlkWidth) and blkHeight equal to (1 &lt;&lt; log2BlkHeight).<a href="#section-5.3.16-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="byte-alignment">
<section id="section-5.3.17">
          <h4 id="name-byte-alignment">
<a href="#section-5.3.17" class="section-number selfRef">5.3.17. </a><a href="#name-byte-alignment" class="section-name selfRef">Byte Alignment</a>
          </h4>
<span id="name-byte_alignment-syntax-code"></span><div id="syntaxcode-byte_alignment">
<figure id="figure-24">
            <div class="alignLeft art-text artwork" id="section-5.3.17-1.1">
<pre>
syntax code                                                   | type
--------------------------------------------------------------|-----
byte_alignment(){                                             |
  while(!byte_aligned())                                      |
    alignment_bit_equal_to_zero                               | f(1)
}                                                             |</pre>
</div>
<figcaption><a href="#figure-24" class="selfRef">Figure 24</a>:
<a href="#name-byte_alignment-syntax-code" class="selfRef">byte_alignment() syntax code</a>
            </figcaption></figure>
</div>
<span class="break"></span><dl class="dlNewline" id="section-5.3.17-2">
            <dt id="section-5.3.17-2.1">alignment_bit_equal_to_zero</dt>
            <dd style="margin-left: 1.5em" id="section-5.3.17-2.2">
              <span class="bcp14">MUST</span> be equal to 0.<a href="#section-5.3.17-2.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="decoding-process">
<section id="section-6">
      <h2 id="name-decoding-process">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-decoding-process" class="section-name selfRef">Decoding Process</a>
      </h2>
<p id="section-6-1">This process is invoked to obtain a decoded frame from a bitstream. Input to this process is a bitstream of a coded frame. Output of this process is a decoded frame.<a href="#section-6-1" class="pilcrow">¶</a></p>
<p id="section-6-2">The decoding process operates as follows for the current frame:<a href="#section-6-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6-3.1">
          <p id="section-6-3.1.1">The syntax structure for a coded frame is parsed to obtain the parsed syntax structures.<a href="#section-6-3.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-6-3.2">
          <p id="section-6-3.2.1">The processes in Sections <a href="#mb-decoding" class="auto internal xref">6.1</a>, <a href="#block-recon" class="auto internal xref">6.2</a>, and <a href="#scaling-transform" class="auto internal xref">6.3</a> specify the decoding processes using syntax elements in all syntax structures. For bitstreams conforming to this document, the coded tiles of the frame <span class="bcp14">MUST</span> contain tile data for every MB of the frame, such that the division of the frame into tiles and the division of the tiles into MBs form a partitioning of the frame.<a href="#section-6-3.2.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-6-3.3">
          <p id="section-6-3.3.1">After all the tiles in the current frame have been decoded, the decoded frame is cropped using the cropping rectangle if FrameWidthInSamplesY is not equal to FrameWidthInMbsY * MbWidth or FrameHeightInSamplesY is not equal to FrameHeightInMbsY * MbHeight.<a href="#section-6-3.3.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-6-3.4">
          <p id="section-6-3.4.1">The cropping rectangle, which specifies the samples of a frame that are output, is derived as follows:<a href="#section-6-3.4.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6-3.4.2.1">
              <p id="section-6-3.4.2.1.1">The cropping rectangle contains the luma samples with horizontal frame coordinates from 0 to FrameWidthInSampleY - 1 and vertical frame coordinates from 0 to FrameHeightInSamplesY - 1, inclusive.<a href="#section-6-3.4.2.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-6-3.4.2.2">
              <p id="section-6-3.4.2.2.1">The cropping rectangle contains the two chroma arrays having frame coordinates (x//SubWidthC, y//SubHeightC), where (x,y) are the frame coordinates of the specified luma samples.<a href="#section-6-3.4.2.2.1" class="pilcrow">¶</a></p>
</li>
          </ul>
</li>
      </ul>
<div id="mb-decoding">
<section id="section-6.1">
        <h3 id="name-mb-decoding-process">
<a href="#section-6.1" class="section-number selfRef">6.1. </a><a href="#name-mb-decoding-process" class="section-name selfRef">MB Decoding Process</a>
        </h3>
<p id="section-6.1-1">This process is invoked for each MB.<a href="#section-6.1-1" class="pilcrow">¶</a></p>
<p id="section-6.1-2">Input to this process is a luma location (xMb, yMb) specifying the top-left sample of the current luma MB relative to the top-left luma sample of the current frame.
Outputs of this process are the reconstructed samples of all color components. The total number of color components is indicated by the value of NumComps for the current MB. For example, when chroma_format_idc is equal to 2 or 3, the value of NumComps is equal to 3 and three components, Y component, Cb component, and Cr component, are reconstructed<a href="#section-6.1-2" class="pilcrow">¶</a></p>
<p id="section-6.1-3">The following steps apply:<a href="#section-6.1-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.1-4.1">
            <p id="section-6.1-4.1.1">Let recSamples[0] be a (MbWidth)x(MbHeight) array of the reconstructed samples of the first color component (when chroma_format_idc is equal to 2 or 3, Y).<a href="#section-6.1-4.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.1-4.2">
            <p id="section-6.1-4.2.1">The block reconstruction process as specified in <a href="#block-recon" class="auto internal xref">Section 6.2</a> is invoked with the luma location (xMb, yMb), the variable nBlkW set equal to MbWidth, the variable nBlkH set equal to MbHeight, the variable cIdx set equal to 0, and the (MbWidth)x(MbHeight) array recSamples[0] as inputs. The output is a modified version of the (MbWidth)x(MbHeight) array recSamples[0], which is the reconstructed samples of the first color component for the current MB.<a href="#section-6.1-4.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.1-4.3">
            <p id="section-6.1-4.3.1">When chroma_format_idc is not equal to 0, let recSamples[1] be a (MbWidthC)x(MbHeightC) array of the reconstructed samples of the second color component. For example, when chroma_format_idc is equal to 2 or 3, recSamples[1] is the Cb color component.<a href="#section-6.1-4.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.1-4.4">
            <p id="section-6.1-4.4.1">When chroma_format_idc is not equal to 0, the block reconstruction process as specified in <a href="#block-recon" class="auto internal xref">Section 6.2</a> is invoked with the luma location (xMb, yMb), the variable nBlkW set equal to MbWidthC, the variable nBlkH set equal to MbHeightC, the variable cIdx set equal to 1, and the (MbWidthC)x(MbHeightC) array recSamples[1] as inputs.  The output is a modified version of the (MbWidthC)x(MbHeightC) array recSamples[1], which is the reconstructed samples of the second color component for the current MB.<a href="#section-6.1-4.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.1-4.5">
            <p id="section-6.1-4.5.1">When chroma_format_idc is not equal to 0, let recSamples[2] be a (MbWidthC)x(MbHeightC) array of the reconstructed samples of the third color component. For example, when chroma_format_idc is equal to 2 or 3, recSamples[2] is the Cr color component.<a href="#section-6.1-4.5.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.1-4.6">
            <p id="section-6.1-4.6.1">When chroma_format_idc is not equal to 0, the block reconstruction process as specified in <a href="#block-recon" class="auto internal xref">Section 6.2</a> is invoked with the luma location (xMb, yMb), the variable nBlkW set equal to MbWidthC, the variable nBlkH set equal to MbHeightC, the variable cIdx set equal to 2, and the (MbWidthC)x(MbHeightC) array recSamples[2] as inputs. The output is a modified version of the (MbWidthC)x(MbHeightC) array recSamples[2], which is the reconstructed samples of the third color component for the current MB.<a href="#section-6.1-4.6.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.1-4.7">
            <p id="section-6.1-4.7.1">When chroma_format_idc is equal to 4, let recSamples[3] be a (MbWidthC)x(MbHeightC) array of the reconstructed samples of the fourth color component.<a href="#section-6.1-4.7.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.1-4.8">
            <p id="section-6.1-4.8.1">When chroma_format_idc is equal to 4, the block reconstruction process as specified in <a href="#block-recon" class="auto internal xref">Section 6.2</a> is invoked with the luma location (xMb, yMb), the variable nBlkW set equal to MbWidthC, the variable nBlkH set equal to MbHeightC, the variable cIdx set equal to 3, and the (MbWidthC)x(MbHeightC) array recSamples[3] as inputs. The output is a modified version of the (MbWidthC)x(MbHeightC) array recSamples[3], which is the reconstructed samples of the fourth color component for the current MB.<a href="#section-6.1-4.8.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="block-recon">
<section id="section-6.2">
        <h3 id="name-block-reconstruction-proces">
<a href="#section-6.2" class="section-number selfRef">6.2. </a><a href="#name-block-reconstruction-proces" class="section-name selfRef">Block Reconstruction Process</a>
        </h3>
<p id="section-6.2-1">Inputs to this process are:<a href="#section-6.2-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.2-2.1">
            <p id="section-6.2-2.1.1">a luma location (xMb, yMb) specifying the top-left sample of the current MB relative to the top-left luma sample of the current frame,<a href="#section-6.2-2.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.2-2.2">
            <p id="section-6.2-2.2.1">two variables nBlkW and nBlkH specifying the width and the height of the current block,<a href="#section-6.2-2.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.2-2.3">
            <p id="section-6.2-2.3.1">a variable cIdx specifying the color component of the current block, and<a href="#section-6.2-2.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.2-2.4">
            <p id="section-6.2-2.4.1">an (nBlkW)x(nBlkH) array of recSamples of a reconstructed block.<a href="#section-6.2-2.4.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-6.2-3">Output of this process is a modified version of the (nBlkW)x(nBlkH) array recSamples of reconstructed samples.<a href="#section-6.2-3" class="pilcrow">¶</a></p>
<p id="section-6.2-4">The following applies:<a href="#section-6.2-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.2-5.1">
            <p id="section-6.2-5.1.1">The variables numBlkX and numBlkY are derived as follows:<a href="#section-6.2-5.1.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.2-5.1.2.1">
                <p id="section-6.2-5.1.2.1.1">numBlkX = nBlkW // TrSize<a href="#section-6.2-5.1.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-6.2-5.1.2.2">
                <p id="section-6.2-5.1.2.2.1">numBlkY = nBlkH // TrSize<a href="#section-6.2-5.1.2.2.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="normal" id="section-6.2-5.2">
            <p id="section-6.2-5.2.1">For yIdx = 0..numBlkY - 1, the following applies:<a href="#section-6.2-5.2.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.2-5.2.2.1">
                <p id="section-6.2-5.2.2.1.1">For xIdx = 0..numBlkX - 1, the following applies:<a href="#section-6.2-5.2.2.1.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.2-5.2.2.1.2.1">
                    <p id="section-6.2-5.2.2.1.2.1.1">The variables xBlk and yBlk are derived as follows:<a href="#section-6.2-5.2.2.1.2.1.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.2-5.2.2.1.2.1.2.1">
                        <p id="section-6.2-5.2.2.1.2.1.2.1.1">xBlk = xMb // (cIdx==0? 1: SubWidthC) + xIdx*TrSize<a href="#section-6.2-5.2.2.1.2.1.2.1.1" class="pilcrow">¶</a></p>
</li>
                      <li class="normal" id="section-6.2-5.2.2.1.2.1.2.2">
                        <p id="section-6.2-5.2.2.1.2.1.2.2.1">yBlk = yMb // (cIdx==0? 1: SubHeightC) + yIdx*TrSize<a href="#section-6.2-5.2.2.1.2.1.2.2.1" class="pilcrow">¶</a></p>
</li>
                    </ul>
</li>
                  <li class="normal" id="section-6.2-5.2.2.1.2.2">
                    <p id="section-6.2-5.2.2.1.2.2.1">The scaling and transformation process as specified in <a href="#scaling-transform" class="auto internal xref">Section 6.3</a> is invoked with the location (xBlk, yBlk), the variable cIdx set equal to cIdx, the transform width nBlkW set equal to TrSize, and the transform height nBlkH set equal to TrSize as inputs. The output is a (TrSize)x(TrSize) array r of a reconstructed block.<a href="#section-6.2-5.2.2.1.2.2.1" class="pilcrow">¶</a></p>
</li>
                  <li class="normal" id="section-6.2-5.2.2.1.2.3">
                    <p id="section-6.2-5.2.2.1.2.3.1">The (TrSize)x(TrSize) array recSamples is modified as follows:<a href="#section-6.2-5.2.2.1.2.3.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.2-5.2.2.1.2.3.2.1">
                        <p id="section-6.2-5.2.2.1.2.3.2.1.1">recSamples[(xIdx * TrSize) + i, (yIdx * TrSize) + j] = r[i,j], with i=0..TrSize-1, j=0..TrSize-1<a href="#section-6.2-5.2.2.1.2.3.2.1.1" class="pilcrow">¶</a></p>
</li>
                    </ul>
</li>
                </ul>
</li>
            </ul>
</li>
        </ul>
</section>
</div>
<div id="scaling-transform">
<section id="section-6.3">
        <h3 id="name-scaling-and-transformation-">
<a href="#section-6.3" class="section-number selfRef">6.3. </a><a href="#name-scaling-and-transformation-" class="section-name selfRef">Scaling and Transformation Process</a>
        </h3>
<p id="section-6.3-1">Inputs to this process are:<a href="#section-6.3-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.3-2.1">
            <p id="section-6.3-2.1.1">a location (xBlkY, yBlkY) of the current color component specifying the top-left sample of the current block relative to the top-left sample of the current frame,<a href="#section-6.3-2.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.3-2.2">
            <p id="section-6.3-2.2.1">a variable cIdx specifying the color component of the current block,<a href="#section-6.3-2.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.3-2.3">
            <p id="section-6.3-2.3.1">a variable nBlkW specifying the width of the current block, and<a href="#section-6.3-2.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.3-2.4">
            <p id="section-6.3-2.4.1">a variable nBlkH specifying the height of the current block.<a href="#section-6.3-2.4.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-6.3-3">Output of this process is the (nBlkW)x(nBlkH) array of reconstructed samples r with elements r[x][y].<a href="#section-6.3-3" class="pilcrow">¶</a></p>
<p id="section-6.3-4">The quantization parameter qP is derived as follows:<a href="#section-6.3-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.3-5.1">
            <p id="section-6.3-5.1.1">qP = Qp[cIdx] + QpBdOffset<a href="#section-6.3-5.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-6.3-6">The (nBlKW)x(nBlkH) array of reconstructed samples r is derived as follows:<a href="#section-6.3-6" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.3-7.1">
            <p id="section-6.3-7.1.1">The scaling process for transform coefficients as specified in <a href="#scaling-process" class="auto internal xref">Section 6.3.1</a> is invoked with the block location (xBlkY, yBlkY), the block width nBlkW and the block height nBlkH, the color component variable cIdx, and the quantization parameter qP as inputs. The output is an (nBlkW)x(nBlkH) array of scaled transform coefficients d.<a href="#section-6.3-7.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.3-7.2">
            <p id="section-6.3-7.2.1">The transformation process for scaled transform coefficients as specified in <a href="#process-coeff" class="auto internal xref">Section 6.3.2</a> is invoked with the block location (xBlkY, yBlkY), the block width nBlkW and the block height nBlkH, the color component variable cIdx, and the (nBlkW)x(nBlkH) array of scaled transform coefficients d as inputs. The output is an (nBlkW)x(nBlkH) array of reconstructed samples r.<a href="#section-6.3-7.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.3-7.3">
            <p id="section-6.3-7.3.1">The variable bdShift is derived as follows:<a href="#section-6.3-7.3.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.3-7.3.2.1">
                <p id="section-6.3-7.3.2.1.1">bdShift = 20 - BitDepth<a href="#section-6.3-7.3.2.1.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="normal" id="section-6.3-7.4">
            <p id="section-6.3-7.4.1">The reconstructed sample values r[x][y] with x = 0..nBlkW - 1, y = 0..nBlkH - 1 are modified as follows:<a href="#section-6.3-7.4.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.3-7.4.2.1">
                <p id="section-6.3-7.4.2.1.1">r[x][y] = clip(0, (1 &lt;&lt; BitDepth)-1, ((r[x][y]+(1 &lt;&lt; (bdShift-1)))&gt;&gt;bdShift) + (1 &lt;&lt; (BitDepth-1)))<a href="#section-6.3-7.4.2.1.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
        </ul>
<div id="scaling-process">
<section id="section-6.3.1">
          <h4 id="name-scaling-process-for-transfo">
<a href="#section-6.3.1" class="section-number selfRef">6.3.1. </a><a href="#name-scaling-process-for-transfo" class="section-name selfRef">Scaling Process for Transform Coefficients</a>
          </h4>
<p id="section-6.3.1-1">Inputs to this process are:<a href="#section-6.3.1-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.3.1-2.1">
              <p id="section-6.3.1-2.1.1">a location (xBlkY, yBlkY) of the current color component specifying the top-left sample of the current block relative to the top-left sample of the current frame,<a href="#section-6.3.1-2.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-6.3.1-2.2">
              <p id="section-6.3.1-2.2.1">a variable nBlkW specifying the width of the current block,<a href="#section-6.3.1-2.2.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-6.3.1-2.3">
              <p id="section-6.3.1-2.3.1">a variable nBlkH specifying the height of the current block,<a href="#section-6.3.1-2.3.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-6.3.1-2.4">
              <p id="section-6.3.1-2.4.1">a variable cIdx specifying the color component of the current block, and<a href="#section-6.3.1-2.4.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-6.3.1-2.5">
              <p id="section-6.3.1-2.5.1">a variable qP specifying the quantization parameter.<a href="#section-6.3.1-2.5.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="section-6.3.1-3">Output of this process is the (nBlkW)x(nBlkH) array d of scaled transform coefficients with elements d[x][y].<a href="#section-6.3.1-3" class="pilcrow">¶</a></p>
<p id="section-6.3.1-4">The variable bdShift is derived as follows:<a href="#section-6.3.1-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.3.1-5.1">
              <p id="section-6.3.1-5.1.1">bdShift = BitDepth + ((log2(nBlkW) + log2(nBlkH)) // 2) - 5<a href="#section-6.3.1-5.1.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="section-6.3.1-6">The list levelScale[] is specified as follows:<a href="#section-6.3.1-6" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.3.1-7.1">
              <p id="section-6.3.1-7.1.1">levelScale[k] = {40, 45, 51, 57, 64, 71} with k = 0..5.<a href="#section-6.3.1-7.1.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="section-6.3.1-8">For the derivation of the scaled transform coefficients d[x][y] with x = 0..nBlkW - 1, y = 0..nBlkH - 1, the following applies:<a href="#section-6.3.1-8" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.3.1-9.1">
              <p id="section-6.3.1-9.1.1">The scaled transform coefficient d[x][y] is derived as follows:<a href="#section-6.3.1-9.1.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.3.1-9.1.2.1">
                  <p id="section-6.3.1-9.1.2.1.1">d[x][y] = clip(-32768, 32767, ((TransCoeff[cIdx][xBlkY][yBlkY] * QMatrix[cIdx][x][y] * levelScale[qP % 6] &lt;&lt; (qP//6)) + (1 &lt;&lt; (bdShift-1)) &gt;&gt; bdShift))<a href="#section-6.3.1-9.1.2.1.1" class="pilcrow">¶</a></p>
</li>
              </ul>
</li>
          </ul>
</section>
</div>
<div id="process-coeff">
<section id="section-6.3.2">
          <h4 id="name-process-for-scaled-transfor">
<a href="#section-6.3.2" class="section-number selfRef">6.3.2. </a><a href="#name-process-for-scaled-transfor" class="section-name selfRef">Process for Scaled Transform Coefficients</a>
          </h4>
<div id="general-1">
<section id="section-6.3.2.1">
            <h5 id="name-general-2">
<a href="#section-6.3.2.1" class="section-number selfRef">6.3.2.1. </a><a href="#name-general-2" class="section-name selfRef">General</a>
            </h5>
<p id="section-6.3.2.1-1">Inputs to this process are:<a href="#section-6.3.2.1-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.3.2.1-2.1">
                <p id="section-6.3.2.1-2.1.1">a location (xBlkY, yBlkY) of the current color component specifying the top-left sample of the current block relative to the top-left sample of the current frame,<a href="#section-6.3.2.1-2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-6.3.2.1-2.2">
                <p id="section-6.3.2.1-2.2.1">a variable nBlkW specifying the width of the current block,<a href="#section-6.3.2.1-2.2.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-6.3.2.1-2.3">
                <p id="section-6.3.2.1-2.3.1">a variable nBlkH specifying the height of the current block, and<a href="#section-6.3.2.1-2.3.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-6.3.2.1-2.4">
                <p id="section-6.3.2.1-2.4.1">an (nBlkW)x(nBlkH) array d of scaled transform coefficients with elements d[x][y].<a href="#section-6.3.2.1-2.4.1" class="pilcrow">¶</a></p>
</li>
            </ul>
<p id="section-6.3.2.1-3">Output of this process is the (nBlkW)x(nBlkH) array r of reconstructed samples with elements r[x][y].<a href="#section-6.3.2.1-3" class="pilcrow">¶</a></p>
<p id="section-6.3.2.1-4">The (nBlkW)x(nBlkH) array r of reconstructed samples is derived as follows:<a href="#section-6.3.2.1-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.3.2.1-5.1">
                <p id="section-6.3.2.1-5.1.1">Each (vertical) column of scaled transform coefficients d[x][y] with x = 0..nBlkW - 1, y = 0..nBlkH - 1 is transformed to e[x][y] with x = 0..nBlkW - 1, y = 0..nBlkH - 1 by invoking the one-dimensional transformation process as specified in <a href="#transform-process" class="auto internal xref">Section 6.3.2.2</a> for each column x = 0..nBlkW - 1 with the size of the transform block nBlkH, and the list d[x][y] with y = 0..nBlkH - 1 as inputs. The output is the list e[x][y] with y = 0..nBlkH - 1.<a href="#section-6.3.2.1-5.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-6.3.2.1-5.2">
                <p id="section-6.3.2.1-5.2.1">The following applies:<a href="#section-6.3.2.1-5.2.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.3.2.1-5.2.2.1">
                    <p id="section-6.3.2.1-5.2.2.1.1">g[x][y] = (e[x][y] + 64) &gt;&gt; 7<a href="#section-6.3.2.1-5.2.2.1.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
              <li class="normal" id="section-6.3.2.1-5.3">
                <p id="section-6.3.2.1-5.3.1">Each (horizontal) row of the resulting array g[x][y] with x = 0..nBlkW - 1, y = 0..nBlkH - 1 is transformed to r[x][y] with x = 0..nBlkW - 1, y = 0..nBlkH - 1 by invoking the one-dimensional transformation process as specified in <a href="#transform-process" class="auto internal xref">Section 6.3.2.2</a> for each row y = 0..nBlkH - 1 with the size of the transform block nBlkW, and the list g[x][y] with x = 0..nBlkW - 1 as inputs. The output is the list r[x][y] with x = 0..nBlkW - 1.<a href="#section-6.3.2.1-5.3.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</section>
</div>
<div id="transform-process">
<section id="section-6.3.2.2">
            <h5 id="name-transformation-process">
<a href="#section-6.3.2.2" class="section-number selfRef">6.3.2.2. </a><a href="#name-transformation-process" class="section-name selfRef">Transformation Process</a>
            </h5>
<p id="section-6.3.2.2-1">Inputs to this process are:<a href="#section-6.3.2.2-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.3.2.2-2.1">
                <p id="section-6.3.2.2-2.1.1">a variable nTbS specifying the sample size of scaled transform coefficients, and<a href="#section-6.3.2.2-2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-6.3.2.2-2.2">
                <p id="section-6.3.2.2-2.2.1">a list of scaled transform coefficients x with elements x[j], with j = 0..(nTbS - 1).<a href="#section-6.3.2.2-2.2.1" class="pilcrow">¶</a></p>
</li>
            </ul>
<p id="section-6.3.2.2-3">Output of this process is the list of transformed samples y with elements y[i], with i = 0..(nTbS - 1).<a href="#section-6.3.2.2-3" class="pilcrow">¶</a></p>
<p id="section-6.3.2.2-4">The transformation matrix derivation process as specified in <a href="#matrix-process" class="auto internal xref">Section 6.3.2.3</a> is invoked with the transform size nTbS as input, and the transformation matrix transMatrix as output.<a href="#section-6.3.2.2-4" class="pilcrow">¶</a></p>
<p id="section-6.3.2.2-5">The list of transformed samples y[i] with i = 0..(nTbS - 1) is derived as follows:<a href="#section-6.3.2.2-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.3.2.2-6.1">
                <p id="section-6.3.2.2-6.1.1">y[i] = sum(j = 0, nTbS - 1, transMatrix[i][j] * x[j])<a href="#section-6.3.2.2-6.1.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</section>
</div>
<div id="matrix-process">
<section id="section-6.3.2.3">
            <h5 id="name-transformation-matrix-deriv">
<a href="#section-6.3.2.3" class="section-number selfRef">6.3.2.3. </a><a href="#name-transformation-matrix-deriv" class="section-name selfRef">Transformation Matrix Derivation Process</a>
            </h5>
<p id="section-6.3.2.3-1">Input to this process is a variable nTbS specifying the horizontal sample size of scaled transform coefficients.<a href="#section-6.3.2.3-1" class="pilcrow">¶</a></p>
<p id="section-6.3.2.3-2">Output of this process is the transformation matrix transMatrix.<a href="#section-6.3.2.3-2" class="pilcrow">¶</a></p>
<p id="section-6.3.2.3-3">The transformation matrix transMatrix is derived based on nTbs as follows:<a href="#section-6.3.2.3-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.3.2.3-4.1">
                <p id="section-6.3.2.3-4.1.1">If nTbS is equal to 8, the following applies:<a href="#section-6.3.2.3-4.1.1" class="pilcrow">¶</a></p>
<span id="name-transform-matrix-for-ntbs-8"></span><div id="transmatrix">
<figure id="figure-25">
                  <div class="alignLeft art-text artwork" id="section-6.3.2.3-4.1.2.1">
<pre>
transMatrix[m][n] =
   {
    {  64,  64,  64,  64,  64,  64,  64,  64 }
    {  89,  75,  50,  18, -18, -50, -75, -89 }
    {  84,  35, -35, -84, -84, -35,  35,  84 }
    {  75, -18, -89, -50,  50,  89,  18, -75 }
    {  64, -64, -64,  64,  64, -64, -64,  64 }
    {  50, -89,  18,  75, -75, -18,  89, -50 }
    {  35, -84,  84, -35, -35,  84, -84,  35 }
    {  18, -50,  75, -89,  89, -75,  50, -18 }
   }</pre>
</div>
<figcaption><a href="#figure-25" class="selfRef">Figure 25</a>:
<a href="#name-transform-matrix-for-ntbs-8" class="selfRef">Transform matrix for nTbS == 8</a>
                  </figcaption></figure>
</div>
</li>
            </ul>
</section>
</div>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="parsing-process">
<section id="section-7">
      <h2 id="name-parsing-process">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-parsing-process" class="section-name selfRef">Parsing Process</a>
      </h2>
<div id="process_h">
<section id="section-7.1">
        <h3 id="name-process-for-syntax-element-">
<a href="#section-7.1" class="section-number selfRef">7.1. </a><a href="#name-process-for-syntax-element-" class="section-name selfRef">Process for Syntax Element Type h(v)</a>
        </h3>
<p id="section-7.1-1">This process is invoked for the parsing of syntax elements with descriptor h(v) in <a href="#mb-layer" class="auto internal xref">Section 5.3.15</a> and <a href="#ac-coding" class="auto internal xref">Section 5.3.16</a>.<a href="#section-7.1-1" class="pilcrow">¶</a></p>
<div id="process-for-absdccoeffdiff">
<section id="section-7.1.1">
          <h4 id="name-process-for-abs_dc_coeff_di">
<a href="#section-7.1.1" class="section-number selfRef">7.1.1. </a><a href="#name-process-for-abs_dc_coeff_di" class="section-name selfRef">Process for abs_dc_coeff_diff</a>
          </h4>
<p id="section-7.1.1-1">Inputs to this process are bits for the abs_dc_coeff_diff syntax element.
 Output of this process is a value of the abs_dc_coeff_diff syntax element.
 The variable kParam is derived as follows:<a href="#section-7.1.1-1" class="pilcrow">¶</a></p>
<p style="margin-left: 1.5em" id="section-7.1.1-2">kParam = clip(0, 5, PrevDcDiff &gt;&gt; 1)<a href="#section-7.1.1-2" class="pilcrow">¶</a></p>
<p id="section-7.1.1-3">The value of syntax element abs_dc_coeff_diff is obtained by invoking the parsing process for variable-length codes as specified in <a href="#process-vlc" class="auto internal xref">Section 7.1.4</a> with kParam.<a href="#section-7.1.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="process-for-coeffzerorun">
<section id="section-7.1.2">
          <h4 id="name-process-for-coeff_zero_run">
<a href="#section-7.1.2" class="section-number selfRef">7.1.2. </a><a href="#name-process-for-coeff_zero_run" class="section-name selfRef">Process for coeff_zero_run</a>
          </h4>
<p id="section-7.1.2-1">Inputs to this process are bits for the coeff_zero_run syntax element.<a href="#section-7.1.2-1" class="pilcrow">¶</a></p>
<p id="section-7.1.2-2">Output of this process is a value of the coeff_zero_run syntax element.<a href="#section-7.1.2-2" class="pilcrow">¶</a></p>
<p id="section-7.1.2-3">The variable kParam is derived as follows:<a href="#section-7.1.2-3" class="pilcrow">¶</a></p>
<p style="margin-left: 1.5em" id="section-7.1.2-4">kParam = clip(0, 2, PrevRun &gt;&gt; 2)<a href="#section-7.1.2-4" class="pilcrow">¶</a></p>
<p id="section-7.1.2-5">The value of syntax element coeff_zero_run is obtained by invoking the parsing process for variable-length codes as specified in <a href="#process-vlc" class="auto internal xref">Section 7.1.4</a> with kParam.<a href="#section-7.1.2-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="process-for-absaccoeffminus1">
<section id="section-7.1.3">
          <h4 id="name-process-for-abs_ac_coeff_mi">
<a href="#section-7.1.3" class="section-number selfRef">7.1.3. </a><a href="#name-process-for-abs_ac_coeff_mi" class="section-name selfRef">Process for abs_ac_coeff_minus1</a>
          </h4>
<p id="section-7.1.3-1">Inputs to this process are bits for the abs_ac_coeff_minus1 syntax element.<a href="#section-7.1.3-1" class="pilcrow">¶</a></p>
<p id="section-7.1.3-2">Output of this process is a value of the abs_ac_coeff_minus1 syntax element.<a href="#section-7.1.3-2" class="pilcrow">¶</a></p>
<p id="section-7.1.3-3">The variable kParam is derived as follows:<a href="#section-7.1.3-3" class="pilcrow">¶</a></p>
<p style="margin-left: 1.5em" id="section-7.1.3-4">kParam = clip(0, 4, PrevLevel &gt;&gt; 2)<a href="#section-7.1.3-4" class="pilcrow">¶</a></p>
<p id="section-7.1.3-5">The value of syntax element abs_ac_coeff_minus1 is obtained by invoking the parsing process for variable-length codes as specified in <a href="#process-vlc" class="auto internal xref">Section 7.1.4</a> with kParam.<a href="#section-7.1.3-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="process-vlc">
<section id="section-7.1.4">
          <h4 id="name-process-for-variable-length">
<a href="#section-7.1.4" class="section-number selfRef">7.1.4. </a><a href="#name-process-for-variable-length" class="section-name selfRef">Process for Variable-Length Codes</a>
          </h4>
<p id="section-7.1.4-1">Input to this process is kParam.<a href="#section-7.1.4-1" class="pilcrow">¶</a></p>
<p id="section-7.1.4-2">Output of this process is a value, symbolValue, of a syntax element.<a href="#section-7.1.4-2" class="pilcrow">¶</a></p>
<p id="section-7.1.4-3">The symbolValue is derived as follows:<a href="#section-7.1.4-3" class="pilcrow">¶</a></p>
<span id="name-parsing-process-of-symbolva"></span><div id="parse_symbolValue">
<figure id="figure-26">
            <div class="alignLeft art-text artwork" id="section-7.1.4-4.1">
<pre>
symbolValue = 0
parseExpGolomb = 1
k = kParam
stopLoop = 0

if(read_bits(1) == 1){
  parseExpGolomb = 0
}
else{
  if(read_bits (1) == 0){
    symbolValue += (1 &lt;&lt; k)
    parseExpGolomb = 0
  }
  else{
    symbolValue += (2 &lt;&lt; k)
    parseExpGolomb = 1
  }
}

if(parseExpGolomb){
  do{
    if(read_bits(1) == 1){
      stopLoop = 1
    }
    else{
      symbolValue += (1 &lt;&lt; k)
      k++
    }
  } while(!stopLoop)
}

if(k &gt; 0)
  symbolValue += read_bits(k)</pre>
</div>
<figcaption><a href="#figure-26" class="selfRef">Figure 26</a>:
<a href="#name-parsing-process-of-symbolva" class="selfRef">Parsing process of symbolValue</a>
            </figcaption></figure>
</div>
<p id="section-7.1.4-5">where the value returned from read_bits(n) is interpreted as a binary representation of an n-bit unsigned integer with the most significant bit written first.<a href="#section-7.1.4-5" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="codeword-generation-process-for-hv-informative">
<section id="section-7.2">
        <h3 id="name-codeword-generation-process">
<a href="#section-7.2" class="section-number selfRef">7.2. </a><a href="#name-codeword-generation-process" class="section-name selfRef">Codeword Generation Process for h(v) (Informative)</a>
        </h3>
<p id="section-7.2-1">This process specifies the code generation process for syntax elements with descriptor h(v).<a href="#section-7.2-1" class="pilcrow">¶</a></p>
<div id="process-for-absdccoeffdiff-1">
<section id="section-7.2.1">
          <h4 id="name-process-for-abs_dc_coeff_dif">
<a href="#section-7.2.1" class="section-number selfRef">7.2.1. </a><a href="#name-process-for-abs_dc_coeff_dif" class="section-name selfRef">Process for abs_dc_coeff_diff</a>
          </h4>
<p id="section-7.2.1-1">Input to this process is a symbol value of the abs_dc_coeff_diff syntax element.<a href="#section-7.2.1-1" class="pilcrow">¶</a></p>
<p id="section-7.2.1-2">Output of this process is a codeword of the abs_dc_coeff_diff syntax element.<a href="#section-7.2.1-2" class="pilcrow">¶</a></p>
<p id="section-7.2.1-3">The variable kParam is derived as follows:<a href="#section-7.2.1-3" class="pilcrow">¶</a></p>
<p style="margin-left: 1.5em" id="section-7.2.1-4">kParam = clip(0, 5, PrevDcDiff &gt;&gt; 1)<a href="#section-7.2.1-4" class="pilcrow">¶</a></p>
<p id="section-7.2.1-5">The codeword of syntax element abs_dc_coeff_diff is obtained by invoking the generation process for variable-length codes as specified in <a href="#process-generate-vlc" class="auto internal xref">Section 7.2.4</a> with the symbol value symbolValue and kParam.<a href="#section-7.2.1-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="process-for-coeffzerorun-1">
<section id="section-7.2.2">
          <h4 id="name-process-for-coeff_zero_run-2">
<a href="#section-7.2.2" class="section-number selfRef">7.2.2. </a><a href="#name-process-for-coeff_zero_run-2" class="section-name selfRef">Process for coeff_zero_run</a>
          </h4>
<p id="section-7.2.2-1">Input to this process is a symbol value of the coeff_zero_run syntax element.<a href="#section-7.2.2-1" class="pilcrow">¶</a></p>
<p id="section-7.2.2-2">Output of this process is a codeword of the coeff_zero_run syntax element.<a href="#section-7.2.2-2" class="pilcrow">¶</a></p>
<p id="section-7.2.2-3">The variable kParam is derived as follows:<a href="#section-7.2.2-3" class="pilcrow">¶</a></p>
<p style="margin-left: 1.5em" id="section-7.2.2-4">kParam = clip(0, 2, PrevRun &gt;&gt; 2)<a href="#section-7.2.2-4" class="pilcrow">¶</a></p>
<p id="section-7.2.2-5">The codeword of syntax element coeff_zero_run is obtained by invoking the generation process for variable-length codes as specified in <a href="#process-generate-vlc" class="auto internal xref">Section 7.2.4</a> with the symbol value symbolValue and kParam.<a href="#section-7.2.2-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="process-for-absaccoeffminus1-1">
<section id="section-7.2.3">
          <h4 id="name-process-for-abs_ac_coeff_min">
<a href="#section-7.2.3" class="section-number selfRef">7.2.3. </a><a href="#name-process-for-abs_ac_coeff_min" class="section-name selfRef">Process for abs_ac_coeff_minus1</a>
          </h4>
<p id="section-7.2.3-1">Input to this process is a symbol value of the abs_ac_coeff_minus1 syntax element.<a href="#section-7.2.3-1" class="pilcrow">¶</a></p>
<p id="section-7.2.3-2">Output of this process is a codeword of the abs_ac_coeff_minus1 syntax element.<a href="#section-7.2.3-2" class="pilcrow">¶</a></p>
<p id="section-7.2.3-3">The variable kParam is derived as follows:<a href="#section-7.2.3-3" class="pilcrow">¶</a></p>
<p style="margin-left: 1.5em" id="section-7.2.3-4">kParam = clip(0, 4, PrevLevel &gt;&gt; 2)<a href="#section-7.2.3-4" class="pilcrow">¶</a></p>
<p id="section-7.2.3-5">The codeword of syntax element abs_ac_coeff_minus1 is obtained by invoking the generation for variable-length codes as specified in <a href="#process-generate-vlc" class="auto internal xref">Section 7.2.4</a> with the symbol value symbolValue and kParam.<a href="#section-7.2.3-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="process-generate-vlc">
<section id="section-7.2.4">
          <h4 id="name-process-for-variable-length-">
<a href="#section-7.2.4" class="section-number selfRef">7.2.4. </a><a href="#name-process-for-variable-length-" class="section-name selfRef">Process for Variable-Length Codes</a>
          </h4>
<p id="section-7.2.4-1">Inputs to this process are symbolVal and kParam<a href="#section-7.2.4-1" class="pilcrow">¶</a></p>
<p id="section-7.2.4-2">Output of this process is a codeword of a syntax element.<a href="#section-7.2.4-2" class="pilcrow">¶</a></p>
<p id="section-7.2.4-3">The codeword is derived as follows:<a href="#section-7.2.4-3" class="pilcrow">¶</a></p>
<span id="name-generating-bits-from-symbol"></span><div id="gen_symbolValue">
<figure id="figure-27">
            <div class="alignLeft art-text artwork" id="section-7.2.4-4.1">
<pre>
PrefixVLCTable[3][2] = {{1, 0}, {0, 0}, {0, 1}}

symbolValue = symbolVal
valPrefixVLC = clip(0, 2, symbolVal &gt;&gt; kParam)
bitCount = 0
k = kParam

while(symbolValue &gt;= (1 &lt;&lt; k)){
  symbolValue -= (1 &lt;&lt; k)
  if(bitCount &lt; 2)
    put_bits(PrefixVLCTable[valPrefixVLC][bitCount], 1)
  else
    put_bits(0, 1)
  if(bitCount &gt;= 2)
    k++
  bitCount++
}

if(bitCount &lt; 2)
  put_bits(PrefixVLCTable[valPrefixVLC][bitCount], 1)
else
  put_bits(1, 1)

if(k &gt; 0)
  put_bits(symbolValue, k)</pre>
</div>
<figcaption><a href="#figure-27" class="selfRef">Figure 27</a>:
<a href="#name-generating-bits-from-symbol" class="selfRef">Generating bits from symbolValue</a>
            </figcaption></figure>
</div>
<p id="section-7.2.4-5">where a codeword generated from put_bits(v, n) is interpreted as a binary representation of an n-bit unsigned integer value v with the most significant bit written first.<a href="#section-7.2.4-5" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="appendix-metadata">
<section id="section-8">
      <h2 id="name-metadata-information">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-metadata-information" class="section-name selfRef">Metadata Information</a>
      </h2>
<div id="metadata-payload">
<section id="section-8.1">
        <h3 id="name-metadata-payload">
<a href="#section-8.1" class="section-number selfRef">8.1. </a><a href="#name-metadata-payload" class="section-name selfRef">Metadata Payload</a>
        </h3>
<span id="name-metadata_payload-syntax-cod"></span><div id="syntax-metadatapayload">
<figure id="figure-28">
          <div class="alignLeft art-text artwork" id="section-8.1-1.1">
<pre>
syntax code                                                   | type
--------------------------------------------------------------|-----
metadata_payload(payloadType, payloadSize){                   |
  if(payloadType == 4){                                       |
    metadata_itu_t_t35(payloadSize)                           |
  }                                                           |
  else if(payloadType == 5){                                  |
    metadata_mdcv(payloadSize)                                |
  }                                                           |
  else if(payloadType == 6){                                  |
    metadata_cll(payloadSize)                                 |
  }                                                           |
  else if(payloadType == 10){                                 |
    metadata_filler(payloadSize)                              |
  }                                                           |
  else if(payloadType == 170){                                |
    metadata_user_defined(payloadSize)                        |
  }                                                           |
  else{                                                       |
    metadata_undefined(payloadSize)                           |
  }                                                           |
  byte_alignment()                                            |
}                                                             |</pre>
</div>
<figcaption><a href="#figure-28" class="selfRef">Figure 28</a>:
<a href="#name-metadata_payload-syntax-cod" class="selfRef">metadata_payload() syntax code</a>
          </figcaption></figure>
</div>
<p id="section-8.1-2"> The syntax and semantics of each type of metadata are defined in <a href="#list-of-metadata-syntax-and-semantics" class="auto internal xref">Section 8.2</a>.<a href="#section-8.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="list-of-metadata-syntax-and-semantics">
<section id="section-8.2">
        <h3 id="name-list-of-metadata-syntax-and">
<a href="#section-8.2" class="section-number selfRef">8.2. </a><a href="#name-list-of-metadata-syntax-and" class="section-name selfRef">List of Metadata Syntax and Semantics</a>
        </h3>
<div id="filler-metadata">
<section id="section-8.2.1">
          <h4 id="name-filler-metadata">
<a href="#section-8.2.1" class="section-number selfRef">8.2.1. </a><a href="#name-filler-metadata" class="section-name selfRef">Filler Metadata</a>
          </h4>
<div class="alignLeft art-text artwork" id="section-8.2.1-1">
<pre>
syntax code                                                   | type
--------------------------------------------------------------|-----
metadata_filler(payloadSize){                                 |
  for(i = 0; i &lt; payloadSize; i++){                           |
    ff_byte                                                   | f(8)
  }                                                           |
}                                                             |</pre><a href="#section-8.2.1-1" class="pilcrow">¶</a>
</div>
<span class="break"></span><dl class="dlNewline" id="section-8.2.1-2">
            <dt id="section-8.2.1-2.1">ff_byte</dt>
            <dd style="margin-left: 1.5em" id="section-8.2.1-2.2">is a byte equal to 0xFF.<a href="#section-8.2.1-2.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
<div id="recommendation-itu-t-t35-metadata">
<section id="section-8.2.2">
          <h4 id="name-recommendation-itu-t-t35-me">
<a href="#section-8.2.2" class="section-number selfRef">8.2.2. </a><a href="#name-recommendation-itu-t-t35-me" class="section-name selfRef">Recommendation ITU-T T.35 Metadata</a>
          </h4>
<p id="section-8.2.2-1">This metadata contains information registered as specified in <span>[<a href="#ITUT-T35" class="cite xref">ITUT-T35</a>]</span>.<a href="#section-8.2.2-1" class="pilcrow">¶</a></p>
<span id="name-metadata_itu_t_t35-syntax-c"></span><div id="syntax-metat35">
<figure id="figure-29">
            <div class="alignLeft art-text artwork" id="section-8.2.2-2.1">
<pre>
syntax code                                                   | type
--------------------------------------------------------------|-----
metadata_itu_t_t35(payloadSize){                              |
  itu_t_t35_country_code                                      | b(8)
  readSize = payloadSize - 1                                  |
                                                              |
  if(itu_t_t35_country_code == 0xFF){                         |
    itu_t_t35_country_code_extension                          | b(8)
    readSize--                                                |
  }                                                           |
                                                              |
  for(i = 0; i &lt; readSize; i++){                              |
    itu_t_t35_payload[i]                                      | b(8)
  }                                                           |
}                                                             |</pre>
</div>
<figcaption><a href="#figure-29" class="selfRef">Figure 29</a>:
<a href="#name-metadata_itu_t_t35-syntax-c" class="selfRef">metadata_itu_t_t35() syntax code</a>
            </figcaption></figure>
</div>
<span class="break"></span><dl class="dlNewline" id="section-8.2.2-3">
            <dt id="section-8.2.2-3.1">itu_t_t35_country_code</dt>
            <dd style="margin-left: 1.5em" id="section-8.2.2-3.2">
              <span class="bcp14">MUST</span> be a byte having the semantics of country code as specified in Annex A of <span>[<a href="#ITUT-T35" class="cite xref">ITUT-T35</a>]</span>.<a href="#section-8.2.2-3.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-8.2.2-3.3">itu_t_t35_country_code_extension</dt>
            <dd style="margin-left: 1.5em" id="section-8.2.2-3.4">
              <span class="bcp14">MUST</span> be a byte having the semantics of country code as specified in Annex B of <span>[<a href="#ITUT-T35" class="cite xref">ITUT-T35</a>]</span>.<a href="#section-8.2.2-3.4" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-8.2.2-3.5">itu_t_t35_payload[i]</dt>
            <dd style="margin-left: 1.5em" id="section-8.2.2-3.6">
              <span class="bcp14">MUST</span> be a byte having the semantics of data registered as specified in <span>[<a href="#ITUT-T35" class="cite xref">ITUT-T35</a>]</span>.<a href="#section-8.2.2-3.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-8.2.2-4">The terminal provider code and terminal provider oriented code as specified in <span>[<a href="#ITUT-T35" class="cite xref">ITUT-T35</a>]</span> <span class="bcp14">MUST</span> be contained in the first one or more bytes of the itu_t_t35_payload. Any remaining bytes in itu_t_t35_payload data <span class="bcp14">MUST</span> be data having syntax and semantics as specified by the entity identified by the <span>[<a href="#ITUT-T35" class="cite xref">ITUT-T35</a>]</span> country code and terminal provider code. Note that any metadata to be carried with this type of payload is expected to have been registered through either national administrator, the Alliance for Telecommunications Industry Solutions (ATIS) or the ITUT-T Telecommunication Standardization Bureau (TSB) as specified in <span>[<a href="#ITUT-T35" class="cite xref">ITUT-T35</a>]</span>.<a href="#section-8.2.2-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="mastering-display-color-volume-metadata">
<section id="section-8.2.3">
          <h4 id="name-mastering-display-color-vol">
<a href="#section-8.2.3" class="section-number selfRef">8.2.3. </a><a href="#name-mastering-display-color-vol" class="section-name selfRef">Mastering Display Color Volume Metadata</a>
          </h4>
<span id="name-metadata_mdcv-syntax-code"></span><div id="syntax-metamdcv">
<figure id="figure-30">
            <div class="alignLeft art-text artwork" id="section-8.2.3-1.1">
<pre>
syntax code                                                   | type
--------------------------------------------------------------|-----
metadata_mdcv(payloadSize){                                   |
  for(i = 0; i &lt; 3; i++){                                     |
    primary_chromaticity_x[i]                                 | u(16)
    primary_chromaticity_y[i]                                 | u(16)
  }                                                           |
  white_point_chromaticity_x                                  | u(16)
  white_point_chromaticity_y                                  | u(16)
  max_mastering_luminance                                     | u(32)
  min_mastering_luminance                                     | u(32)
}                                                             |</pre>
</div>
<figcaption><a href="#figure-30" class="selfRef">Figure 30</a>:
<a href="#name-metadata_mdcv-syntax-code" class="selfRef">metadata_mdcv() syntax code</a>
            </figcaption></figure>
</div>
<span class="break"></span><dl class="dlNewline" id="section-8.2.3-2">
            <dt id="section-8.2.3-2.1">primary_chromaticity_x[i]</dt>
            <dd style="margin-left: 1.5em" id="section-8.2.3-2.2">specifies a 0.16 fixed-point format of X chromaticity
            coordinate of mastering display in terms of CIE 1931 as specified in <span>[<a href="#ISO11664-1" class="cite xref">ISO11664-1</a>]</span>, where i =
            0, 1, 2 specifies Red, Green, Blue, respectively.<a href="#section-8.2.3-2.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-8.2.3-2.3">primary_chromaticity_y[i]</dt>
            <dd style="margin-left: 1.5em" id="section-8.2.3-2.4">specifies a 0.16 fixed-point format of Y chromaticity
            coordinate of mastering display in terms of CIE 1931 as specified in <span>[<a href="#ISO11664-1" class="cite xref">ISO11664-1</a>]</span>, where i =
            0, 1, 2 specifies Red, Green, Blue, respectively.<a href="#section-8.2.3-2.4" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-8.2.3-2.5">white_point_chromaticity_x</dt>
            <dd style="margin-left: 1.5em" id="section-8.2.3-2.6">specifies a 0.16 fixed-point format of white point X
            chromaticity coordinate of mastering display in terms of CIE 1931 as specified in <span>[<a href="#ISO11664-1" class="cite xref">ISO11664-1</a>]</span>.<a href="#section-8.2.3-2.6" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-8.2.3-2.7">white_point_chromaticity_y</dt>
            <dd style="margin-left: 1.5em" id="section-8.2.3-2.8">specifies a 0.16 fixed-point format of white point Y
            chromaticity coordinate as mastering display in terms of CIE 1931 as specified in <span>[<a href="#ISO11664-1" class="cite xref">ISO11664-1</a>]</span>.<a href="#section-8.2.3-2.8" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-8.2.3-2.9">max_mastering_luminance</dt>
            <dd style="margin-left: 1.5em" id="section-8.2.3-2.10">is a 24.8 fixed-point format of maximum display mastering
            luminance, represented in candelas per square meter.<a href="#section-8.2.3-2.10" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-8.2.3-2.11">min_mastering_luminance</dt>
            <dd style="margin-left: 1.5em" id="section-8.2.3-2.12">is an 18.14 fixed-point format of minimum display mastering
            luminance, represented in candelas per square meter.<a href="#section-8.2.3-2.12" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
<div id="content-light-level-information-metadata">
<section id="section-8.2.4">
          <h4 id="name-content-light-level-informa">
<a href="#section-8.2.4" class="section-number selfRef">8.2.4. </a><a href="#name-content-light-level-informa" class="section-name selfRef">Content Light-Level Information Metadata</a>
          </h4>
<span id="name-metadata_cll-syntax-code"></span><div id="syntax-metatcontentlight">
<figure id="figure-31">
            <div class="alignLeft art-text artwork" id="section-8.2.4-1.1">
<pre>
syntax code                                                   | type
--------------------------------------------------------------|-----
metadata_cll(payloadSize){                                    |
  max_cll                                                     | u(16)
  max_fall                                                    | u(16)
}                                                             |</pre>
</div>
<figcaption><a href="#figure-31" class="selfRef">Figure 31</a>:
<a href="#name-metadata_cll-syntax-code" class="selfRef">metadata_cll() syntax code</a>
            </figcaption></figure>
</div>
<span class="break"></span><dl class="dlNewline" id="section-8.2.4-2">
            <dt id="section-8.2.4-2.1">max_cll</dt>
            <dd style="margin-left: 1.5em" id="section-8.2.4-2.2">specifies the maximum content light level information as specified in <span>[<a href="#CTA-861.3" class="cite xref">CTA-861.3</a>]</span>, Appendix A.<a href="#section-8.2.4-2.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-8.2.4-2.3">max_fall</dt>
            <dd style="margin-left: 1.5em" id="section-8.2.4-2.4">specifies the maximum frame-average light level information as specified in <span>[<a href="#CTA-861.3" class="cite xref">CTA-861.3</a>]</span>, Appendix A.<a href="#section-8.2.4-2.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
<div id="user-defined-metadata">
<section id="section-8.2.5">
          <h4 id="name-user-defined-metadata">
<a href="#section-8.2.5" class="section-number selfRef">8.2.5. </a><a href="#name-user-defined-metadata" class="section-name selfRef">User-Defined Metadata</a>
          </h4>
<p id="section-8.2.5-1">This metadata has user data identified by a universal unique identifier as specified in <span>[<a href="#RFC9562" class="cite xref">RFC9562</a>]</span>, the contents of which are not specified in this document.<a href="#section-8.2.5-1" class="pilcrow">¶</a></p>
<span id="name-metadata_user_defined-synta"></span><div id="syntax-metauserdef">
<figure id="figure-32">
            <div class="alignLeft art-text artwork" id="section-8.2.5-2.1">
<pre>
syntax code                                                 | type
------------------------------------------------------------|-----
metadata_user_defined(payloadSize){                         |
  uuid                                                      | u(128)
  for(i = 0; i &lt; (payloadSize - 16); i++)                   |
    user_defined_data_payload[i]                            | b(8)
}                                                           |</pre>
</div>
<figcaption><a href="#figure-32" class="selfRef">Figure 32</a>:
<a href="#name-metadata_user_defined-synta" class="selfRef">metadata_user_defined() syntax code</a>
            </figcaption></figure>
</div>
<span class="break"></span><dl class="dlNewline" id="section-8.2.5-3">
            <dt id="section-8.2.5-3.1">uuid</dt>
            <dd style="margin-left: 1.5em" id="section-8.2.5-3.2">
              <span class="bcp14">MUST</span> be a 128-bit value specified as a
            generated Universally Unique Identifier (UUID) according to the procedures specified in <span>[<a href="#RFC9562" class="cite xref">RFC9562</a>]</span>.<a href="#section-8.2.5-3.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-8.2.5-3.3">user_defined_data_payload[i]</dt>
            <dd style="margin-left: 1.5em" id="section-8.2.5-3.4">
              <span class="bcp14">MUST</span> be a byte having user-defined syntax and
            semantics as specified by the UUID generator.<a href="#section-8.2.5-3.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
<div id="undefined-metadata">
<section id="section-8.2.6">
          <h4 id="name-undefined-metadata">
<a href="#section-8.2.6" class="section-number selfRef">8.2.6. </a><a href="#name-undefined-metadata" class="section-name selfRef">Undefined Metadata</a>
          </h4>
<span id="name-metadata_undefined-syntax-c"></span><div id="syntax-metaund">
<figure id="figure-33">
            <div class="alignLeft art-text artwork" id="section-8.2.6-1.1">
<pre>
syntax code                                                   | type
--------------------------------------------------------------|-----
metadata_undefined(payloadSize){                              |
  for(i = 0; i &lt; payloadSize; i++){                           |
    undefined_metadata_payload_byte[i]                        | b(8)
  }                                                           |
}                                                             |</pre>
</div>
<figcaption><a href="#figure-33" class="selfRef">Figure 33</a>:
<a href="#name-metadata_undefined-syntax-c" class="selfRef">metadata_undefined() syntax code</a>
            </figcaption></figure>
</div>
<span class="break"></span><dl class="dlNewline" id="section-8.2.6-2">
            <dt id="section-8.2.6-2.1">undefined_metadata_payload_byte[i]</dt>
            <dd style="margin-left: 1.5em" id="section-8.2.6-2.2">is a byte reserved for future use.<a href="#section-8.2.6-2.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="appendix-profile-level-band">
<section id="section-9">
      <h2 id="name-profiles-levels-and-bands">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-profiles-levels-and-bands" class="section-name selfRef">Profiles, Levels, and Bands</a>
      </h2>
<div id="overview-of-profiles-levels-and-bands">
<section id="section-9.1">
        <h3 id="name-overview-of-profiles-levels">
<a href="#section-9.1" class="section-number selfRef">9.1. </a><a href="#name-overview-of-profiles-levels" class="section-name selfRef">Overview of Profiles, Levels, and Bands</a>
        </h3>
<p id="section-9.1-1">Profiles, levels, and bands specify restrictions on a coded frame and hence limits on the capabilities needed to decode the coded frame. Profiles, levels, and bands are also used to indicate interoperability points between individual decoder implementations.<a href="#section-9.1-1" class="pilcrow">¶</a></p>
<p id="section-9.1-2">Each profile specifies a subset of algorithmic features and limits that <span class="bcp14">MUST</span> be supported by all decoders conforming to that profile.<a href="#section-9.1-2" class="pilcrow">¶</a></p>
<p style="margin-left: 1.5em" id="section-9.1-3">NOTE: This document does not include individually selectable "options" at the decoder, as this would increase interoperability difficulties.<a href="#section-9.1-3" class="pilcrow">¶</a></p>
<p style="margin-left: 1.5em" id="section-9.1-4">NOTE: Encoders are not required to make use of any particular subset of features supported in a profile.<a href="#section-9.1-4" class="pilcrow">¶</a></p>
<p id="section-9.1-5">Each level with a band specifies a set of limits on the values that may be taken by the syntax elements of this document. For any given profile, a level with a band generally corresponds to a particular decoder processing load and memory capability. The constraints set by levels and bands are orthogonal to the constraints defined by profiles so that the same set of level and band definitions is used with all profiles. For example, a certain level L and a certain band B can be combined with either profile X or profile Y to specifically define two different sets of constraints.<a href="#section-9.1-5" class="pilcrow">¶</a></p>
<p style="margin-left: 1.5em" id="section-9.1-6">NOTE: Individual implementations may support a different level for each supported profile.<a href="#section-9.1-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="requirements-on-video-decoder-capability">
<section id="section-9.2">
        <h3 id="name-requirements-on-video-decod">
<a href="#section-9.2" class="section-number selfRef">9.2. </a><a href="#name-requirements-on-video-decod" class="section-name selfRef">Requirements on Video Decoder Capability</a>
        </h3>
<p id="section-9.2-1">Capabilities of video decoders conforming to this document are specified in terms of the ability to decode video streams conforming to the constraints of profiles, levels, and bands specified in this section. When expressing the capabilities of a decoder for a specified profile, the level and the band supported for that profile <span class="bcp14">MUST</span> also be expressed.<a href="#section-9.2-1" class="pilcrow">¶</a></p>
<p id="section-9.2-2">Specific values are specified for the syntax elements profile_idc, level_idc, and band_idc. All other values of profile_idc, level_idc, and band_idc are reserved for future use.<a href="#section-9.2-2" class="pilcrow">¶</a></p>
<p style="margin-left: 1.5em" id="section-9.2-3">NOTE: Decoders <span class="bcp14">SHALL NOT</span> infer that a reserved value of profile_idc between the values specified in this document indicates intermediate capabilities between the specified profiles, as there are no restrictions on the method to be chosen for the use of such future reserved values. However, decoders <span class="bcp14">MUST</span> infer that a reserved value of level_idc and a reserved value of band_idc between the values specified in this document indicates intermediate capabilities between the specified levels.<a href="#section-9.2-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="profiles">
<section id="section-9.3">
        <h3 id="name-profiles">
<a href="#section-9.3" class="section-number selfRef">9.3. </a><a href="#name-profiles" class="section-name selfRef">Profiles</a>
        </h3>
<div id="general-2">
<section id="section-9.3.1">
          <h4 id="name-general-3">
<a href="#section-9.3.1" class="section-number selfRef">9.3.1. </a><a href="#name-general-3" class="section-name selfRef">General</a>
          </h4>
<p id="section-9.3.1-1">All constraints for a coded frame that are specified are constraints for the coded frame that are activated when the bitstream of the access unit is decoded.<a href="#section-9.3.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="profile">
<section id="section-9.3.2">
          <h4 id="name-422-10-profile">
<a href="#section-9.3.2" class="section-number selfRef">9.3.2. </a><a href="#name-422-10-profile" class="section-name selfRef">422-10 Profile</a>
          </h4>
<p id="section-9.3.2-1">Conformance of a coded frame to the 422-10 profile is indicated by profile_idc equal to 33.<a href="#section-9.3.2-1" class="pilcrow">¶</a></p>
<p id="section-9.3.2-2">Coded frames conforming to the 422-10 profile <span class="bcp14">MUST</span> obey the following constraints:<a href="#section-9.3.2-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-9.3.2-3.1">
              <p id="section-9.3.2-3.1.1">chroma_format_idc <span class="bcp14">MUST</span> be equal to 2.<a href="#section-9.3.2-3.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-9.3.2-3.2">
              <p id="section-9.3.2-3.2.1">bit_depth_minus8 <span class="bcp14">MUST</span> be equal to 2.<a href="#section-9.3.2-3.2.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-9.3.2-3.3">
              <p id="section-9.3.2-3.3.1">pbu_type <span class="bcp14">MUST</span> be equal to 1.<a href="#section-9.3.2-3.3.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="section-9.3.2-4">Coded frames conforming to the 422-10 profile <span class="bcp14">MUST</span> also conform to any levels and bands constraints specified in <a href="#levels_and_bands" class="auto internal xref">Section 9.4</a>. Decoders conforming to the 422-10 profile at a specific level (identified by a specific value of L) and a specific band (identified by a specific value of B) <span class="bcp14">MUST</span> be capable of decoding all coded frames for which all of the following conditions apply:<a href="#section-9.3.2-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-9.3.2-5.1">
              <p id="section-9.3.2-5.1.1">The coded frame is indicated to conform to the 422-10 profile.<a href="#section-9.3.2-5.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-9.3.2-5.2">
              <p id="section-9.3.2-5.2.1">The coded frame is indicated to conform to a level (by a specific value of level_idc) that is lower than or equal to level L.<a href="#section-9.3.2-5.2.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-9.3.2-5.3">
              <p id="section-9.3.2-5.3.1">The coded frame is indicated to conform to a band (by a specific value of band_idc) that is lower than or equal to band B.<a href="#section-9.3.2-5.3.1" class="pilcrow">¶</a></p>
</li>
          </ul>
</section>
</div>
<div id="profile-1">
<section id="section-9.3.3">
          <h4 id="name-422-12-profile">
<a href="#section-9.3.3" class="section-number selfRef">9.3.3. </a><a href="#name-422-12-profile" class="section-name selfRef">422-12 Profile</a>
          </h4>
<p id="section-9.3.3-1">Conformance of a coded frame to the 422-12 profile is indicated by profile_idc equal to 44.<a href="#section-9.3.3-1" class="pilcrow">¶</a></p>
<p id="section-9.3.3-2">Coded frames conforming to the 422-12 profile <span class="bcp14">MUST</span> obey the following constraints:<a href="#section-9.3.3-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-9.3.3-3.1">
              <p id="section-9.3.3-3.1.1">chroma_format_idc <span class="bcp14">MUST</span> be equal to 2.<a href="#section-9.3.3-3.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-9.3.3-3.2">
              <p id="section-9.3.3-3.2.1">bit_depth_minus8 <span class="bcp14">MUST</span> be in the range of 2 to 4.<a href="#section-9.3.3-3.2.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-9.3.3-3.3">
              <p id="section-9.3.3-3.3.1">pbu_type <span class="bcp14">MUST</span> be equal to 1.<a href="#section-9.3.3-3.3.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="section-9.3.3-4">Coded frames conforming to the 422-12 profile <span class="bcp14">MUST</span> also conform to any levels and bands constraints specified in <a href="#levels_and_bands" class="auto internal xref">Section 9.4</a>. Decoders conforming to the 422-12 profile at a specific level (identified by a specific value of L) and a specific band (identified by a specific value of B) <span class="bcp14">MUST</span> be capable of decoding all coded frames for which all of the following conditions apply:<a href="#section-9.3.3-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-9.3.3-5.1">
              <p id="section-9.3.3-5.1.1">The coded frame is indicated to conform to the 422-12 profile or the 422-10 profile.<a href="#section-9.3.3-5.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-9.3.3-5.2">
              <p id="section-9.3.3-5.2.1">The coded frame is indicated to conform to a level (by a specific value of level_idc) that is lower than or equal to level L.<a href="#section-9.3.3-5.2.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-9.3.3-5.3">
              <p id="section-9.3.3-5.3.1">The coded frame is indicated to conform to a band (by a specific value of band_idc) that is lower than or equal to band B.<a href="#section-9.3.3-5.3.1" class="pilcrow">¶</a></p>
</li>
          </ul>
</section>
</div>
<div id="profile-2">
<section id="section-9.3.4">
          <h4 id="name-444-10-profile">
<a href="#section-9.3.4" class="section-number selfRef">9.3.4. </a><a href="#name-444-10-profile" class="section-name selfRef">444-10 Profile</a>
          </h4>
<p id="section-9.3.4-1">Conformance of a coded frame to the 444-10 profile is indicated by profile_idc equal to 55.<a href="#section-9.3.4-1" class="pilcrow">¶</a></p>
<p id="section-9.3.4-2">Coded frames conforming to the 444-10 profile <span class="bcp14">MUST</span> obey the following constraints:<a href="#section-9.3.4-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-9.3.4-3.1">
              <p id="section-9.3.4-3.1.1">chroma_format_idc <span class="bcp14">MUST</span> be in the range of 2 to 3.<a href="#section-9.3.4-3.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-9.3.4-3.2">
              <p id="section-9.3.4-3.2.1">bit_depth_minus8 <span class="bcp14">MUST</span> be equal to 2.<a href="#section-9.3.4-3.2.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-9.3.4-3.3">
              <p id="section-9.3.4-3.3.1">pbu_type <span class="bcp14">MUST</span> be equal to 1.<a href="#section-9.3.4-3.3.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="section-9.3.4-4">Coded frames conforming to the 444-10 profile <span class="bcp14">MUST</span> also conform to any levels and bands constraints specified in <a href="#levels_and_bands" class="auto internal xref">Section 9.4</a>. Decoders conforming to the 444-10 profile at a specific level (identified by a specific value of L) and a specific band (identified by a specific value of B) <span class="bcp14">MUST</span> be capable of decoding all coded frames for which all of the following conditions apply:<a href="#section-9.3.4-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-9.3.4-5.1">
              <p id="section-9.3.4-5.1.1">The coded frame is indicated to conform to the 444-10 profile or the 422-10 profile.<a href="#section-9.3.4-5.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-9.3.4-5.2">
              <p id="section-9.3.4-5.2.1">The coded frame is indicated to conform to a level (by a specific value of level_idc) that is lower than or equal to level L.<a href="#section-9.3.4-5.2.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-9.3.4-5.3">
              <p id="section-9.3.4-5.3.1">The coded frame is indicated to conform to a band (by a specific value of band_idc) that is lower than or equal to band B.<a href="#section-9.3.4-5.3.1" class="pilcrow">¶</a></p>
</li>
          </ul>
</section>
</div>
<div id="profile-3">
<section id="section-9.3.5">
          <h4 id="name-444-12-profile">
<a href="#section-9.3.5" class="section-number selfRef">9.3.5. </a><a href="#name-444-12-profile" class="section-name selfRef">444-12 Profile</a>
          </h4>
<p id="section-9.3.5-1">Conformance of a coded frame to the 444-12 profile is indicated by profile_idc equal to 66.<a href="#section-9.3.5-1" class="pilcrow">¶</a></p>
<p id="section-9.3.5-2">Coded frames conforming to the 444-12 profile <span class="bcp14">MUST</span> obey the following constraints:<a href="#section-9.3.5-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-9.3.5-3.1">
              <p id="section-9.3.5-3.1.1">chroma_format_idc <span class="bcp14">MUST</span> be in the range of 2 to 3.<a href="#section-9.3.5-3.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-9.3.5-3.2">
              <p id="section-9.3.5-3.2.1">bit_depth_minus8 <span class="bcp14">MUST</span> be in the range of 2 to 4.<a href="#section-9.3.5-3.2.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-9.3.5-3.3">
              <p id="section-9.3.5-3.3.1">pbu_type <span class="bcp14">MUST</span> be equal to 1.<a href="#section-9.3.5-3.3.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="section-9.3.5-4">Coded frames conforming to the 444-12 profile <span class="bcp14">MUST</span> also conform to any levels and bands constraints specified in <a href="#levels_and_bands" class="auto internal xref">Section 9.4</a>. Decoders conforming to the 444-12 profile at a specific level (identified by a specific value of L) and a specific band (identified by a specific value of B) <span class="bcp14">MUST</span> be capable of decoding all coded frames for which all of the following conditions apply:<a href="#section-9.3.5-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-9.3.5-5.1">
              <p id="section-9.3.5-5.1.1">The coded frame is indicated to conform to the 444-12 profile, the 444-10 profile, the 422-12 profile, or the 422-10 profile.<a href="#section-9.3.5-5.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-9.3.5-5.2">
              <p id="section-9.3.5-5.2.1">The coded frame is indicated to conform to a level (by a specific value of level_idc) that is lower than or equal to level L.<a href="#section-9.3.5-5.2.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-9.3.5-5.3">
              <p id="section-9.3.5-5.3.1">The coded frame is indicated to conform to a band (by a specific value of band_idc) that is lower than or equal to band B.<a href="#section-9.3.5-5.3.1" class="pilcrow">¶</a></p>
</li>
          </ul>
</section>
</div>
<div id="profile-4">
<section id="section-9.3.6">
          <h4 id="name-4444-10-profile">
<a href="#section-9.3.6" class="section-number selfRef">9.3.6. </a><a href="#name-4444-10-profile" class="section-name selfRef">4444-10 Profile</a>
          </h4>
<p id="section-9.3.6-1">Conformance of a coded frame to the 4444-10 profile is indicated by profile_idc equal to 77.<a href="#section-9.3.6-1" class="pilcrow">¶</a></p>
<p id="section-9.3.6-2">Coded frames conforming to the 4444-10 profile <span class="bcp14">MUST</span> obey the following constraints:<a href="#section-9.3.6-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-9.3.6-3.1">
              <p id="section-9.3.6-3.1.1">chroma_format_idc <span class="bcp14">MUST</span> be in the range of 2 to 4.<a href="#section-9.3.6-3.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-9.3.6-3.2">
              <p id="section-9.3.6-3.2.1">bit_depth_minus8 <span class="bcp14">MUST</span> be equal to 2.<a href="#section-9.3.6-3.2.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-9.3.6-3.3">
              <p id="section-9.3.6-3.3.1">pbu_type <span class="bcp14">MUST</span> be equal to 1.<a href="#section-9.3.6-3.3.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="section-9.3.6-4">Coded frames conforming to the 4444-10 profile <span class="bcp14">MUST</span> also conform to any levels and bands constraints specified in <a href="#levels_and_bands" class="auto internal xref">Section 9.4</a>. Decoders conforming to the 4444-10 profile at a specific level (identified by a specific value of L) and a specific band (identified by a specific value of B) <span class="bcp14">MUST</span> be capable of decoding all coded frames for which all of the following conditions apply:<a href="#section-9.3.6-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-9.3.6-5.1">
              <p id="section-9.3.6-5.1.1">The coded frame is indicated to conform to the 4444-10 profile, the 444-10 profile, or the 422-10 profile.<a href="#section-9.3.6-5.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-9.3.6-5.2">
              <p id="section-9.3.6-5.2.1">The coded frame is indicated to conform to a level (by a specific value of level_idc) that is lower than or equal to level L.<a href="#section-9.3.6-5.2.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-9.3.6-5.3">
              <p id="section-9.3.6-5.3.1">The coded frame is indicated to conform to a band (by a specific value of band_idc) that is lower than or equal to band B.<a href="#section-9.3.6-5.3.1" class="pilcrow">¶</a></p>
</li>
          </ul>
</section>
</div>
<div id="profile-5">
<section id="section-9.3.7">
          <h4 id="name-4444-12-profile">
<a href="#section-9.3.7" class="section-number selfRef">9.3.7. </a><a href="#name-4444-12-profile" class="section-name selfRef">4444-12 Profile</a>
          </h4>
<p id="section-9.3.7-1">Conformance of a coded frame to the 4444-12 profile is indicated by profile_idc equal to 88.<a href="#section-9.3.7-1" class="pilcrow">¶</a></p>
<p id="section-9.3.7-2">Coded frames conforming to the 4444-12 profile <span class="bcp14">MUST</span> obey the following constraints:<a href="#section-9.3.7-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-9.3.7-3.1">
              <p id="section-9.3.7-3.1.1">chroma_format_idc <span class="bcp14">MUST</span> be in the range of 2 to 4.<a href="#section-9.3.7-3.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-9.3.7-3.2">
              <p id="section-9.3.7-3.2.1">bit_depth_minus8 <span class="bcp14">MUST</span> be in the range of 2 to 4.<a href="#section-9.3.7-3.2.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-9.3.7-3.3">
              <p id="section-9.3.7-3.3.1">pbu_type <span class="bcp14">MUST</span> be equal to 1.<a href="#section-9.3.7-3.3.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="section-9.3.7-4">Coded frames conforming to the 4444-12 profile <span class="bcp14">MUST</span> also conform to any levels and bands constraints specified in <a href="#levels_and_bands" class="auto internal xref">Section 9.4</a>. Decoders conforming to the 4444-12 profile at a specific level (identified by a specific value of L) and a specific band (identified by a specific value of B) <span class="bcp14">MUST</span> be capable of decoding all coded frames for which all of the following conditions apply:<a href="#section-9.3.7-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-9.3.7-5.1">
              <p id="section-9.3.7-5.1.1">The coded frame is indicated to conform to the 4444-12 profile, the 4444-10 profile, the 444-12 profile, the 444-10 profile, the 422-12 profile, or the 422-10 profile.<a href="#section-9.3.7-5.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-9.3.7-5.2">
              <p id="section-9.3.7-5.2.1">The coded frame is indicated to conform to a level (by a specific value of level_idc) that is lower than or equal to level L.<a href="#section-9.3.7-5.2.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-9.3.7-5.3">
              <p id="section-9.3.7-5.3.1">The coded frame is indicated to conform to a band (by a specific value of band_idc) that is lower than or equal to band B.<a href="#section-9.3.7-5.3.1" class="pilcrow">¶</a></p>
</li>
          </ul>
</section>
</div>
<div id="profile-6">
<section id="section-9.3.8">
          <h4 id="name-400-10-profile">
<a href="#section-9.3.8" class="section-number selfRef">9.3.8. </a><a href="#name-400-10-profile" class="section-name selfRef">400-10 Profile</a>
          </h4>
<p id="section-9.3.8-1">Conformance of a coded frame to the 400-10 profile is indicated by profile_idc equal to 99.<a href="#section-9.3.8-1" class="pilcrow">¶</a></p>
<p id="section-9.3.8-2">Coded frames conforming to the 400-10 profile <span class="bcp14">MUST</span> obey the following constraints:<a href="#section-9.3.8-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-9.3.8-3.1">
              <p id="section-9.3.8-3.1.1">chroma_format_idc <span class="bcp14">MUST</span> be equal to 0.<a href="#section-9.3.8-3.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-9.3.8-3.2">
              <p id="section-9.3.8-3.2.1">bit_depth_minus8 <span class="bcp14">MUST</span> be equal to 2.<a href="#section-9.3.8-3.2.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-9.3.8-3.3">
              <p id="section-9.3.8-3.3.1">pbu_type <span class="bcp14">MUST</span> be equal to 1.<a href="#section-9.3.8-3.3.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="section-9.3.8-4">Coded frames conforming to the 400-10 profile <span class="bcp14">MUST</span> also conform to any levels and bands constraints specified in <a href="#levels_and_bands" class="auto internal xref">Section 9.4</a>. Decoders conforming to the 400-10 profile at a specific level (identified by a specific value of L) and a specific band (identified by a specific value of B) <span class="bcp14">MUST</span> be capable of decoding all coded frames for which all of the following conditions apply:<a href="#section-9.3.8-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-9.3.8-5.1">
              <p id="section-9.3.8-5.1.1">The coded frame is indicated to conform to the 400-10 profile.<a href="#section-9.3.8-5.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-9.3.8-5.2">
              <p id="section-9.3.8-5.2.1">The coded frame is indicated to conform to a level (by a specific value of level_idc) that is lower than or equal to level L.<a href="#section-9.3.8-5.2.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-9.3.8-5.3">
              <p id="section-9.3.8-5.3.1">The coded frame is indicated to conform to a band (by a specific value of band_idc) that is lower than or equal to band B.<a href="#section-9.3.8-5.3.1" class="pilcrow">¶</a></p>
</li>
          </ul>
</section>
</div>
</section>
</div>
<div id="levels_and_bands">
<section id="section-9.4">
        <h3 id="name-levels-and-bands">
<a href="#section-9.4" class="section-number selfRef">9.4. </a><a href="#name-levels-and-bands" class="section-name selfRef">Levels and Bands</a>
        </h3>
<div id="general-3">
<section id="section-9.4.1">
          <h4 id="name-general-4">
<a href="#section-9.4.1" class="section-number selfRef">9.4.1. </a><a href="#name-general-4" class="section-name selfRef">General</a>
          </h4>
<p id="section-9.4.1-1">For purposes of comparison of level capabilities, a particular level of each band is considered to be a lower level than some other level when the value of the level_idc of the particular level of each band is less than that of the other level.<a href="#section-9.4.1-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-9.4.1-2.1">
              <p id="section-9.4.1-2.1.1">The luma sample rate (luma samples per second) <span class="bcp14">MUST</span> be less than or equal to the "Max luma sample rate".<a href="#section-9.4.1-2.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-9.4.1-2.2">
              <p id="section-9.4.1-2.2.1">The coded data rate (bits per second) <span class="bcp14">MUST</span> be less than or equal to the "Max coded data rate".<a href="#section-9.4.1-2.2.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-9.4.1-2.3">
              <p id="section-9.4.1-2.3.1">The value of tile_width_in_mbs <span class="bcp14">MUST</span> be greater than or equal to 16.<a href="#section-9.4.1-2.3.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-9.4.1-2.4">
              <p id="section-9.4.1-2.4.1">The value of tile_height_in_mbs <span class="bcp14">MUST</span> be greater than or equal to 8.<a href="#section-9.4.1-2.4.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-9.4.1-2.5">
              <p id="section-9.4.1-2.5.1">The value of TileCols <span class="bcp14">MUST</span> be less than or equal to 20.<a href="#section-9.4.1-2.5.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-9.4.1-2.6">
              <p id="section-9.4.1-2.6.1">The value of TileRows <span class="bcp14">MUST</span> be less than or equal to 20.<a href="#section-9.4.1-2.6.1" class="pilcrow">¶</a></p>
</li>
          </ul>
</section>
</div>
<div id="limits-of-levels-and-bands">
<section id="section-9.4.2">
          <h4 id="name-limits-of-levels-and-bands">
<a href="#section-9.4.2" class="section-number selfRef">9.4.2. </a><a href="#name-limits-of-levels-and-bands" class="section-name selfRef">Limits of Levels and Bands</a>
          </h4>
<p id="section-9.4.2-1"><a href="#_table-levels" class="auto internal xref">Table 4</a> specifies the limits for each level of each band.
A level to which a coded frame conforms is indicated by the syntax elements level_idc and band_idc as follows:<a href="#section-9.4.2-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-9.4.2-2.1">
              <p id="section-9.4.2-2.1.1">level_idc <span class="bcp14">MUST</span> be set equal to a value of 30 times the level number specified in <a href="#_table-levels" class="auto internal xref">Table 4</a>.<a href="#section-9.4.2-2.1.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<span id="name-general-level-limits"></span><div id="_table-levels">
<table class="center" id="table-4">
            <caption>
<a href="#table-4" class="selfRef">Table 4</a>:
<a href="#name-general-level-limits" class="selfRef">General level limits</a>
            </caption>
<thead>
              <tr>
                <th class="text-left" rowspan="3" colspan="1">level</th>
                <th class="text-center" rowspan="3" colspan="1">Max luma sample rate (samples/s)</th>
                <th class="text-center" rowspan="1" colspan="4">Max coded data rate (Mbit/s)</th>
              </tr>
              <tr>
                <th class="text-center" rowspan="1" colspan="4">band_idc==</th>
              </tr>
              <tr>
                <th class="text-right" rowspan="1" colspan="1">0</th>
                <th class="text-right" rowspan="1" colspan="1">1</th>
                <th class="text-right" rowspan="1" colspan="1">2</th>
                <th class="text-right" rowspan="1" colspan="1">3</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">1</td>
                <td class="text-right" rowspan="1" colspan="1">3,041,280</td>
                <td class="text-right" rowspan="1" colspan="1">8</td>
                <td class="text-right" rowspan="1" colspan="1">11</td>
                <td class="text-right" rowspan="1" colspan="1">15</td>
                <td class="text-right" rowspan="1" colspan="1">23</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">1.1</td>
                <td class="text-right" rowspan="1" colspan="1">6,082,560</td>
                <td class="text-right" rowspan="1" colspan="1">16</td>
                <td class="text-right" rowspan="1" colspan="1">21</td>
                <td class="text-right" rowspan="1" colspan="1">30</td>
                <td class="text-right" rowspan="1" colspan="1">45</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">2</td>
                <td class="text-right" rowspan="1" colspan="1">15,667,200</td>
                <td class="text-right" rowspan="1" colspan="1">39</td>
                <td class="text-right" rowspan="1" colspan="1">54</td>
                <td class="text-right" rowspan="1" colspan="1">76</td>
                <td class="text-right" rowspan="1" colspan="1">114</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">2.1</td>
                <td class="text-right" rowspan="1" colspan="1">31,334,400</td>
                <td class="text-right" rowspan="1" colspan="1">78</td>
                <td class="text-right" rowspan="1" colspan="1">108</td>
                <td class="text-right" rowspan="1" colspan="1">152</td>
                <td class="text-right" rowspan="1" colspan="1">227</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">3</td>
                <td class="text-right" rowspan="1" colspan="1">66,846,720</td>
                <td class="text-right" rowspan="1" colspan="1">114</td>
                <td class="text-right" rowspan="1" colspan="1">159</td>
                <td class="text-right" rowspan="1" colspan="1">222</td>
                <td class="text-right" rowspan="1" colspan="1">333</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">3.1</td>
                <td class="text-right" rowspan="1" colspan="1">133,693,440</td>
                <td class="text-right" rowspan="1" colspan="1">227</td>
                <td class="text-right" rowspan="1" colspan="1">317</td>
                <td class="text-right" rowspan="1" colspan="1">444</td>
                <td class="text-right" rowspan="1" colspan="1">666</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">4</td>
                <td class="text-right" rowspan="1" colspan="1">265,420,800</td>
                <td class="text-right" rowspan="1" colspan="1">455</td>
                <td class="text-right" rowspan="1" colspan="1">637</td>
                <td class="text-right" rowspan="1" colspan="1">892</td>
                <td class="text-right" rowspan="1" colspan="1">1,338</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">4.1</td>
                <td class="text-right" rowspan="1" colspan="1">530,841,600</td>
                <td class="text-right" rowspan="1" colspan="1">910</td>
                <td class="text-right" rowspan="1" colspan="1">1,274</td>
                <td class="text-right" rowspan="1" colspan="1">1,784</td>
                <td class="text-right" rowspan="1" colspan="1">2,675</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">5</td>
                <td class="text-right" rowspan="1" colspan="1">1,061,683,200</td>
                <td class="text-right" rowspan="1" colspan="1">1,820</td>
                <td class="text-right" rowspan="1" colspan="1">2,548</td>
                <td class="text-right" rowspan="1" colspan="1">3,567</td>
                <td class="text-right" rowspan="1" colspan="1">5,350</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">5.1</td>
                <td class="text-right" rowspan="1" colspan="1">2,123,366,400</td>
                <td class="text-right" rowspan="1" colspan="1">3,639</td>
                <td class="text-right" rowspan="1" colspan="1">5,095</td>
                <td class="text-right" rowspan="1" colspan="1">7,133</td>
                <td class="text-right" rowspan="1" colspan="1">10,699</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">6</td>
                <td class="text-right" rowspan="1" colspan="1">4,777,574,400</td>
                <td class="text-right" rowspan="1" colspan="1">7,278</td>
                <td class="text-right" rowspan="1" colspan="1">10,189</td>
                <td class="text-right" rowspan="1" colspan="1">14,265</td>
                <td class="text-right" rowspan="1" colspan="1">21,397</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">6.1</td>
                <td class="text-right" rowspan="1" colspan="1">8,493,465,600</td>
                <td class="text-right" rowspan="1" colspan="1">14,556</td>
                <td class="text-right" rowspan="1" colspan="1">20,378</td>
                <td class="text-right" rowspan="1" colspan="1">28,529</td>
                <td class="text-right" rowspan="1" colspan="1">42,793</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">7</td>
                <td class="text-right" rowspan="1" colspan="1">16,986,931,200</td>
                <td class="text-right" rowspan="1" colspan="1">29,111</td>
                <td class="text-right" rowspan="1" colspan="1">40,756</td>
                <td class="text-right" rowspan="1" colspan="1">57,058</td>
                <td class="text-right" rowspan="1" colspan="1">85,586</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">7.1</td>
                <td class="text-right" rowspan="1" colspan="1">33,973,862,400</td>
                <td class="text-right" rowspan="1" colspan="1">58,222</td>
                <td class="text-right" rowspan="1" colspan="1">81,511</td>
                <td class="text-right" rowspan="1" colspan="1">114,115</td>
                <td class="text-right" rowspan="1" colspan="1">171,172</td>
              </tr>
            </tbody>
          </table>
</div>
<p id="section-9.4.2-4"><a href="#_table-level_ex" class="auto internal xref">Table 5</a> shows widely used typical configurations of resolution and frame rates of video and corresponding levels for them.<a href="#section-9.4.2-4" class="pilcrow">¶</a></p>
<span id="name-example-of-typical-video-co"></span><div id="_table-level_ex">
<table class="center" id="table-5">
            <caption>
<a href="#table-5" class="selfRef">Table 5</a>:
<a href="#name-example-of-typical-video-co" class="selfRef">Example of typical video configurations and corresponding levels (informative)</a>
            </caption>
<thead>
              <tr>
                <th class="text-center" rowspan="1" colspan="1">use case</th>
                <th class="text-center" rowspan="1" colspan="1">resolution</th>
                <th class="text-right" rowspan="1" colspan="1">frame per second</th>
                <th class="text-right" rowspan="1" colspan="1">luma sample per second</th>
                <th class="text-left" rowspan="1" colspan="1">level</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-center" rowspan="1" colspan="1">720p</td>
                <td class="text-center" rowspan="1" colspan="1">1280 x 720</td>
                <td class="text-right" rowspan="1" colspan="1">30</td>
                <td class="text-right" rowspan="1" colspan="1">27,648,000</td>
                <td class="text-left" rowspan="1" colspan="1">2.1</td>
              </tr>
              <tr>
                <td class="text-center" rowspan="1" colspan="1">FHD</td>
                <td class="text-center" rowspan="1" colspan="1">1920 x 1080</td>
                <td class="text-right" rowspan="1" colspan="1">30</td>
                <td class="text-right" rowspan="1" colspan="1">62,208,000</td>
                <td class="text-left" rowspan="1" colspan="1">3</td>
              </tr>
              <tr>
                <td class="text-center" rowspan="1" colspan="1">UHD 4K</td>
                <td class="text-center" rowspan="1" colspan="1">3840 x 2160</td>
                <td class="text-right" rowspan="1" colspan="1">60</td>
                <td class="text-right" rowspan="1" colspan="1">497,664,000</td>
                <td class="text-left" rowspan="1" colspan="1">4.1</td>
              </tr>
              <tr>
                <td class="text-center" rowspan="1" colspan="1">UHD 4K</td>
                <td class="text-center" rowspan="1" colspan="1">3840 x 2160</td>
                <td class="text-right" rowspan="1" colspan="1">120</td>
                <td class="text-right" rowspan="1" colspan="1">995,328,000</td>
                <td class="text-left" rowspan="1" colspan="1">5</td>
              </tr>
              <tr>
                <td class="text-center" rowspan="1" colspan="1">UHD 8K</td>
                <td class="text-center" rowspan="1" colspan="1">7680 x 4320</td>
                <td class="text-right" rowspan="1" colspan="1">60</td>
                <td class="text-right" rowspan="1" colspan="1">1,990,656,000</td>
                <td class="text-left" rowspan="1" colspan="1">5.1</td>
              </tr>
              <tr>
                <td class="text-center" rowspan="1" colspan="1">UHD 8K</td>
                <td class="text-center" rowspan="1" colspan="1">7680 x 4320</td>
                <td class="text-right" rowspan="1" colspan="1">120</td>
                <td class="text-right" rowspan="1" colspan="1">3,981,312,000</td>
                <td class="text-left" rowspan="1" colspan="1">6</td>
              </tr>
            </tbody>
          </table>
</div>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="security-considerations">
<section id="section-10">
      <h2 id="name-security-considerations">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-10-1">Like any other audio or video codec, APV should not be used with insecure ciphers or cipher modes that are vulnerable to known    plaintext attacks.  Some of the header bits as well as the padding are easily predictable.<a href="#section-10-1" class="pilcrow">¶</a></p>
<p id="section-10-2">A decoder <span class="bcp14">MUST</span> be robust against any non-compliant or malicious payloads. Malicious payloads <span class="bcp14">MUST NOT</span> cause the decoder to overrun its allocated memory or to take an excessive amount of resources to decode. An overrun in allocated memory could lead to arbitrary code execution by an attacker. The same applies to the encoder, even though problems in encoders are typically rare.  Malicious video streams <span class="bcp14">MUST NOT</span> cause the encoder to misbehave because this would allow an attacker to attack transcoding gateways.  A frequent security problem in image and video codecs is failure to check for integer overflows.  An example is allocating "frame_width * frame_height" in pixel count computations without considering that the multiplication result may have overflowed the range of the arithmetic type. The implementation <span class="bcp14">MUST</span> ensure that any data outside of allocated and initialized memory cannot be read.<a href="#section-10-2" class="pilcrow">¶</a></p>
<p id="section-10-3">A decoder <span class="bcp14">MUST NOT</span> try to process the metadata whose type is not recognized by the implementation. Failure to process any metadata exactly according to the syntax structure specified <span class="bcp14">MAY</span> put a decoder in an unknown status.<a href="#section-10-3" class="pilcrow">¶</a></p>
<p id="section-10-4">None of the content carried in APV is intended to be executable.<a href="#section-10-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="iana-considerations">
<section id="section-11">
      <h2 id="name-iana-considerations">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-11-1">This document has no actions for IANA.<a href="#section-11-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec-combined-references">
<section id="section-12">
      <h2 id="name-references">
<a href="#section-12" class="section-number selfRef">12. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<div id="sec-normative-references">
<section id="section-12.1">
        <h3 id="name-normative-references">
<a href="#section-12.1" class="section-number selfRef">12.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="CIE15">[CIE15]</dt>
        <dd>
<span class="refAuthor">CIE</span>, <span class="refTitle">"Colorimetry, 4th Edition"</span>, <span class="seriesInfo">DOI 10.25039/TR.015.2018</span>, <time datetime="2018" class="refDate">2018</time>, <span>&lt;<a href="https://cie.co.at/publications/colorimetry-4th-edition">https://cie.co.at/publications/colorimetry-4th-edition</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="CTA-861.3">[CTA-861.3]</dt>
        <dd>
<span class="refAuthor">CTA</span>, <span class="refTitle">"HDR Static Metadata Extensions"</span>, <span class="refContent">CTA-861.3-A</span>, <time datetime="2019-09" class="refDate">September 2019</time>. </dd>
<dd class="break"></dd>
<dt id="H273">[H273]</dt>
        <dd>
<span class="refAuthor">ITU-T</span>, <span class="refTitle">"Coding-independent code points for video signal type identification"</span>, <span class="seriesInfo">ITU-T Recommendation H.273</span>, <span class="seriesInfo">ISO/IEC 23091-2:2025</span>, <time datetime="2024-07" class="refDate">July 2024</time>, <span>&lt;<a href="https://www.itu.int/rec/T-REC-H.273">https://www.itu.int/rec/T-REC-H.273</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="ISO11664-1">[ISO11664-1]</dt>
        <dd>
<span class="refAuthor">ISO</span>, <span class="refTitle">"Colorimetry - Part 1: CIE standard colorimetric observers"</span>, <span class="seriesInfo">ISO/CIE 11664-1:2019</span>, <time datetime="2019" class="refDate">2019</time>, <span>&lt;<a href="https://www.iso.org/standard/74164.html">https://www.iso.org/standard/74164.html</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="ISO9899">[ISO9899]</dt>
        <dd>
<span class="refAuthor">ISO/IEC</span>, <span class="refTitle">"Information technology - Programming languages - C"</span>, <span class="seriesInfo">ISO/IEC 9899:2024</span>, <time datetime="2024" class="refDate">2024</time>, <span>&lt;<a href="https://www.iso.org/standard/82075.html">https://www.iso.org/standard/82075.html</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="ITUT-T35">[ITUT-T35]</dt>
        <dd>
<span class="refAuthor">ITU-T</span>, <span class="refTitle">"Procedure for the allocation of ITU-T defined codes for non-standard facilities"</span>, <span class="seriesInfo">ITU-T Recommendation T.35</span>, <time datetime="2000-02" class="refDate">February 2000</time>, <span>&lt;<a href="https://www.itu.int/rec/T-REC-T.35">https://www.itu.int/rec/T-REC-T.35</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9562">[RFC9562]</dt>
      <dd>
<span class="refAuthor">Davis, K.</span>, <span class="refAuthor">Peabody, B.</span>, and <span class="refAuthor">P. Leach</span>, <span class="refTitle">"Universally Unique IDentifiers (UUIDs)"</span>, <span class="seriesInfo">RFC 9562</span>, <span class="seriesInfo">DOI 10.17487/RFC9562</span>, <time datetime="2024-05" class="refDate">May 2024</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9562">https://www.rfc-editor.org/info/rfc9562</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</div>
<div id="sec-informative-references">
<section id="section-12.2">
        <h3 id="name-informative-references">
<a href="#section-12.2" class="section-number selfRef">12.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="AMPAS">[AMPAS]</dt>
        <dd>
<span class="refTitle">"Academy of Motion Picture Arts and Sciences"</span>, <span>&lt;<a href="https://www.oscars.org/">https://www.oscars.org/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="AOSP16APV">[AOSP16APV]</dt>
        <dd>
<span class="refTitle">"Android open source project version 16"</span>, <span>&lt;<a href="https://developer.android.com/about/versions/16/features#apv">https://developer.android.com/about/versions/16/features#apv</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="ASWF">[ASWF]</dt>
        <dd>
<span class="refTitle">"The Academy Software Foundation"</span>, <span>&lt;<a href="https://www.aswf.io/">https://www.aswf.io/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="FFmpegAPVdec">[FFmpegAPVdec]</dt>
        <dd>
<span class="refTitle">"FFmpeg implementation of APV decoder"</span>, <time datetime="2025-11-20" class="refDate">20 November 2025</time>, <span>&lt;<a href="https://ffmpeg.org/download.html#release_8.0">https://ffmpeg.org/download.html#release_8.0</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="FFmpegAPVenc">[FFmpegAPVenc]</dt>
        <dd>
<span class="refTitle">"FFmpeg implementation of APV encoder"</span>, <time datetime="2025-05-04" class="refDate">4 May 2025</time>, <span>&lt;<a href="https://git.ffmpeg.org/gitweb/ffmpeg.git/commit/fab691edaf53bbf10429ef3448f1f274e5078395">https://git.ffmpeg.org/gitweb/ffmpeg.git/commit/fab691edaf53bbf10429ef3448f1f274e5078395</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="OpenAPV">[OpenAPV]</dt>
      <dd>
<span class="refTitle">"OpenAPV"</span>, <span class="refContent">commit 1a7845a</span>, <time datetime="2025-12-16" class="refDate">16 December 2025</time>, <span>&lt;<a href="https://github.com/AcademySoftwareFoundation/openapv">https://github.com/AcademySoftwareFoundation/openapv</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
<div id="appendix-rawbitstream">
<section id="appendix-A">
      <h2 id="name-raw-bitstream-format">
<a href="#appendix-A" class="section-number selfRef">Appendix A. </a><a href="#name-raw-bitstream-format" class="section-name selfRef">Raw Bitstream Format</a>
      </h2>
<span id="name-raw_bitstream_access_unit-s"></span><div id="syntax-rawbitstream">
<figure id="figure-34">
        <div class="alignLeft art-text artwork" id="appendix-A-1.1">
<pre>
syntax code                                                   | type
--------------------------------------------------------------|-----
raw_bitstream_access_unit(){                                  |
    au_size                                                   | u(32)
    access_unit(au_size)                                      |
}                                                             |</pre>
</div>
<figcaption><a href="#figure-34" class="selfRef">Figure 34</a>:
<a href="#name-raw_bitstream_access_unit-s" class="selfRef">raw_bitstream_access_unit() syntax code</a>
        </figcaption></figure>
</div>
<span class="break"></span><dl class="dlNewline" id="appendix-A-2">
        <dt id="appendix-A-2.1">au_size</dt>
        <dd style="margin-left: 1.5em" id="appendix-A-2.2">indicates the size of access unit in bytes. 0 is prohibited and 0xFFFFFFFF is reserved.<a href="#appendix-A-2.2" class="pilcrow">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
</section>
</div>
<div id="apv-implementations">
<section id="appendix-B">
      <h2 id="name-apv-implementations">
<a href="#appendix-B" class="section-number selfRef">Appendix B. </a><a href="#name-apv-implementations" class="section-name selfRef">APV Implementations</a>
      </h2>
<div id="openapv-open-source-project">
<section id="appendix-B.1">
        <h3 id="name-openapv-open-source-project">
<a href="#appendix-B.1" class="section-number selfRef">B.1. </a><a href="#name-openapv-open-source-project" class="section-name selfRef">OpenAPV Open Source Project</a>
        </h3>
<p id="appendix-B.1-1">The Academy Software Foundation (ASWF) <span>[<a href="#ASWF" class="cite xref">ASWF</a>]</span>, jointly founded  by the Academy of Motion Picture Arts and Science (AMPAS) <span>[<a href="#AMPAS" class="cite xref">AMPAS</a>]</span> and the Linux Foundation, has created an open source software development project conformant to this document <span>[<a href="#OpenAPV" class="cite xref">OpenAPV</a>]</span>. The project also provides various test vectors for verification of the implementations at <span>&lt;<a href="https://github.com/AcademySoftwareFoundation/openapv/tree/main/test/bitstream">https://github.com/AcademySoftwareFoundation/openapv/tree/main/test/bitstream</a>&gt;</span>.<a href="#appendix-B.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="android-open-source-project">
<section id="appendix-B.2">
        <h3 id="name-android-open-source-project">
<a href="#appendix-B.2" class="section-number selfRef">B.2. </a><a href="#name-android-open-source-project" class="section-name selfRef">Android Open Source Project</a>
        </h3>
<p id="appendix-B.2-1">The Android open source project (AOSP) has implemented Advanced Professional Video (APV) conformant to this document <span>[<a href="#AOSP16APV" class="cite xref">AOSP16APV</a>]</span>.<a href="#appendix-B.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="ffmpeg-open-source-project">
<section id="appendix-B.3">
        <h3 id="name-ffmpeg-open-source-project">
<a href="#appendix-B.3" class="section-number selfRef">B.3. </a><a href="#name-ffmpeg-open-source-project" class="section-name selfRef">FFmpeg Open Source Project</a>
        </h3>
<p id="appendix-B.3-1">The FFmpeg project is developing an APV decoder <span>[<a href="#FFmpegAPVdec" class="cite xref">FFmpegAPVdec</a>]</span> and an APV encoder <span>[<a href="#FFmpegAPVenc" class="cite xref">FFmpegAPVenc</a>]</span> conformant to this document.<a href="#appendix-B.3-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-C">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Youngkwon Lim</span></div>
<div dir="auto" class="left"><span class="org">Samsung Electronics</span></div>
<div dir="auto" class="left"><span class="street-address">6105 Tennyson Pkwy, Ste 300</span></div>
<div dir="auto" class="left">
<span class="locality">Plano</span>, <span class="region">TX</span> <span class="postal-code">75024</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:yklwhite@gmail.com" class="email">yklwhite@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Minwoo Park</span></div>
<div dir="auto" class="left"><span class="org">Samsung Electronics</span></div>
<div dir="auto" class="left"><span class="street-address">34, Seongchon-gil, Seocho-gu</span></div>
<div dir="auto" class="left"><span class="locality">Seoul</span></div>
<div dir="auto" class="left"><span class="postal-code">3573</span></div>
<div dir="auto" class="left"><span class="country-name">Republic of Korea</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:m.w.park@samsung.com" class="email">m.w.park@samsung.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Madhukar Budagavi</span></div>
<div dir="auto" class="left"><span class="org">Samsung Electronics</span></div>
<div dir="auto" class="left"><span class="street-address">6105 Tennyson Pkwy, Ste 300</span></div>
<div dir="auto" class="left">
<span class="locality">Plano</span>, <span class="region">TX</span> <span class="postal-code">75024</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:m.budagavi@samsung.com" class="email">m.budagavi@samsung.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Rajan Joshi</span></div>
<div dir="auto" class="left"><span class="org">Samsung Electronics</span></div>
<div dir="auto" class="left"><span class="street-address">11488 Tree Hollow Ln</span></div>
<div dir="auto" class="left">
<span class="locality">San Diego</span>, <span class="region">CA</span> <span class="postal-code">92128</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:rajan_joshi@ieee.org" class="email">rajan_joshi@ieee.org</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Kwang Pyo Choi</span></div>
<div dir="auto" class="left"><span class="org">Samsung Electronics</span></div>
<div dir="auto" class="left"><span class="street-address">34 Seongchon-gil Seocho-gu</span></div>
<div dir="auto" class="left"><span class="locality">Seoul</span></div>
<div dir="auto" class="left"><span class="postal-code">3573</span></div>
<div dir="auto" class="left"><span class="country-name">Republic of Korea</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:kwangpyo.choi@gmail.com" class="email">kwangpyo.choi@gmail.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
