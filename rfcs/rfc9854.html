<!DOCTYPE html>
<html lang="en" class="RFC">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>RFC 9854: AODV-RPL: The Routing Protocol for Low-Power and Lossy Networks (RPL) Based on Ad Hoc On-Demand Distance Vector (AODV) Routing</title>
<meta content="Charles E. Perkins" name="author">
<meta content="S.V.R. Anand" name="author">
<meta content="Satish Anamalamudi" name="author">
<meta content="Bing Liu" name="author">
<meta content="
       Route discovery for symmetric and asymmetric Peer-to-Peer (P2P)
      traffic flows is a desirable feature in Low-Power and Lossy Networks
      (LLNs).  For that purpose, this document specifies AODV-RPL -- the
      Routing Protocol for Low-Power and Lossy Networks (RPL) based on Ad hoc
      On-demand Distance Vector (AODV) routing. AODV-RPL is a reactive P2P
      route discovery mechanism for both hop-by-hop routes and source
      routing.  Paired instances are used to construct directional paths for
      cases where there are asymmetric links between source and target nodes.
       
    " name="description">
<meta content="xml2rfc 3.31.0" name="generator">
<meta content="AODV" name="keyword">
<meta content="Peer-to-Peer Route Discovery" name="keyword">
<meta content="Asymmetric" name="keyword">
<meta content="9854" name="rfc.number">
<!-- Generator version information:
  xml2rfc 3.31.0
    Python 3.9.15
    ConfigArgParse 1.5.3
    google-i18n-address 3.0.0
    intervaltree 3.1.0
    Jinja2 3.1.2
    lxml 5.3.0
    platformdirs 3.8.0
    pycountry 22.3.5
    PyYAML 6.0
    requests 2.28.0
    wcwidth 0.2.5
    weasyprint 65.0
-->
<link href="rfc9854.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necessary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://static.ietf.org/fonts/noto-sans/import.css'); /* Sans-serif */
@import url('https://static.ietf.org/fonts/noto-serif/import.css'); /* Serif (print) */
@import url('https://static.ietf.org/fonts/roboto-mono/import.css'); /* Monospace */

:root {
  --font-sans: 'Noto Sans', Arial, Helvetica, sans-serif;
  --font-serif: 'Noto Serif', 'Times', 'Times New Roman', serif;
  --font-mono: 'Roboto Mono', Courier, 'Courier New', monospace;
}

@viewport {
  zoom: 1.0;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: var(--font-sans);
  line-height: 1.6;
  scroll-behavior: smooth;
  overflow-wrap: break-word;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
@media print {
  svg {
    max-height: 850px;
    max-width: 660px;
  }
}
svg[font-family~="serif" i], svg [font-family~="serif" i] {
  font-family: var(--font-serif);
}
svg[font-family~="sans-serif" i], svg [font-family~="sans-serif" i] {
  font-family: var(--font-sans);
}
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  display: table;
  border: none;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre {
  background-color: #f9f9f9;
  font-family: var(--font-mono);
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
blockquote > *:last-child {
  margin-bottom: 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}
.xref {
  overflow-wrap: normal;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    max-width: 100%;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.refSubseries {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: var(--font-sans);
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  .breakable pre {
    break-inside: auto;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The following is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
.sourcecode pre,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .artwork > pre,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: upper-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background slightly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr {
  break-inside: avoid;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottom margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code, dt tt, dt code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the compact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > blockquote:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div.sourcecode:first-child,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type:only-child {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<link href="https://datatracker.ietf.org/doc/draft-ietf-roll-aodv-rpl-20" rel="prev">
  <link href="https://dx.doi.org/10.17487/rfc9854" rel="alternate">
  <link href="urn:issn:2070-1721" rel="alternate">
  </head>
<body class="xml2rfc">
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 9854</td>
<td class="center">AODV-RPL</td>
<td class="right">October 2025</td>
</tr></thead>
<tfoot><tr>
<td class="left">Perkins, et al.</td>
<td class="center">Standards Track</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Engineering Task Force (IETF)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a href="https://www.rfc-editor.org/rfc/rfc9854" class="eref">9854</a></dd>
<dt class="label-category">Category:</dt>
<dd class="category">Standards Track</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2025-10" class="published">October 2025</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">C.E. Perkins</div>
<div class="org">Blue Meadow Networks</div>
</div>
<div class="author">
      <div class="author-name">S.V.R. Anand</div>
<div class="org">Indian Institute of Science</div>
</div>
<div class="author">
      <div class="author-name">S. Anamalamudi</div>
<div class="org">SRM University-AP</div>
</div>
<div class="author">
      <div class="author-name">B. Liu</div>
<div class="org">Huawei Technologies</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 9854</h1>
<h1 id="title">AODV-RPL: The Routing Protocol for Low-Power and Lossy Networks (RPL) Based on Ad Hoc On-Demand Distance Vector (AODV) Routing</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">Route discovery for symmetric and asymmetric Peer-to-Peer (P2P)
      traffic flows is a desirable feature in Low-Power and Lossy Networks
      (LLNs).  For that purpose, this document specifies AODV-RPL -- the
      Routing Protocol for Low-Power and Lossy Networks (RPL) based on Ad hoc
      On-demand Distance Vector (AODV) routing. AODV-RPL is a reactive P2P
      route discovery mechanism for both hop-by-hop routes and source
      routing.  Paired instances are used to construct directional paths for
      cases where there are asymmetric links between source and target nodes.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This is an Internet Standards Track document.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc9854">https://www.rfc-editor.org/info/rfc9854</a></span>.<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2025 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="auto internal xref">1</a>.  <a href="#name-introduction" class="internal xref">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="auto internal xref">2</a>.  <a href="#name-terminology" class="internal xref">Terminology</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1" class="keepWithNext"><a href="#section-3" class="auto internal xref">3</a>.  <a href="#name-overview-of-aodv-rpl" class="internal xref">Overview of AODV-RPL</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="auto internal xref">4</a>.  <a href="#name-aodv-rpl-dio-options" class="internal xref">AODV-RPL DIO Options</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="auto internal xref">4.1</a>.  <a href="#name-aodv-rpl-rreq-option" class="internal xref">AODV-RPL RREQ Option</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="auto internal xref">4.2</a>.  <a href="#name-aodv-rpl-rrep-option" class="internal xref">AODV-RPL RREP Option</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="auto internal xref">4.3</a>.  <a href="#name-aodv-rpl-target-option" class="internal xref">AODV-RPL Target Option</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="auto internal xref">5</a>.  <a href="#name-symmetric-and-asymmetric-ro" class="internal xref">Symmetric and Asymmetric Routes</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="auto internal xref">6</a>.  <a href="#name-aodv-rpl-operation" class="internal xref">AODV-RPL Operation</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="auto internal xref">6.1</a>.  <a href="#name-generating-rreq" class="internal xref">Generating RREQ</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="auto internal xref">6.2</a>.  <a href="#name-receiving-and-forwarding-rr" class="internal xref">Receiving and Forwarding RREQ Messages</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.1">
                    <p id="section-toc.1-1.6.2.2.2.1.1"><a href="#section-6.2.1" class="auto internal xref">6.2.1</a>.  <a href="#name-step-1-rreq-reception-and-e" class="internal xref">Step 1: RREQ Reception and Evaluation</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.2">
                    <p id="section-toc.1-1.6.2.2.2.2.1"><a href="#section-6.2.2" class="auto internal xref">6.2.2</a>.  <a href="#name-step-2-targnode-and-interme" class="internal xref">Step 2: TargNode and Intermediate Router Determination</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.3">
                    <p id="section-toc.1-1.6.2.2.2.3.1"><a href="#section-6.2.3" class="auto internal xref">6.2.3</a>.  <a href="#name-step-3-intermediate-router-" class="internal xref">Step 3: Intermediate Router RREQ Processing</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.4">
                    <p id="section-toc.1-1.6.2.2.2.4.1"><a href="#section-6.2.4" class="auto internal xref">6.2.4</a>.  <a href="#name-step-4-symmetric-route-proc" class="internal xref">Step 4: Symmetric Route Processing at an Intermediate Router</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.5">
                    <p id="section-toc.1-1.6.2.2.2.5.1"><a href="#section-6.2.5" class="auto internal xref">6.2.5</a>.  <a href="#name-step-5-rreq-propagation-at-" class="internal xref">Step 5: RREQ Propagation at an Intermediate Router</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.6">
                    <p id="section-toc.1-1.6.2.2.2.6.1"><a href="#section-6.2.6" class="auto internal xref">6.2.6</a>.  <a href="#name-step-6-rreq-reception-at-ta" class="internal xref">Step 6: RREQ Reception at TargNode</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3">
                <p id="section-toc.1-1.6.2.3.1"><a href="#section-6.3" class="auto internal xref">6.3</a>.  <a href="#name-generating-rrep-at-targnode" class="internal xref">Generating RREP at TargNode</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3.2.1">
                    <p id="section-toc.1-1.6.2.3.2.1.1"><a href="#section-6.3.1" class="auto internal xref">6.3.1</a>.  <a href="#name-rrep-dio-for-symmetric-rout" class="internal xref">RREP-DIO for Symmetric Route</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3.2.2">
                    <p id="section-toc.1-1.6.2.3.2.2.1"><a href="#section-6.3.2" class="auto internal xref">6.3.2</a>.  <a href="#name-rrep-dio-for-asymmetric-rou" class="internal xref">RREP-DIO for Asymmetric Route</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3.2.3">
                    <p id="section-toc.1-1.6.2.3.2.3.1"><a href="#section-6.3.3" class="auto internal xref">6.3.3</a>.  <a href="#name-rplinstanceid-pairing" class="internal xref">RPLInstanceID Pairing</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.4">
                <p id="section-toc.1-1.6.2.4.1"><a href="#section-6.4" class="auto internal xref">6.4</a>.  <a href="#name-receiving-and-forwarding-rre" class="internal xref">Receiving and Forwarding RREP</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.4.2.1">
                    <p id="section-toc.1-1.6.2.4.2.1.1"><a href="#section-6.4.1" class="auto internal xref">6.4.1</a>.  <a href="#name-step-1-receiving-and-evalua" class="internal xref">Step 1: Receiving and Evaluation</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.4.2.2">
                    <p id="section-toc.1-1.6.2.4.2.2.1"><a href="#section-6.4.2" class="auto internal xref">6.4.2</a>.  <a href="#name-step-2-orignode-or-intermed" class="internal xref">Step 2: OrigNode or Intermediate Router</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.4.2.3">
                    <p id="section-toc.1-1.6.2.4.2.3.1"><a href="#section-6.4.3" class="auto internal xref">6.4.3</a>.  <a href="#name-step-3-build-route-to-targn" class="internal xref">Step 3: Build Route to TargNode</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.4.2.4">
                    <p id="section-toc.1-1.6.2.4.2.4.1"><a href="#section-6.4.4" class="auto internal xref">6.4.4</a>.  <a href="#name-step-4-rrep-propagation" class="internal xref">Step 4: RREP Propagation</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="auto internal xref">7</a>.  <a href="#name-gratuitous-rrep" class="internal xref">Gratuitous RREP</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="auto internal xref">8</a>.  <a href="#name-operation-of-trickle-timer" class="internal xref">Operation of Trickle Timer</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="auto internal xref">9</a>.  <a href="#name-iana-considerations" class="internal xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="auto internal xref">10</a>. <a href="#name-security-considerations" class="internal xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="auto internal xref">11</a>. <a href="#name-references" class="internal xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1">
                <p id="section-toc.1-1.11.2.1.1"><a href="#section-11.1" class="auto internal xref">11.1</a>.  <a href="#name-normative-references" class="internal xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.2">
                <p id="section-toc.1-1.11.2.2.1"><a href="#section-11.2" class="auto internal xref">11.2</a>.  <a href="#name-informative-references" class="internal xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#appendix-A" class="auto internal xref">Appendix A</a>.  <a href="#name-example-using-etx-rssi-valu" class="internal xref">Example: Using ETX/RSSI Values to Determine Value of S Bit</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#appendix-B" class="auto internal xref">Appendix B</a>.  <a href="#name-some-example-aodv-rpl-messa" class="internal xref">Some Example AODV-RPL Message Flows</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.1">
                <p id="section-toc.1-1.13.2.1.1"><a href="#appendix-B.1" class="auto internal xref">B.1</a>.  <a href="#name-example-control-message-flo" class="internal xref">Example Control Message Flows in Symmetric and Asymmetric Networks</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.2">
                <p id="section-toc.1-1.13.2.2.1"><a href="#appendix-B.2" class="auto internal xref">B.2</a>.  <a href="#name-example-rrep_wait-handling" class="internal xref">Example RREP_WAIT Handling</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.3">
                <p id="section-toc.1-1.13.2.3.1"><a href="#appendix-B.3" class="auto internal xref">B.3</a>.  <a href="#name-example-g-rrep-handling" class="internal xref">Example G-RREP Handling</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a href="#appendix-C" class="auto internal xref"></a><a href="#name-acknowledgements" class="internal xref">Acknowledgements</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15">
            <p id="section-toc.1-1.15.1"><a href="#appendix-D" class="auto internal xref"></a><a href="#name-contributors" class="internal xref">Contributors</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.16">
            <p id="section-toc.1-1.16.1"><a href="#appendix-E" class="auto internal xref"></a><a href="#name-authors-addresses" class="internal xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="Introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">
        The Routing Protocol for Low-Power and Lossy Networks (RPL)
        <span>[<a href="#RFC6550" class="cite xref">RFC6550</a>]</span> is an IPv6 distance vector routing protocol
 designed to support multiple traffic flows through a root-based
 Destination-Oriented Directed Acyclic Graph (DODAG). Typically,
 a router does not have routing information for destinations attached
        to most other routers.  Consequently, for traffic
        between routers within the DODAG (i.e., P2P traffic),
        data packets either have to traverse the root in non-storing mode or
        traverse a common ancestor in storing mode.  Such P2P traffic
        is thereby likely to traverse longer routes and
        may suffer severe congestion near the root (for more information,
        see <span>[<a href="#RFC6687" class="cite xref">RFC6687</a>]</span>, <span>[<a href="#RFC6997" class="cite xref">RFC6997</a>]</span>,
        <span>[<a href="#RFC6998" class="cite xref">RFC6998</a>]</span>, and <span>[<a href="#RFC9010" class="cite xref">RFC9010</a>]</span>).
        The network environment that is considered in this document
        is assumed to be the same as that described in 
        <span><a href="https://rfc-editor.org/rfc/rfc6550#section-1" class="relref">Section 1</a> of [<a href="#RFC6550" class="cite xref">RFC6550</a>]</span>.
        Each radio interface/link and the associated address should be
        treated as an independent intermediate router.  Such routers
        have different links, and the rules for link symmetry
        apply independently for each of these.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">
        The route discovery process in AODV-RPL is modeled on the analogous
        P2P procedure specified in AODV <span>[<a href="#RFC3561" class="cite xref">RFC3561</a>]</span>.
 The on-demand property of AODV route discovery is useful for the needs
        of routing in RPL-based LLNs when routes are needed but aren't yet
        established.  P2P routing is desirable to discover
        shorter routes, especially when it is desired to avoid directing
        additional traffic through a root or gateway node of the network.
        It may happen that some routes need to be established proactively
        when known beforehand and when AODV-RPL's route discovery process
        introduces unwanted delay when the application is
        launched.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">
        AODV terminology has been adapted for use with AODV-RPL messages,
        namely "RREQ" for "Route Request", and "RREP" for "Route Reply".
        AODV-RPL currently omits some features compared to AODV -- in
        particular, flagging route errors, blocking the use of unidirectional links
        <span>[<a href="#RFC3561" class="cite xref">RFC3561</a>]</span>, multihoming, and handling unnumbered
        interfaces.<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">AODV-RPL reuses and extends the core RPL functionality to support
      routes with bidirectional asymmetric links.  It retains RPL's DODAG
      formation, RPL Instance and the associated Objective Function (OF) (defined
      in <span>[<a href="#RFC6551" class="cite xref">RFC6551</a>]</span>), Trickle timers, and support for storing
      and non-storing modes.  AODV-RPL adds the basic messages RREQ and RREP as
      part of the RPL DODAG Information Object (DIO) control message, which go in
      separate (paired) RPL Instances.  AODV-RPL does not utilize the
      Destination Advertisement Object (DAO) control message of RPL.
        AODV-RPL uses the "P2P Route Discovery Mode of Operation" (MOP == 4)
        with three new options for the DIO message, dedicated to discovering
        P2P routes. These P2P routes may differ from routes discoverable by
        RPL <span>[<a href="#RFC6550" class="cite xref">RFC6550</a>]</span>.  Since AODV-RPL uses newly defined options and a newly
        allocated multicast group (see <a href="#iana" class="auto internal xref">Section 9</a>), there is no
        conflict with P2P-RPL <span>[<a href="#RFC6997" class="cite xref">RFC6997</a>]</span>, a previous document
        using the same MOP.  AODV-RPL can be operated whether or not P2P-RPL
        or RPL <span>[<a href="#RFC6550" class="cite xref">RFC6550</a>]</span> is also running.  AODV-RPL could be used for networks in
        which routes are needed with OFs that cannot be
        satisfied by routes that are constrained to traverse the root of the
        network or other common ancestors.  P2P routes often require fewer
        hops and therefore consume less resources than routes that traverse
        the root or other common ancestors.  Similar in cost to base RPL <span>[<a href="#RFC6550" class="cite xref">RFC6550</a>]</span>, the cost will depend on many
        factors such as the proximity of the OrigNode and TargNodes and
        distribution of symmetric/asymmetric P2P links.  Experience with
        AODV <span>[<a href="#aodv-tot" class="cite xref">aodv-tot</a>]</span> suggests that AODV-RPL will often find
        routes with improved Rank compared to routes constrained to traverse
        a common ancestor of the source and destination nodes.<a href="#section-1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="terms">
<section id="section-2">
      <h2 id="name-terminology">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-terminology" class="section-name selfRef">Terminology</a>
      </h2>
<p id="section-2-1">
    The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>",
    "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>",
    "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>",
    "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
    "<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be
    interpreted as described in BCP 14 <span>[<a href="#RFC2119" class="cite xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="cite xref">RFC8174</a>]</span> when, and only when, they appear in all capitals, as
    shown here.<a href="#section-2-1" class="pilcrow">¶</a></p>
<p id="section-2-2">
          AODV-RPL reuses names for messages and data structures, including
          Rank, DODAG, and DODAGID, as defined in RPL <span>[<a href="#RFC6550" class="cite xref">RFC6550</a>]</span>.<a href="#section-2-2" class="pilcrow">¶</a></p>
<p id="section-2-3">This document also uses the following terms:<a href="#section-2-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-2-4">
        <dt id="section-2-4.1">AODV</dt>
        <dd style="margin-left: 1.5em" id="section-2-4.2">Ad hoc On-Demand Distance Vector <span>[<a href="#RFC3561" class="cite xref">RFC3561</a>]</span>.<a href="#section-2-4.2" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-4.3">ART option</dt>
        <dd style="margin-left: 1.5em" id="section-2-4.4">The AODV-RPL Target option defined in this document.<a href="#section-2-4.4" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-4.5">Asymmetric route</dt>
        <dd style="margin-left: 1.5em" id="section-2-4.6">The route from the OrigNode to the TargNode can traverse different
        nodes than the route from the TargNode to the OrigNode. An asymmetric
        route may result from the asymmetry of links, such that only one
        direction of the series of links satisfies the OF
        during route discovery.<a href="#section-2-4.6" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-4.7">Bidirectional asymmetric link</dt>
        <dd style="margin-left: 1.5em" id="section-2-4.8">A link that can be used in both directions but with different link
        characteristics.<a href="#section-2-4.8" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-4.9">DIO</dt>
        <dd style="margin-left: 1.5em" id="section-2-4.10">DODAG Information Object (as defined in <span>[<a href="#RFC6550" class="cite xref">RFC6550</a>]</span>).<a href="#section-2-4.10" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-4.11">DODAG RREQ-Instance (or simply RREQ-Instance)</dt>
        <dd style="margin-left: 1.5em" id="section-2-4.12">A RPL Instance built using the DIO with RREQ option; used for
        transmission of control messages from OrigNode to TargNode, thus
        enabling data transmission from TargNode to OrigNode.<a href="#section-2-4.12" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-4.13">DODAG RREP-Instance (or simply RREP-Instance)</dt>
        <dd style="margin-left: 1.5em" id="section-2-4.14">A RPL Instance built using the DIO with RREP option; used for
        transmission of control messages from TargNode to OrigNode, thus
        enabling data transmission from OrigNode to TargNode.<a href="#section-2-4.14" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-4.15">Downward direction</dt>
        <dd style="margin-left: 1.5em" id="section-2-4.16">The direction from the OrigNode to the TargNode.<a href="#section-2-4.16" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-4.17">Downward route</dt>
        <dd style="margin-left: 1.5em" id="section-2-4.18">A route in the downward direction.<a href="#section-2-4.18" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-4.19">Hop-by-hop route</dt>
        <dd style="margin-left: 1.5em" id="section-2-4.20">A route for which each router along the routing path stores
        routing information about the next hop. A hop-by-hop route is
        created using RPL's "storing mode".<a href="#section-2-4.20" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-4.21">OF</dt>
        <dd style="margin-left: 1.5em" id="section-2-4.22">Objective Function (as defined in <span>[<a href="#RFC6550" class="cite xref">RFC6550</a>]</span>).<a href="#section-2-4.22" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-4.23">OrigNode</dt>
        <dd style="margin-left: 1.5em" id="section-2-4.24">The IPv6 router (originating node) initiating the AODV-RPL
        route discovery to obtain a route to TargNode.<a href="#section-2-4.24" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-4.25">Paired DODAGs</dt>
        <dd style="margin-left: 1.5em" id="section-2-4.26">Two DODAGs for a single route discovery process between OrigNode
        and TargNode.<a href="#section-2-4.26" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-4.27">P2P</dt>
        <dd style="margin-left: 1.5em" id="section-2-4.28">Peer-to-Peer (in other words, not constrained a priori to
        traverse a common ancestor).<a href="#section-2-4.28" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-4.29">REJOIN_REENABLE</dt>
        <dd style="margin-left: 1.5em" id="section-2-4.30">The duration during which a node is prohibited from joining a
        DODAG with a particular RREQ-InstanceID, after it has left a DODAG
        with the same RREQ-InstanceID. The default value of REJOIN_REENABLE is
        15 minutes.<a href="#section-2-4.30" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-4.31">RREQ</dt>
        <dd style="margin-left: 1.5em" id="section-2-4.32">Route Request.<a href="#section-2-4.32" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-4.33">RREQ-DIO message</dt>
        <dd style="margin-left: 1.5em" id="section-2-4.34">A DIO message containing the RREQ option.  The RPLInstanceID in
        RREQ-DIO is assigned locally by the OrigNode.  The RREQ-DIO message
        has a secure variant as noted in <span>[<a href="#RFC6550" class="cite xref">RFC6550</a>]</span>.<a href="#section-2-4.34" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-4.35">RREQ-InstanceID</dt>
        <dd style="margin-left: 1.5em" id="section-2-4.36">The RPLInstanceID for the RREQ-Instance. The RREQ-InstanceID is formed
        as the ordered pair (Orig_RPLInstanceID, OrigNode-IPaddr), where
        Orig_RPLInstanceID is the local RPLInstanceID allocated by OrigNode
        and OrigNode-IPaddr is an IP address of OrigNode.  The RREQ-InstanceID
        uniquely identifies the RREQ-Instance.<a href="#section-2-4.36" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-4.37">RREP</dt>
        <dd style="margin-left: 1.5em" id="section-2-4.38">Route Reply.<a href="#section-2-4.38" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-4.39">RREP-DIO message</dt>
        <dd style="margin-left: 1.5em" id="section-2-4.40">A DIO message containing the RREP option.  OrigNode pairs the
        RPLInstanceID in RREP-DIO to the one in the associated RREQ-DIO
        message (i.e., the RREQ-InstanceID) as described in <a href="#asymmetricrrep" class="auto internal xref">Section 6.3.2</a>. The RREP-DIO message has a secure variant
        as noted in <span>[<a href="#RFC6550" class="cite xref">RFC6550</a>]</span>.<a href="#section-2-4.40" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-4.41">RREP-InstanceID</dt>
        <dd style="margin-left: 1.5em" id="section-2-4.42">
        The RPLInstanceID for the RREP-Instance.  The RREP-InstanceID is formed
        as the ordered pair (Targ_RPLInstanceID, TargNode-IPaddr), where
        Targ_RPLInstanceID is the local RPLInstanceID allocated by TargNode
        and TargNode-IPaddr is an IP address of TargNode.  The RREP-InstanceID
        uniquely identifies the RREP-Instance.  The RPLInstanceID in the RREP
        message along with the Delta value indicates the associated
        RREQ-InstanceID.  The InstanceIDs are matched by the mechanism explained
        in <a href="#instancepairing" class="auto internal xref">Section 6.3.3</a>.<a href="#section-2-4.42" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-4.43">Source routing</dt>
        <dd style="margin-left: 1.5em" id="section-2-4.44">A mechanism by which the source supplies a vector of addresses
        towards the destination node along with each data packet <span>[<a href="#RFC6550" class="cite xref">RFC6550</a>]</span>.<a href="#section-2-4.44" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-4.45">Symmetric route</dt>
        <dd style="margin-left: 1.5em" id="section-2-4.46">The upstream and downstream routes traverse the same routers and over
        the same links.<a href="#section-2-4.46" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-4.47">TargNode</dt>
        <dd style="margin-left: 1.5em" id="section-2-4.48">The IPv6 router (target node) for which OrigNode requires a
        route and initiates route discovery within the LLN.<a href="#section-2-4.48" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-4.49">Upward direction</dt>
        <dd style="margin-left: 1.5em" id="section-2-4.50">The direction from the TargNode to the OrigNode.<a href="#section-2-4.50" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-4.51">Upward route</dt>
        <dd style="margin-left: 1.5em" id="section-2-4.52">A route in the upward direction.<a href="#section-2-4.52" class="pilcrow">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
</section>
</div>
<section id="section-3">
      <h2 id="name-overview-of-aodv-rpl">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-overview-of-aodv-rpl" class="section-name selfRef">Overview of AODV-RPL</a>
      </h2>
<p id="section-3-1">
        With AODV-RPL, routes from OrigNode to TargNode within the LLN
        do not become established until they are needed.  The route
        discovery mechanism in AODV-RPL is invoked when OrigNode
        has data for delivery to a TargNode, but existing routes do not
        satisfy the application's requirements.  For this reason,
        AODV-RPL is considered to be an example of an "on-demand" routing
        protocol.  Such protocols are also known as "reactive" routing
        protocols since their operations are triggered in reaction to
        a determination that a new route is needed.

        AODV-RPL works
        without requiring the use of RPL or any other routing protocol.<a href="#section-3-1" class="pilcrow">¶</a></p>
<p id="section-3-2">
        The routes discovered by
        AODV-RPL are not constrained to traverse a common ancestor.
        AODV-RPL can enable asymmetric communication paths in networks with
        bidirectional asymmetric links. For this purpose, AODV-RPL enables
        discovery of two routes: namely, one from OrigNode to TargNode and
        another from TargNode to OrigNode.  AODV-RPL also
        enables discovery of symmetric routes along paired DODAGs, when
        symmetric routes are possible (see <a href="#channel" class="auto internal xref">Section 5</a>).<a href="#section-3-2" class="pilcrow">¶</a></p>
<p id="section-3-3">
        In AODV-RPL, routes are discovered by first forming a temporary
        Directed Acyclic Graph (DAG) rooted at the OrigNode.  Paired DODAGs
        (Instances) are constructed during route formation between the
        OrigNode and TargNode.  The RREQ-Instance is formed by route control
        messages from OrigNode to TargNode, whereas the RREP-Instance is
        formed by route control messages from TargNode to OrigNode.  The route
        discovered in the RREQ-Instance is used for transmitting data from
        TargNode to OrigNode, and the route discovered in RREP-Instance is
        used for transmitting data from OrigNode to TargNode.<a href="#section-3-3" class="pilcrow">¶</a></p>
<p id="section-3-4">
        Intermediate routers join the DODAGs based on the Rank
        <span>[<a href="#RFC6550" class="cite xref">RFC6550</a>]</span> as calculated from the DIO messages.
        AODV-RPL uses the same notion of Rank as
        defined in <span>[<a href="#RFC6550" class="cite xref">RFC6550</a>]</span>:<a href="#section-3-4" class="pilcrow">¶</a></p>
<blockquote id="section-3-5">The Rank is the expression of a relative position within
 a DODAG Version with regard to neighbors, and it is not necessarily a
 good indication or a proper expression of a distance or a path cost to
 the root.<a href="#section-3-5" class="pilcrow">¶</a>
</blockquote>
<p id="section-3-6">The Rank measurements provided in AODV messages do not indicate a
 distance or a path cost to the root.<a href="#section-3-6" class="pilcrow">¶</a></p>
<p id="section-3-7">
        Henceforth in this document, "RREQ-DIO message" means the DIO
 message from OrigNode toward TargNode, containing the RREQ option as
 specified in <a href="#RREQmsg" class="auto internal xref">Section 4.1</a>.  The RREQ-InstanceID is formed
 as the ordered pair (Orig_RPLInstanceID, OrigNode-IPaddr), where
 Orig_RPLInstanceID is the local RPLInstanceID allocated by OrigNode
 and OrigNode-IPaddr is the IP address of OrigNode.  A node receiving
 the RREQ-DIO can use the RREQ-InstanceID to identify the proper OF
 whenever that node receives a data packet with Source Address ==
 OrigNode-IPaddr and IPv6 RPL Option having the RPLInstanceID ==
 Orig_RPLInstanceID.  The D bit of the RPLInstanceID field is set
        to 0 to indicate that the source address of the IPv6 packet is
        the DODAGID.<a href="#section-3-7" class="pilcrow">¶</a></p>
<p id="section-3-8">
 Similarly, "RREP-DIO message" means the DIO message from TargNode
 toward OrigNode, containing the RREP option as specified in
 <a href="#RREPmsg" class="auto internal xref">Section 4.2</a>.  The RREP-InstanceID is formed
 as the ordered pair (Targ_RPLInstanceID, TargNode-IPaddr), where
 Targ_RPLInstanceID is the local RPLInstanceID allocated by TargNode
 and TargNode-IPaddr is the IP address of TargNode.  A node receiving
 the RREP-DIO can use the RREP-InstanceID to identify the proper OF
 whenever that node receives a data packet with Source Address ==
 TargNode-IPaddr and IPv6 RPL Option having the RPLInstanceID ==
 Targ_RPLInstanceID along with D == 0 as above.<a href="#section-3-8" class="pilcrow">¶</a></p>
</section>
<div id="Options">
<section id="section-4">
      <h2 id="name-aodv-rpl-dio-options">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-aodv-rpl-dio-options" class="section-name selfRef">AODV-RPL DIO Options</a>
      </h2>
<div id="RREQmsg">
<section id="section-4.1">
        <h3 id="name-aodv-rpl-rreq-option">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-aodv-rpl-rreq-option" class="section-name selfRef">AODV-RPL RREQ Option</a>
        </h3>
<p id="section-4.1-1">
 OrigNode selects one of its IPv6 addresses and sets it in the DODAGID
 field of the RREQ-DIO message.  The address scope of the selected
 address <span class="bcp14">MUST</span> encompass the domain where the route is built (e.g, not
 link-local); otherwise, the route discovery will fail.  Exactly one
        RREQ option <span class="bcp14">MUST</span> be present
 in an RREQ-DIO message; otherwise, the message <span class="bcp14">MUST</span> be dropped.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<span id="name-format-for-aodv-rpl-rreq-op"></span><div id="figRREQ">
<figure id="figure-1">
          <div class="alignCenter art-text artwork" id="section-4.1-2.1">
<pre>
     0                   1                   2                   3
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |  Option Type  | Option Length |S|H|X| Compr | L |  RankLimit  |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |  Orig SeqNo   |                                               |
    +-+-+-+-+-+-+-+-+                                               |
    |                                                               |
    |           Address Vector (Optional, Variable Length)          |
    .                                                               .
    .                                                               .
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ . . .</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-format-for-aodv-rpl-rreq-op" class="selfRef">Format for AODV-RPL RREQ Option</a>
          </figcaption></figure>
</div>
<p id="section-4.1-3">OrigNode supplies the following information in the RREQ option:<a href="#section-4.1-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-4.1-4">
          <dt id="section-4.1-4.1">Option Type</dt>
          <dd style="margin-left: 1.5em" id="section-4.1-4.2">8-bit unsigned integer specifying the type of the option (0x0B).<a href="#section-4.1-4.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.1-4.3">Option Length</dt>
          <dd style="margin-left: 1.5em" id="section-4.1-4.4">8-bit unsigned integer specifying the length of the option in
          octets, excluding the Option Type and Option Length fields.  It is
          variable due to the presence of the Address Vector and the number of
          octets elided according to the Compr value.<a href="#section-4.1-4.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.1-4.5">S</dt>
          <dd style="margin-left: 1.5em" id="section-4.1-4.6">Symmetric bit indicating a symmetric route from the OrigNode to
          the router transmitting this RREQ-DIO. See <a href="#channel" class="auto internal xref">Section 5</a>.<a href="#section-4.1-4.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.1-4.7">H</dt>
          <dd style="margin-left: 1.5em" id="section-4.1-4.8">Set to one for a hop-by-hop route.  Set to zero for a source
          route.  This flag controls both the downstream route and upstream
          route.<a href="#section-4.1-4.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.1-4.9">X</dt>
          <dd style="margin-left: 1.5em" id="section-4.1-4.10">Reserved. This field <span class="bcp14">MUST</span> be initialized to zero and ignored
          upon reception.<a href="#section-4.1-4.10" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.1-4.11">Compr</dt>
          <dd style="margin-left: 1.5em" id="section-4.1-4.12">4-bit unsigned integer. When Compr is nonzero, exactly that
          number of prefix octets <span class="bcp14">MUST</span> be elided from each
          address before storing it in the Address Vector. The octets elided
          are shared with the IPv6 address in the DODAGID. This field is only
          used in source routing mode (H=0).  In hop-by-hop mode (H=1), this
          field <span class="bcp14">MUST</span> be set to zero and ignored upon
          reception.<a href="#section-4.1-4.12" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.1-4.13">L</dt>
          <dd style="margin-left: 1.5em" id="section-4.1-4.14">
            <p id="section-4.1-4.14.1">2-bit unsigned integer determining the time duration that a
            node is able to belong to the RREQ-Instance (a temporary DAG
            including the OrigNode and the TargNode).  Once the time is
            reached, a node <span class="bcp14">SHOULD</span> leave the RREQ-Instance and
            stop sending or receiving any more DIOs for the RREQ-Instance;
            otherwise, memory and network resources are likely to be consumed
            unnecessarily.  This naturally depends on the node's ability to
            keep track of time.  Once a node leaves an RREQ-Instance, it
            <span class="bcp14">MUST NOT</span> rejoin the same RREQ-Instance for at least
            the time interval specified by the configuration variable
            REJOIN_REENABLE. L is independent from the route lifetime, which
            is defined in the DODAG configuration option.<a href="#section-4.1-4.14.1" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-4.1-4.14.2.1">
                <p id="section-4.1-4.14.2.1.1">0x00: No time limit imposed<a href="#section-4.1-4.14.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="compact" id="section-4.1-4.14.2.2">
                <p id="section-4.1-4.14.2.2.1">0x01: 16 seconds<a href="#section-4.1-4.14.2.2.1" class="pilcrow">¶</a></p>
</li>
              <li class="compact" id="section-4.1-4.14.2.3">
                <p id="section-4.1-4.14.2.3.1">0x02: 64 seconds<a href="#section-4.1-4.14.2.3.1" class="pilcrow">¶</a></p>
</li>
              <li class="compact" id="section-4.1-4.14.2.4">
                <p id="section-4.1-4.14.2.4.1">0x03: 256 seconds<a href="#section-4.1-4.14.2.4.1" class="pilcrow">¶</a></p>
</li>
            </ul>
<p id="section-4.1-4.14.3"></p>
</dd>
          <dd class="break"></dd>
<dt id="section-4.1-4.15">RankLimit</dt>
          <dd style="margin-left: 1.5em" id="section-4.1-4.16">8-bit unsigned integer specifying the upper limit on the integer
          portion of the Rank (calculated using the DAGRank() macro defined in
          <span>[<a href="#RFC6550" class="cite xref">RFC6550</a>]</span>).  A value of 0 in this field indicates the
          limit is infinity.<a href="#section-4.1-4.16" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.1-4.17">Orig SeqNo</dt>
          <dd style="margin-left: 1.5em" id="section-4.1-4.18">8-bit unsigned integer specifying the Sequence Number of
          OrigNode.  See <a href="#rreq" class="auto internal xref">Section 6.1</a>.<a href="#section-4.1-4.18" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.1-4.19">Address Vector</dt>
          <dd style="margin-left: 1.5em" id="section-4.1-4.20">A vector of IPv6 addresses representing the route that the
          RREQ-DIO has passed. It is only present when the H bit is set to 0.
          The prefix of each address is elided according to the Compr
          field.<a href="#section-4.1-4.20" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-4.1-5">TargNode can join the RREQ-Instance at a Rank whose integer portion is
 less than or equal to the RankLimit.  Any other node <span class="bcp14">MUST NOT</span> join an
 RREQ-Instance if its own Rank would be equal to or higher than the
 RankLimit.  A router <span class="bcp14">MUST</span> discard a received RREQ if the integer part
 of the advertised Rank equals or exceeds the RankLimit.<a href="#section-4.1-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="RREPmsg">
<section id="section-4.2">
        <h3 id="name-aodv-rpl-rrep-option">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-aodv-rpl-rrep-option" class="section-name selfRef">AODV-RPL RREP Option</a>
        </h3>
<p id="section-4.2-1">
 TargNode sets one of its IPv6 addresses in the DODAGID
 field of the RREP-DIO message.  The address scope of the selected
 address must encompass the domain where the route is built (e.g, not
 link-local).   Exactly one RREP option <span class="bcp14">MUST</span> be present
 in an RREP-DIO message, otherwise, the message <span class="bcp14">MUST</span> be dropped.
 TargNode supplies the following information in the RREP option:<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<span id="name-format-for-aodv-rpl-rrep-op"></span><div id="figRREP">
<figure id="figure-2">
          <div class="alignCenter art-text artwork" id="section-4.2-2.1">
<pre>
    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  Option Type  | Option Length |G|H|X| Compr | L |  RankLimit  |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Delta   |X X|                                               |
   +-+-+-+-+-+-+-+-+                                               |
   |                                                               |
   |                                                               |
   |           Address Vector (Optional, Variable Length)          |
   .                                                               .
   .                                                               .
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ . . .</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-format-for-aodv-rpl-rrep-op" class="selfRef">Format for AODV-RPL RREP Option</a>
          </figcaption></figure>
</div>
<span class="break"></span><dl class="dlNewline" id="section-4.2-3">
          <dt id="section-4.2-3.1">Option Type</dt>
          <dd style="margin-left: 1.5em" id="section-4.2-3.2">8-bit unsigned integer specifying the type of the option (0x0C).<a href="#section-4.2-3.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.2-3.3">Option Length</dt>
          <dd style="margin-left: 1.5em" id="section-4.2-3.4">8-bit unsigned integer specifying the length of the option in
          octets, excluding the Option Type and Option Length fields.  It is
          variable due to the presence of the Address Vector and the number of
          octets elided according to the Compr value.<a href="#section-4.2-3.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.2-3.5">G</dt>
          <dd style="margin-left: 1.5em" id="section-4.2-3.6">Gratuitous RREP (see <a href="#G-RREP" class="auto internal xref">Section 7</a>).<a href="#section-4.2-3.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.2-3.7">H</dt>
          <dd style="margin-left: 1.5em" id="section-4.2-3.8">The H bit in the RREP option <span class="bcp14">MUST</span> be set to be
          the same as the H bit in the RREQ option.  It requests either source
          routing (H=0) or hop-by-hop (H=1) for the downstream route.<a href="#section-4.2-3.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.2-3.9">X</dt>
          <dd style="margin-left: 1.5em" id="section-4.2-3.10">1-bit Reserved field. This field <span class="bcp14">MUST</span> be initialized to zero
          and ignored upon reception.<a href="#section-4.2-3.10" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.2-3.11">Compr</dt>
          <dd style="margin-left: 1.5em" id="section-4.2-3.12">4-bit unsigned integer. This field has the same definition as in the RREQ option.<a href="#section-4.2-3.12" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.2-3.13">L</dt>
          <dd style="margin-left: 1.5em" id="section-4.2-3.14">2-bit unsigned integer defined as in the RREQ option.  The lifetime
          of the RREP-Instance <span class="bcp14">SHOULD</span> be no greater than the
          lifetime of the RREQ-Instance to which it is paired, so that the
          memory required to store the RREP-Instance can be reclaimed when no
          longer needed.<a href="#section-4.2-3.14" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.2-3.15">RankLimit</dt>
          <dd style="margin-left: 1.5em" id="section-4.2-3.16">8-bit unsigned integer specifying the upper limit on the integer
          portion of the Rank, similarly to RankLimit in the RREQ message.  A
          value of 0 in this field indicates the limit is infinity.<a href="#section-4.2-3.16" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.2-3.17">Delta</dt>
          <dd style="margin-left: 1.5em" id="section-4.2-3.18">6-bit unsigned integer. TargNode uses the Delta field so that
          nodes receiving its RREP message can identify the RREQ-InstanceID of
          the RREQ message that triggered the transmission of the RREP (see
          <a href="#instancepairing" class="auto internal xref">Section 6.3.3</a>).<a href="#section-4.2-3.18" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.2-3.19">X X</dt>
          <dd style="margin-left: 1.5em" id="section-4.2-3.20">2-bit Reserved field. This field <span class="bcp14">MUST</span> be initialized to zero
          and ignored upon reception.<a href="#section-4.2-3.20" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.2-3.21">Address Vector</dt>
          <dd style="margin-left: 1.5em" id="section-4.2-3.22">
     Only present when the H bit is set to 0. The prefix of each address
     is elided according to the Compr field.  For an asymmetric route,
     the Address Vector represents the IPv6 addresses of the path
     through the network the RREP-DIO has passed.  In contrast, for a
     symmetric route, it is the Address Vector when the RREQ-DIO arrives
     at the TargNode, unchanged during the transmission to the OrigNode.<a href="#section-4.2-3.22" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="artop">
<section id="section-4.3">
        <h3 id="name-aodv-rpl-target-option">
<a href="#section-4.3" class="section-number selfRef">4.3. </a><a href="#name-aodv-rpl-target-option" class="section-name selfRef">AODV-RPL Target Option</a>
        </h3>
<p id="section-4.3-1"> The AODV-RPL Target (ART) option is based on the Target option
 in the core RPL specification <span>[<a href="#RFC6550" class="cite xref">RFC6550</a>]</span>.  The Flags field is replaced by
 the Destination Sequence Number of the TargNode, and the Prefix
 Length field is reduced to 7 bits so that the value is limited to
 be no greater than 127.<a href="#section-4.3-1" class="pilcrow">¶</a></p>
<p id="section-4.3-2">
 An RREQ-DIO message <span class="bcp14">MUST</span> carry at least one ART option.  An RREP-DIO
 message <span class="bcp14">MUST</span> carry exactly one ART option. Otherwise, the message
 <span class="bcp14">MUST</span> be dropped.<a href="#section-4.3-2" class="pilcrow">¶</a></p>
<p id="section-4.3-3">
 OrigNode can include multiple TargNode addresses via multiple ART
 options in the RREQ-DIO, for routes that share the same requirement on
 metrics.  This reduces the cost to building only one DODAG for
 multiple targets.<a href="#section-4.3-3" class="pilcrow">¶</a></p>
<span id="name-art-option-format-for-aodv-"></span><div id="figTarg">
<figure id="figure-3">
          <div class="alignCenter art-text artwork" id="section-4.3-4.1">
<pre>
    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  Option Type  | Option Length |  Dest SeqNo   |X|Prefix Length|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               |
   +                                                               |
   |           Target Prefix / Address (Variable Length)           |
   .                                                               .
   .                                                               .
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ . . .</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a>:
<a href="#name-art-option-format-for-aodv-" class="selfRef">ART Option Format for AODV-RPL</a>
          </figcaption></figure>
</div>
<span class="break"></span><dl class="dlNewline" id="section-4.3-5">
          <dt id="section-4.3-5.1">Option Type</dt>
          <dd style="margin-left: 1.5em" id="section-4.3-5.2">8-bit unsigned integer specifying the type of the option (0x0D).<a href="#section-4.3-5.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.3-5.3">Option Length</dt>
          <dd style="margin-left: 1.5em" id="section-4.3-5.4">8-bit unsigned integer specifying the length of the option in
          octets, excluding the Option Type and Option Length fields.<a href="#section-4.3-5.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.3-5.5">Dest SeqNo</dt>
          <dd style="margin-left: 1.5em" id="section-4.3-5.6">8-bit unsigned integer. In RREQ-DIO, if nonzero, it is the
          Sequence Number for the last route that OrigNode stored to the
          TargNode for which a route is desired.  In RREP-DIO, it is the
          Destination Sequence Number associated to the route.  Zero is used
          if there is no known information about the Sequence Number of
          TargNode and not used otherwise.<a href="#section-4.3-5.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.3-5.7">X</dt>
          <dd style="margin-left: 1.5em" id="section-4.3-5.8">1-bit Reserved field.  This field <span class="bcp14">MUST</span> be
          initialized to zero by the sender and <span class="bcp14">MUST</span> be ignored
          by the receiver.<a href="#section-4.3-5.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.3-5.9">Prefix Length</dt>
          <dd style="margin-left: 1.5em" id="section-4.3-5.10">7-bit unsigned integer.  The Prefix Length field contains the
          number of valid leading bits in the prefix. If Prefix Length is 0,
          then the value in the Target Prefix / Address field represents an
          IPv6 address, not a prefix.<a href="#section-4.3-5.10" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.3-5.11">Target Prefix / Address</dt>
          <dd style="margin-left: 1.5em" id="section-4.3-5.12">A variable-length field with an IPv6 destination address or prefix.
          The length of the Target Prefix / Address field is the least number
          of octets that can represent all of the bits of the Prefix, in other
          words, Ceil(Prefix Length/8) octets.  When Prefix Length is not equal
          to 8*Ceil(Prefix Length/8) and nonzero, the Target Prefix / Address
          field will contain some initial bits that are not part of the Target
          Prefix.  Those initial bits (if any) <span class="bcp14">MUST</span> be set to
          zero on transmission and <span class="bcp14">MUST</span> be ignored on receipt.
          If Prefix Length is zero, the Address field is 128 bits.<a href="#section-4.3-5.12" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
<div id="channel">
<section id="section-5">
      <h2 id="name-symmetric-and-asymmetric-ro">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-symmetric-and-asymmetric-ro" class="section-name selfRef">Symmetric and Asymmetric Routes</a>
      </h2>
<p id="section-5-1">
 Links are considered symmetric until indication to the contrary is
 received.  In Figures <a href="#figSymm-a" class="auto internal xref">4</a> and
 <a href="#figSymm-b" class="auto internal xref">5</a>, BR is the Border Router, O is the
 OrigNode, each R is an intermediate router, and T is the TargNode.
 In these examples, the use of BR is only for illustrative purposes;
 AODV does not depend on the use of border routers for its operation.
 If the RREQ-DIO arrives over an interface that
 is known to be symmetric and the S bit is set to 1, then it remains
 as 1, as illustrated in <a href="#figSymm-a" class="auto internal xref">Figure 4</a>.  If an
 intermediate router sends out RREQ-DIO with the S bit set to 1, then
 each link en route from the OrigNode O to this router has met
 the requirements of route discovery, and the route can be used
 symmetrically.<a href="#section-5-1" class="pilcrow">¶</a></p>
<span id="name-aodv-rpl-with-symmetric-ins"></span><div id="figSymm-a">
<figure id="figure-4">
        <div class="alignCenter art-text artwork" id="section-5-2.1">
<pre>
                               BR
                           /----+----\
                         /      |      \
                       /        |         \
                      R         R           R
                   _/  \        |          /  \
                  /     \       |         /     \
                 /       \      |        /        \
               R -------- R --- R ----- R -------- R
             /  \   &lt;--S=1--&gt;  / \    &lt;--S=1--&gt;   /  \
      &lt;--S=1--&gt;  \            /   \             /   &lt;--S=1--&gt;
        /         \          /     \          /         \
      O ---------- R ------ R------ R ----- R ----------- T
     / \                   / \             / \           / \
    /   \                 /   \           /   \         /   \
   /     \               /     \         /     \       /     \
  R ----- R ----------- R ----- R ----- R ----- R ---- R----- R

    &gt;---- RREQ-Instance (Control: O--&gt;T;  Data: T--&gt;O) -------&gt;
    &lt;---- RREP-Instance (Control: T--&gt;O;  Data: O--&gt;T) -------&lt;</pre>
</div>
<figcaption><a href="#figure-4" class="selfRef">Figure 4</a>:
<a href="#name-aodv-rpl-with-symmetric-ins" class="selfRef">AODV-RPL with Symmetric Instances</a>
        </figcaption></figure>
</div>
<p id="section-5-3">
 Upon receiving an RREQ-DIO with the S bit set to 1, a node determines
 whether the link over which it was received can be used symmetrically,
 i.e., both directions meet the requirements of data transmission.  If
 the RREQ-DIO arrives over an interface that is not known to be
 symmetric or is known to be asymmetric, the S bit is set to 0.  If
 the S bit arrives already set to be 0, then it is set to be 0 when the
 RREQ-DIO is propagated (<a href="#figSymm-b" class="auto internal xref">Figure 5</a>).  For an
 asymmetric route, there is at least one hop that doesn't satisfy the
 OF.  Based on the S bit received in RREQ-DIO, TargNode
 T determines whether or not the route is symmetric before transmitting
 the RREP-DIO message upstream towards the OrigNode O.<a href="#section-5-3" class="pilcrow">¶</a></p>
<p id="section-5-4">


 It is beyond the scope of this document to specify the criteria used
 when determining whether or not each link is symmetric.  As an
 example, intermediate routers can use local information (e.g., bit
 rate, bandwidth, number of cells used in 6TiSCH <span>[<a href="#RFC9030" class="cite xref">RFC9030</a>]</span>), a priori knowledge (e.g., link quality according
 to previous communication), or averaging techniques as appropriate
 to the application.  Other link metric information can be acquired
 before AODV-RPL operation, by executing evaluation procedures; for
 instance, test traffic can be generated between nodes of the deployed
 network.  During AODV-RPL operation, Operations, Administration, and
 Maintenance (OAM) techniques for evaluating link state (see <span>[<a href="#RFC7548" class="cite xref">RFC7548</a>]</span>, <span>[<a href="#RFC7276" class="cite xref">RFC7276</a>]</span>, and <span>[<a href="#co-ioam" class="cite xref">co-ioam</a>]</span>) <span class="bcp14">MAY</span> be used (at regular intervals
 appropriate for the LLN).  The evaluation procedures are out of scope
 for AODV-RPL.  For further information on this topic, see <span>[<a href="#Link_Asymmetry" class="cite xref">Link_Asymmetry</a>]</span>, <span>[<a href="#low-power-wireless" class="cite xref">low-power-wireless</a>]</span>, and
 <span>[<a href="#empirical-study" class="cite xref">empirical-study</a>]</span>.<a href="#section-5-4" class="pilcrow">¶</a></p>
<p id="section-5-5">
 <a href="#appendix-a" class="auto internal xref">Appendix A</a> describes an example method using the
 upstream Expected Transmission Count (ETX) and downstream Received
 Signal Strength Indicator (RSSI) to estimate whether the link is
 symmetric in terms of link quality using an averaging technique.<a href="#section-5-5" class="pilcrow">¶</a></p>
<span id="name-aodv-rpl-with-asymmetric-pa"></span><div id="figSymm-b">
<figure id="figure-5">
        <div class="alignCenter art-text artwork" id="section-5-6.1">
<pre>
                                  BR
                              /----+----\
                            /      |      \
                          /        |        \
                        R          R          R
                      / \          |        /   \
                    /     \        |       /      \
                  /         \      |      /         \
                 R --------- R --- R ---- R --------- R
               /  \   --S=1--&gt;   / \    --S=0--&gt;   /   \
         --S=1--&gt;   \           /    \            /   --S=0--&gt;
          /          \        /       \         /         \
        O ---------- R ------ R------ R ----- R ----------- T
       / \                   / \             / \           / \
      /  &lt;--S=0--           /   \           /   \         / &lt;--S=0--
     /     \               /     \         /     \       /     \
    R ----- R ----------- R ----- R ----- R ----- R ---- R----- R
                &lt;--S=0--   &lt;--S=0-- &lt;--S=0-- &lt;--S=0--    &lt;--S=0--

    &gt;---- RREQ-Instance (Control: O--&gt;T;  Data: T--&gt;O) -------&gt;
    &lt;---- RREP-Instance (Control: T--&gt;O;  Data: O--&gt;T) -------&lt;</pre>
</div>
<figcaption><a href="#figure-5" class="selfRef">Figure 5</a>:
<a href="#name-aodv-rpl-with-asymmetric-pa" class="selfRef">AODV-RPL with Asymmetric Paired Instances</a>
        </figcaption></figure>
</div>
<p id="section-5-7">
 As illustrated in <a href="#figSymm-b" class="auto internal xref">Figure 5</a>, an intermediate
 router determines the S bit value that the RREQ-DIO should carry
 using link asymmetry detection methods as discussed earlier in
 this section.  In many cases, the intermediate router has already
 made the link asymmetry decision by the time RREQ-DIO arrives.<a href="#section-5-7" class="pilcrow">¶</a></p>
<p id="section-5-8">
 See <a href="#Examples" class="auto internal xref">Appendix B</a> for examples illustrating RREQ and RREP
        transmissions in some networks with symmetric and asymmetric links.<a href="#section-5-8" class="pilcrow">¶</a></p>
</section>
</div>
<div id="aodvrplop">
<section id="section-6">
      <h2 id="name-aodv-rpl-operation">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-aodv-rpl-operation" class="section-name selfRef">AODV-RPL Operation</a>
      </h2>
<div id="rreq">
<section id="section-6.1">
        <h3 id="name-generating-rreq">
<a href="#section-6.1" class="section-number selfRef">6.1. </a><a href="#name-generating-rreq" class="section-name selfRef">Generating RREQ</a>
        </h3>
<p id="section-6.1-1">
 The route discovery process is initiated when an application
 at the OrigNode has data to be transmitted to the TargNode but does
 not have a route that satisfies the OF for the target
 of the application's data. In this case, the OrigNode builds a local
 RPL Instance and a DODAG rooted at itself. Then, it transmits a DIO
 message containing exactly one RREQ option
 (see <a href="#RREQmsg" class="auto internal xref">Section 4.1</a>) to multicast group all-AODV-RPL-nodes.
 The RREQ-DIO <span class="bcp14">MUST</span> contain at least one ART option
 (see <a href="#artop" class="auto internal xref">Section 4.3</a>), which indicates the TargNode.
 The S bit in RREQ-DIO sent out by the OrigNode is set to 1.<a href="#section-6.1-1" class="pilcrow">¶</a></p>
<p id="section-6.1-2">
 Each node maintains a Sequence Number; the operation is specified in
 <span><a href="https://rfc-editor.org/rfc/rfc6550#section-7.2" class="relref">Section 7.2</a> of [<a href="#RFC6550" class="cite xref">RFC6550</a>]</span>.
 When the OrigNode initiates a
 route discovery process, it <span class="bcp14">MUST</span> increase its own Sequence Number to
 avoid conflicts with previously established routes.  The Sequence
 Number is carried in the Orig SeqNo field of the RREQ option.<a href="#section-6.1-2" class="pilcrow">¶</a></p>
<p id="section-6.1-3"> The Target Prefix / Address in the ART option can be a unicast IPv6
 address or a prefix.  The OrigNode can initiate
 the route discovery process for multiple targets simultaneously by
 including multiple ART options. Within an RREQ-DIO, the OF for the routes to different TargNodes <span class="bcp14">MUST</span> be the same.<a href="#section-6.1-3" class="pilcrow">¶</a></p>
<p id="section-6.1-4"> OrigNode can maintain different RPL Instances to discover routes with
 different requirements to the same targets. Using the RPLInstanceID
 pairing mechanism (see <a href="#instancepairing" class="auto internal xref">Section 6.3.3</a>), route replies
 (RREP-DIOs) for different RPL Instances can be generated.<a href="#section-6.1-4" class="pilcrow">¶</a></p>
<p id="section-6.1-5"> The transmission of RREQ-DIO obeys the Trickle timer
 <span>[<a href="#RFC6206" class="cite xref">RFC6206</a>]</span>.  If the duration specified by the
 L field has elapsed, the OrigNode <span class="bcp14">MUST</span> leave
 the DODAG and stop sending RREQ-DIOs in the related RPL Instance.
 OrigNode needs to set the L field such that the DODAG will not
 prematurely timeout during data transfer with the TargNode.
 For setting this value, it has to consider factors such as
 the Trickle timer, TargNode hop distance, network size, link
 behavior, expected data usage time, and so on.<a href="#section-6.1-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="process_rreq">
<section id="section-6.2">
        <h3 id="name-receiving-and-forwarding-rr">
<a href="#section-6.2" class="section-number selfRef">6.2. </a><a href="#name-receiving-and-forwarding-rr" class="section-name selfRef">Receiving and Forwarding RREQ Messages</a>
        </h3>
<div id="rreq_step1">
<section id="section-6.2.1">
          <h4 id="name-step-1-rreq-reception-and-e">
<a href="#section-6.2.1" class="section-number selfRef">6.2.1. </a><a href="#name-step-1-rreq-reception-and-e" class="section-name selfRef">Step 1: RREQ Reception and Evaluation</a>
          </h4>
<p id="section-6.2.1-1">When a router X receives an RREQ message over a link from a
   neighbor Y, X first determines whether or not the RREQ is valid.  If
   valid, X then determines whether or not it has sufficient resources
   available to maintain the RREQ-Instance and the value of the S bit
   needed to process an eventual RREP, if the RREP were to be received.
   If not valid, then X <span class="bcp14">MUST</span> either free up sufficient resources (the
   means for this are beyond the scope of this document), or drop the
   packet and discontinue processing of the RREQ.  Otherwise, X next
   determines whether the RREQ advertises a usable route to OrigNode,
   by checking whether the link to Y can be used to transmit packets to
   OrigNode.<a href="#section-6.2.1-1" class="pilcrow">¶</a></p>
<p id="section-6.2.1-2">
     When H=0 in the incoming RREQ, the router <span class="bcp14">MUST</span> drop the
     RREQ-DIO if one of its addresses is present in the Address Vector.
     When H=1 in the incoming RREQ, the router <span class="bcp14">MUST</span> drop the RREQ
     message if the Orig SeqNo field of the RREQ is older than the SeqNo
     value that X has stored for a route to OrigNode.
     Otherwise, the router determines whether to propagate the RREQ-DIO.
     It does this by determining whether or not a route to OrigNode
     using the upstream direction of the incoming link satisfies the
     Objective Function (OF).  In order to evaluate the OF, the router
     first determines the maximum useful Rank (MaxUsefulRank).  If the
     router has previously joined the RREQ-Instance associated with
     the RREQ-DIO, then MaxUsefulRank is set to be the Rank value that
     was stored when the router processed the best previous RREQ for
     the DODAG with the given RREQ-Instance.  Otherwise, MaxUsefulRank
     is set to be RankLimit.  If OF cannot be satisfied (i.e.,
     the Rank evaluates to a value greater than MaxUsefulRank),
     the RREQ-DIO <span class="bcp14">MUST</span> be dropped, and the following steps are not
     processed.  Otherwise, the router <span class="bcp14">MUST</span> join the RREQ-Instance
     and prepare to propagate the RREQ-DIO, as follows. The upstream
     neighbor router that transmitted the received RREQ-DIO is selected
     as the preferred parent in the RREQ-Instance.<a href="#section-6.2.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="rreq_step2">
<section id="section-6.2.2">
          <h4 id="name-step-2-targnode-and-interme">
<a href="#section-6.2.2" class="section-number selfRef">6.2.2. </a><a href="#name-step-2-targnode-and-interme" class="section-name selfRef">Step 2: TargNode and Intermediate Router Determination</a>
          </h4>
<p id="section-6.2.2-1">
     After determining that a received RREQ provides a usable route
     to OrigNode, a router determines whether it is a TargNode, a possible intermediate router between OrigNode and a TargNode,
     or both.  The router is a TargNode if it finds one of its own
     addresses in a Target option in the RREQ.  After possibly
     propagating the RREQ according to the procedures in Steps 3,
     4, and 5, the TargNode generates an RREP as specified in
     <a href="#gen-rrep" class="auto internal xref">Section 6.3</a>.  If S=0, the determination of TargNode
     status and determination of a usable route to OrigNode is the same.<a href="#section-6.2.2-1" class="pilcrow">¶</a></p>
<p id="section-6.2.2-2">
     If the OrigNode tries to reach multiple TargNodes in a
     single RREQ-Instance, one of the TargNodes can be an intermediate
     router to other TargNodes.  In this case, before transmitting the
     RREQ-DIO to multicast group all-AODV-RPL-nodes, a TargNode <span class="bcp14">MUST</span>
     delete the Target option encapsulating its own address, so that
     downstream routers with higher Rank values do not try to create
     a route to this TargNode.<a href="#section-6.2.2-2" class="pilcrow">¶</a></p>
<p id="section-6.2.2-3">
     An intermediate router could receive several RREQ-DIOs from
     routers with lower Rank values in the same RREQ-Instance with
     different lists of Target options.  For the purposes of determining
     the intersection with previous incoming RREQ-DIOs, the intermediate
     router maintains a record of the targets that have been requested
     for a given RREQ-Instance.  An incoming RREQ-DIO message having
     multiple ART options coming from a router with higher Rank than
     the Rank of the stored targets is ignored.  When transmitting the
     RREQ-DIO, the intersection of all received lists <span class="bcp14">MUST</span> be included
     if it is nonempty after TargNode has deleted the Target option
     encapsulating its own address.  If the intersection is empty, it
     means that all the targets have been reached, and the router <span class="bcp14">MUST NOT</span> transmit any RREQ-DIO.  Otherwise, it proceeds to
     <a href="#rreq_step3" class="auto internal xref">Section 6.2.3</a>.<a href="#section-6.2.2-3" class="pilcrow">¶</a></p>
<p id="section-6.2.2-4">
     For example, suppose two RREQ-DIOs are received with the same
     RPL Instance and OrigNode.  Suppose further that the first
     RREQ has (T1, T2) as the targets, and the second one has (T2, T4)
     as targets. Then, only T2 needs to be included in the generated
     RREQ-DIO.<a href="#section-6.2.2-4" class="pilcrow">¶</a></p>
<p id="section-6.2.2-5">
     The reasoning for using the intersection of the lists in the
     RREQs is as follows.  When two or more RREQs are received with
            the same Orig SeqNo, they were transmitted by OrigNode with the
            same destinations and OF.  When an intermediate node receives two
            RREQs with the same Orig SeqNo but different lists of destinations,
            that means that some intermediate nodes retransmitting the RREQs
            have already deleted themselves from the list of destinations
     before they retransmitted the RREQ.  Those deleted nodes are
            not to be reinserted back into the list of destinations.<a href="#section-6.2.2-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="rreq_step3">
<section id="section-6.2.3">
          <h4 id="name-step-3-intermediate-router-">
<a href="#section-6.2.3" class="section-number selfRef">6.2.3. </a><a href="#name-step-3-intermediate-router-" class="section-name selfRef">Step 3: Intermediate Router RREQ Processing</a>
          </h4>
<p id="section-6.2.3-1">
     The intermediate router establishes itself as a viable node
     for a route to OrigNode as follows.  If the H bit is set to 1,
     for a hop-by-hop route, then the router <span class="bcp14">MUST</span> build or update
     its upward route entry towards OrigNode, which includes at least
     the following items: Source Address, RPLInstanceID, Destination
     Address, Next Hop, Lifetime, and Sequence Number.
            The Destination Address and the RPLInstanceID can be
     learned from the DODAGID and the RPLInstanceID of the RREQ-DIO, respectively.
     The Source Address is the address used by the router to
     send data to the Next Hop, i.e., the preferred parent.
     The lifetime is set according to DODAG configuration (not
     the L field) and can be extended when the route is actually used.
     The Sequence Number represents the freshness of the route entry;
     it is copied from the Orig SeqNo field of the RREQ option. A route
     entry with the same source and destination address and the same
     RPLInstanceID, but a stale Sequence Number (i.e., incoming Sequence
     Number is less than the currently stored Sequence Number of the
     route entry), <span class="bcp14">MUST</span> be deleted.<a href="#section-6.2.3-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="rreq_step4">
<section id="section-6.2.4">
          <h4 id="name-step-4-symmetric-route-proc">
<a href="#section-6.2.4" class="section-number selfRef">6.2.4. </a><a href="#name-step-4-symmetric-route-proc" class="section-name selfRef">Step 4: Symmetric Route Processing at an Intermediate Router</a>
          </h4>
<p id="section-6.2.4-1">
     If the S bit of the incoming RREQ-DIO is 0, then the route cannot
     be symmetric, and the S bit of the RREQ-DIO to be transmitted is
     set to 0.  Otherwise, the router <span class="bcp14">MUST</span> determine
     whether the downward direction (i.e., towards the TargNode) of the
     incoming link satisfies the OF.  If it does, the S bit of the
     RREQ-DIO to be transmitted is set to 1.  Otherwise, the S bit of
     the RREQ-DIO to be transmitted is set to 0.<a href="#section-6.2.4-1" class="pilcrow">¶</a></p>
<p id="section-6.2.4-2">
     When a router joins the RREQ-Instance, it also associates within
     its data structure for the RREQ-Instance the information about
     whether or not the RREQ-DIO to be transmitted has the S bit set
     to 1.  This information
     associated to RREQ-Instance is known as the S bit of the
     RREQ-Instance. It will be used later during the RREP-DIO message
     processing (see <a href="#asymmetricrrep" class="auto internal xref">Section 6.3.2</a>).<a href="#section-6.2.4-2" class="pilcrow">¶</a></p>
<p id="section-6.2.4-3">Suppose a router has joined the RREQ-Instance, the H bit is set
          to 0, and the S bit of the RREQ-Instance is set to 1.  In this case,
          the router <span class="bcp14">MAY</span> optionally include the Address Vector
          of the symmetric route back to OrigNode as part of the RREQ-Instance
          data.  This is useful if the router later receives an RREP-DIO that
          is paired with the RREQ-Instance.  If the router does NOT include
          the Address Vector, then it has to rely on multicast for the RREP.
          The multicast can impose a substantial performance penalty.<a href="#section-6.2.4-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="rreq_step5">
<section id="section-6.2.5">
          <h4 id="name-step-5-rreq-propagation-at-">
<a href="#section-6.2.5" class="section-number selfRef">6.2.5. </a><a href="#name-step-5-rreq-propagation-at-" class="section-name selfRef">Step 5: RREQ Propagation at an Intermediate Router</a>
          </h4>
<p id="section-6.2.5-1">
     If the router is an intermediate router, then it transmits the
     RREQ-DIO to the multicast group all-AODV-RPL-nodes; if the H bit is
     set to 0, the intermediate router <span class="bcp14">MUST</span> append
     the address of its interface receiving the RREQ-DIO into the
     Address Vector.  In addition, if the address of the router's
     interface transmitting the RREQ-DIO is not the same as the address
            of the interface receiving the RREQ-DIO, the router <span class="bcp14">MUST</span> also
     append the transmitting interface address into the Address Vector.<a href="#section-6.2.5-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="rreq_step6">
<section id="section-6.2.6">
          <h4 id="name-step-6-rreq-reception-at-ta">
<a href="#section-6.2.6" class="section-number selfRef">6.2.6. </a><a href="#name-step-6-rreq-reception-at-ta" class="section-name selfRef">Step 6: RREQ Reception at TargNode</a>
          </h4>
<p id="section-6.2.6-1">
     If the router is a TargNode and was already associated with the
     RREQ-Instance, it takes no further action and does not send an
     RREP-DIO.  If TargNode is not already associated with the
     RREQ-Instance, it prepares and transmits an RREP-DIO, possibly
     after waiting for RREP_WAIT_TIME, as detailed in
     (<a href="#gen-rrep" class="auto internal xref">Section 6.3</a>).<a href="#section-6.2.6-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="gen-rrep">
<section id="section-6.3">
        <h3 id="name-generating-rrep-at-targnode">
<a href="#section-6.3" class="section-number selfRef">6.3. </a><a href="#name-generating-rrep-at-targnode" class="section-name selfRef">Generating RREP at TargNode</a>
        </h3>
<p id="section-6.3-1"> When a TargNode receives an RREQ message over a link from a
        neighbor Y, TargNode first follows the procedures in <a href="#process_rreq" class="auto internal xref">Section 6.2</a>.  If the link to Y can be used to transmit
        packets to OrigNode, TargNode generates an RREP according to Sections
        <a href="#rrepsymmetric" class="auto internal xref">6.3.1</a> and <a href="#asymmetricrrep" class="auto internal xref">6.3.2</a>.  Otherwise, TargNode
        drops the RREQ and does not generate an RREP.<a href="#section-6.3-1" class="pilcrow">¶</a></p>
<p id="section-6.3-2">
     If the L field is not 0, the TargNode <span class="bcp14">MAY</span> delay transmitting the
     RREP-DIO for the duration RREP_WAIT_TIME to await a route with a lower
     Rank.  The value of RREP_WAIT_TIME is set by default to 1/4 of
     the duration determined by the L field.  For L == 0,
     RREP_WAIT_TIME is set by default to 0.  Depending upon the
     application, RREP_WAIT_TIME may be set to other values.
     Smaller values enable quicker formation for the P2P route.
     Larger values enable formation of P2P routes with better
     Rank values.<a href="#section-6.3-2" class="pilcrow">¶</a></p>
<p id="section-6.3-3">
     The address of the OrigNode <span class="bcp14">MUST</span> be
     encapsulated in the ART option and included in this RREP-DIO
     message along with the SeqNo of TargNode.<a href="#section-6.3-3" class="pilcrow">¶</a></p>
<div id="rrepsymmetric">
<section id="section-6.3.1">
          <h4 id="name-rrep-dio-for-symmetric-rout">
<a href="#section-6.3.1" class="section-number selfRef">6.3.1. </a><a href="#name-rrep-dio-for-symmetric-rout" class="section-name selfRef">RREP-DIO for Symmetric Route</a>
          </h4>
<p id="section-6.3.1-1">
     If the RREQ-Instance corresponding to the RREQ-DIO that arrived
     at TargNode has the S bit set to 1, there
     is a symmetric route, both of whose directions satisfy the
     OF. Other RREQ-DIOs might later provide better
     upward routes.  The method of selection between a
     qualified symmetric route and an asymmetric route that might have
     better performance is implementation specific and out of scope.<a href="#section-6.3.1-1" class="pilcrow">¶</a></p>
<p id="section-6.3.1-2">
     For a symmetric route, the RREP-DIO message is unicast to the Next
     Hop according to the Address Vector (H=0) or the route
     entry (H=1);  the DODAG in RREP-Instance does not need to be
     built.  The RPLInstanceID in the RREP-Instance is paired as
     defined in <a href="#instancepairing" class="auto internal xref">Section 6.3.3</a>.  If the H bit
     is set to 0, the Address Vector from the RREQ-DIO <span class="bcp14">MUST</span> be
     included in the RREP-DIO.<a href="#section-6.3.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="asymmetricrrep">
<section id="section-6.3.2">
          <h4 id="name-rrep-dio-for-asymmetric-rou">
<a href="#section-6.3.2" class="section-number selfRef">6.3.2. </a><a href="#name-rrep-dio-for-asymmetric-rou" class="section-name selfRef">RREP-DIO for Asymmetric Route</a>
          </h4>
<p id="section-6.3.2-1">
     When an RREQ-DIO arrives at a TargNode with the S bit set to 0,
     the TargNode <span class="bcp14">MUST</span> build a DODAG in the RREP-Instance
     corresponding to the RREQ-DIO rooted at itself, in order to
     provide OrigNode with a downstream route
     to the TargNode. The RREP-DIO message is transmitted to
     multicast group all-AODV-RPL-nodes.<a href="#section-6.3.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="instancepairing">
<section id="section-6.3.3">
          <h4 id="name-rplinstanceid-pairing">
<a href="#section-6.3.3" class="section-number selfRef">6.3.3. </a><a href="#name-rplinstanceid-pairing" class="section-name selfRef">RPLInstanceID Pairing</a>
          </h4>
<p id="section-6.3.3-1">
   Since the RPLInstanceID is assigned locally (i.e., there is no
   coordination between routers in the assignment of RPLInstanceID), the
   tuple (OrigNode, TargNode, RPLInstanceID) is needed to uniquely
   identify a discovered route. It is possible that multiple route
   discoveries with dissimilar OFs
   are initiated simultaneously. Thus, between the same pair of OrigNode
   and TargNode, there can be multiple AODV-RPL route discovery
   instances.  So that OrigNode and TargNode can avoid any mismatch,
   they <span class="bcp14">MUST</span> pair the RREQ-Instance and the RREP-Instance in the same
   route discovery by using the RPLInstanceID.<a href="#section-6.3.3-1" class="pilcrow">¶</a></p>
<p id="section-6.3.3-2">
   When preparing the RREP-DIO, a TargNode could find the RPLInstanceID
   candidate for the RREP-Instance is already occupied by another RPL
   Instance from an earlier route discovery operation that is still
   active.  This unlikely case might happen if two distinct OrigNodes
   need routes to the same TargNode, and they happen to use the same
   RPLInstanceID for RREQ-Instance. In such cases, the
   RPLInstanceID of an already active RREP-Instance <span class="bcp14">MUST NOT</span> be used
   again for assigning RPLInstanceID for the later RREP-Instance.
   If the same RPLInstanceID were reused for two
   distinct DODAGs originated with the same DODAGID (TargNode address),
   intermediate routers could not distinguish between these
   DODAGs (and their associated OFs). Instead, the
   RPLInstanceID <span class="bcp14">MUST</span> be replaced by another value so that the two
   RREP-Instances can be distinguished.  In the RREP-DIO option, the
   Delta field of the RREP-DIO message (<a href="#figRREP" class="auto internal xref">Figure 2</a>)
   indicates the value that TargNode adds to the
   RPLInstanceID in the RREQ-DIO that it received, to obtain the value
   of the RPLInstanceID it uses in the RREP-DIO message.
   0 indicates that the RREQ-InstanceID has the same value as
          the RPLInstanceID of the RREP message.
   When the new RPLInstanceID after incrementation exceeds 255, it
   rolls over starting at 0. For example, if the RREQ-InstanceID
   is 252 and incremented by 6, the new RPLInstanceID will be 2.
   Related operations can be found in <a href="#forwardRREP" class="auto internal xref">Section 6.4</a>.
   RPLInstanceID collisions do not occur across RREQ-DIOs; the
   DODAGID equals the OrigNode address and is sufficient to
   disambiguate between DODAGs.<a href="#section-6.3.3-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="forwardRREP">
<section id="section-6.4">
        <h3 id="name-receiving-and-forwarding-rre">
<a href="#section-6.4" class="section-number selfRef">6.4. </a><a href="#name-receiving-and-forwarding-rre" class="section-name selfRef">Receiving and Forwarding RREP</a>
        </h3>
<p id="section-6.4-1"> Upon receiving an RREP-DIO, a router that already belongs to the
     RREP-Instance <span class="bcp14">SHOULD</span> drop the RREP-DIO.  Otherwise, the router
      performs the steps in the following subsections.<a href="#section-6.4-1" class="pilcrow">¶</a></p>
<div id="rrep_step1">
<section id="section-6.4.1">
          <h4 id="name-step-1-receiving-and-evalua">
<a href="#section-6.4.1" class="section-number selfRef">6.4.1. </a><a href="#name-step-1-receiving-and-evalua" class="section-name selfRef">Step 1: Receiving and Evaluation</a>
          </h4>
<p id="section-6.4.1-1">
     If the OF is not satisfied, the router <span class="bcp14">MUST NOT</span>
     join the DODAG; the router <span class="bcp14">MUST</span> discard the RREP-DIO and does not
     execute the remaining steps in this section.  An intermediate
     router <span class="bcp14">MUST</span> discard an RREP if one of its addresses is present
     in the Address Vector and does not execute the remaining steps in
     this section.<a href="#section-6.4.1-1" class="pilcrow">¶</a></p>
<p id="section-6.4.1-2">
     If the S bit of the associated RREQ-Instance is set to 1,
     the router <span class="bcp14">MUST</span> proceed to <a href="#rrep_step2" class="auto internal xref">Section 6.4.2</a>.<a href="#section-6.4.1-2" class="pilcrow">¶</a></p>
<p id="section-6.4.1-3"> If the S bit of the RREQ-Instance is set to 0, the router <span class="bcp14">MUST</span>
          determine whether the downward direction of the link (towards the
          TargNode) over which the RREP-DIO is received satisfies the
          OF and whether the router's Rank would not exceed
          the RankLimit.  If these are true, the router joins the DODAG of the
          RREP-Instance.  The router that transmitted the received RREP-DIO is
          selected as the preferred parent.  Afterwards, other RREP-DIO
          messages can be received; AODV-RPL does not specify any action to be
          taken in such cases.<a href="#section-6.4.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="rrep_step2">
<section id="section-6.4.2">
          <h4 id="name-step-2-orignode-or-intermed">
<a href="#section-6.4.2" class="section-number selfRef">6.4.2. </a><a href="#name-step-2-orignode-or-intermed" class="section-name selfRef">Step 2: OrigNode or Intermediate Router</a>
          </h4>
<p id="section-6.4.2-1">The router updates its stored value of the TargNode's Sequence
   Number according to the value provided in the ART option.  The router next
   checks if one of its addresses is included in the ART option.  If it is
   included, this router is the OrigNode of the route discovery. Otherwise, it is
   an intermediate router.<a href="#section-6.4.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="rrep_step3">
<section id="section-6.4.3">
          <h4 id="name-step-3-build-route-to-targn">
<a href="#section-6.4.3" class="section-number selfRef">6.4.3. </a><a href="#name-step-3-build-route-to-targn" class="section-name selfRef">Step 3: Build Route to TargNode</a>
          </h4>
<p id="section-6.4.3-1">
     If the H bit is set to 1, then the router (OrigNode or
     intermediate) <span class="bcp14">MUST</span> build a downward route entry towards TargNode
     that includes at least the following items: OrigNode Address,
     RPLInstanceID, TargNode Address as destination, Next Hop, Lifetime,
     and Sequence Number.  For a symmetric route, the Next Hop in the
     route entry is the router from which the RREP-DIO is received.  For
     an asymmetric route, the Next Hop is the preferred parent in the
     DODAG of RREP-Instance.  The RPLInstanceID in the route entry <span class="bcp14">MUST</span>
     be the RREQ-InstanceID (i.e., after subtracting the Delta field
     value from the value of the RPLInstanceID).  The source address is
     learned from the ART option, and
     the destination address is learned from the DODAGID.  The lifetime
     is set according to DODAG configuration (i.e., not the L field)
     and can be extended when the route is actually used. The Sequence
     Number represents the freshness of the route entry and is copied
     from the Dest SeqNo field of the ART option of the RREP-DIO.
     A route entry with the same source and destination address and the same
     RPLInstanceID, but a stale Sequence Number, <span class="bcp14">MUST</span> be deleted.<a href="#section-6.4.3-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="rrep_step4">
<section id="section-6.4.4">
          <h4 id="name-step-4-rrep-propagation">
<a href="#section-6.4.4" class="section-number selfRef">6.4.4. </a><a href="#name-step-4-rrep-propagation" class="section-name selfRef">Step 4: RREP Propagation</a>
          </h4>
<p id="section-6.4.4-1">
     If the receiver is the OrigNode, it can start transmitting the
     application data to TargNode along the path as provided in
     RREP-Instance, and processing for the RREP-DIO is
     complete. Otherwise, the RREP will be propagated towards OrigNode.
     If H=0, the intermediate router <span class="bcp14">MUST</span> include the
     address of the interface receiving the RREP-DIO into the Address
    Vector.  If H=1, according to the previous step, the intermediate
     router has set up a route entry for TargNode. If the intermediate
     router has a route to OrigNode, it uses that route to unicast the
     RREP-DIO to OrigNode.  Otherwise, in the case of a symmetric route,
     the RREP-DIO message is unicast to the Next Hop according to the
     Address Vector in the RREP-DIO (H=0) or the local route entry
     (H=1).  Otherwise, in the case of an asymmetric route, the
     intermediate router transmits the RREP-DIO to multicast group
     all-AODV-RPL-nodes.  The RPLInstanceID in the transmitted RREP-DIO
     is the same as the value in the received RREP-DIO.<a href="#section-6.4.4-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="G-RREP">
<section id="section-7">
      <h2 id="name-gratuitous-rrep">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-gratuitous-rrep" class="section-name selfRef">Gratuitous RREP</a>
      </h2>
<p id="section-7-1">
 In some cases, an intermediate router that receives an RREQ-DIO message
 <span class="bcp14">MAY</span> unicast a Gratuitous RREP-DIO (G-RREP-DIO) message back to OrigNode before
 continuing the transmission of the RREQ-DIO towards TargNode.  The Gratuitous RREP
 (G-RREP) allows the OrigNode to start transmitting
 data to TargNode sooner.  The G bit of the RREP option is provided to
 distinguish the G-RREP-DIO (G=1) sent by the intermediate
 router from the RREP-DIO sent by TargNode (G=0).<a href="#section-7-1" class="pilcrow">¶</a></p>
<p id="section-7-2">
 The G-RREP-DIO <span class="bcp14">MAY</span> be sent out when the intermediate router
 receives an RREQ-DIO for a TargNode and the router has a pair of
 downward and upward routes to the TargNode that also satisfy the
 OF and for which the Destination Sequence Number is
 at least as large as the Sequence Number in the RREQ-DIO message.
 After unicasting the G-RREP to the OrigNode, the intermediate
 router then unicasts the RREQ towards TargNode, so that TargNode will
 have the advertised route towards OrigNode along with the
 RREQ-InstanceID for the RREQ-Instance.  An upstream intermediate
 router that receives such a G-RREP <span class="bcp14">MUST</span> also generate a G-RREP and
        send it further upstream towards OrigNode.<a href="#section-7-2" class="pilcrow">¶</a></p>
<p id="section-7-3">
 In case of source routing, the intermediate router <span class="bcp14">MUST</span> include the
 Address Vector between the OrigNode and itself in the
 G-RREP.  It also includes the Address Vector in the unicast
 RREQ-DIO towards TargNode.  Upon reception of the unicast RREQ-DIO,
 the TargNode will have a
 route Address Vector from itself to the OrigNode. Then, the
 router <span class="bcp14">MUST</span> include the Address Vector from the TargNode to the
 router itself in the G-RREP-DIO to be transmitted.<a href="#section-7-3" class="pilcrow">¶</a></p>
<p id="section-7-4">
 For establishing hop-by-hop routes, the intermediate router <span class="bcp14">MUST</span>
 unicast the received RREQ-DIO to the Next Hop on the route. The Next
 Hop router along the route <span class="bcp14">MUST</span> build new route entries with the related
 RPLInstanceID and DODAGID in the downward direction. This process
 repeats at each node until the RREQ-DIO arrives at the TargNode.
 Then, the TargNode and each router along the path towards OrigNode
 <span class="bcp14">MUST</span> unicast the RREP-DIO hop-by-hop towards OrigNode
 as specified in <a href="#gen-rrep" class="auto internal xref">Section 6.3</a>.<a href="#section-7-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="trickle">
<section id="section-8">
      <h2 id="name-operation-of-trickle-timer">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-operation-of-trickle-timer" class="section-name selfRef">Operation of Trickle Timer</a>
      </h2>
<p id="section-8-1">
 RREQ-Instance/RREP-Instance multicast uses Trickle timer operations
 <span>[<a href="#RFC6206" class="cite xref">RFC6206</a>]</span> to control RREQ-DIO and
 RREP-DIO transmissions.  The Trickle control of these DIO transmissions
 follows the procedures described in 
 <span><a href="https://rfc-editor.org/rfc/rfc6550#section-8.3" class="relref">Section 8.3</a> of [<a href="#RFC6550" class="cite xref">RFC6550</a>]</span> entitled "DIO Transmission".  If the route is
 symmetric, the RREP-DIO does not need the Trickle timer mechanism.<a href="#section-8-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="iana">
<section id="section-9">
      <h2 id="name-iana-considerations">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-9-1">
AODV-RPL uses the "P2P Route Discovery Mode of Operation" (MOP == 4), with new
options as specified in this document. This document has been added as an
additional reference for "P2P Route Discovery Mode of Operation" in the "Mode
of Operation" registry within the "Routing Protocol for Low Power and Lossy
Networks (RPL)" registry group.<a href="#section-9-1" class="pilcrow">¶</a></p>
<p id="section-9-2">
 IANA has assigned the three new AODV-RPL options described in <a href="#ianaOpts" class="auto internal xref">Table 1</a> in the "RPL Control Message Options" registry
 within the "Routing Protocol for Low Power and Lossy Networks (RPL)"
 registry group.<a href="#section-9-2" class="pilcrow">¶</a></p>
<span id="name-aodv-rpl-options"></span><div id="ianaOpts">
<table class="center" id="table-1">
        <caption>
<a href="#table-1" class="selfRef">Table 1</a>:
<a href="#name-aodv-rpl-options" class="selfRef">AODV-RPL Options</a>
        </caption>
<thead>
          <tr>
            <th class="text-left" rowspan="1" colspan="1">Value</th>
            <th class="text-left" rowspan="1" colspan="1">Meaning</th>
            <th class="text-left" rowspan="1" colspan="1">Reference</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">0x0B</td>
            <td class="text-left" rowspan="1" colspan="1">RREQ</td>
            <td class="text-left" rowspan="1" colspan="1">RFC 9854</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">0x0C</td>
            <td class="text-left" rowspan="1" colspan="1">RREP</td>
            <td class="text-left" rowspan="1" colspan="1">RFC 9854</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">0x0D</td>
            <td class="text-left" rowspan="1" colspan="1">ART</td>
            <td class="text-left" rowspan="1" colspan="1">RFC 9854</td>
          </tr>
        </tbody>
      </table>
</div>
<p id="section-9-4"> 
        IANA has allocated the permanent multicast address with
        link-local scope in <a href="#ianaMultiAddress" class="auto internal xref">Table 2</a> for nodes implementing
        this specification. This allocation has been made in the "Local Network Control Block
        (224.0.0.0 - 224.0.0.255 (224.0.0/24))" registry within the
        "IPv4 Multicast Address Space Registry" registry group.<a href="#section-9-4" class="pilcrow">¶</a></p>
<span id="name-permanent-multicast-address"></span><div id="ianaMultiAddress">
<table class="center" id="table-2">
        <caption>
<a href="#table-2" class="selfRef">Table 2</a>:
<a href="#name-permanent-multicast-address" class="selfRef">Permanent Multicast Address with Link-Local Scope</a>
        </caption>
<thead>
          <tr>
            <th class="text-left" rowspan="1" colspan="1">Address(es)</th>
            <th class="text-left" rowspan="1" colspan="1">Description</th>
            <th class="text-left" rowspan="1" colspan="1">References</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">224.0.0.69</td>
            <td class="text-left" rowspan="1" colspan="1">all-AODV-RPL-nodes</td>
            <td class="text-left" rowspan="1" colspan="1">RFC 9854</td>
          </tr>
        </tbody>
      </table>
</div>
</section>
</div>
<div id="sec">
<section id="section-10">
      <h2 id="name-security-considerations">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-10-1">The security considerations for the operation of AODV-RPL are similar
      to those for the operation of RPL (as described in Section <a href="https://rfc-editor.org/rfc/rfc6550#section-19" class="relref">19</a> of the RPL
      specification <span>[<a href="#RFC6550" class="cite xref">RFC6550</a>]</span>).  Sections <a href="https://rfc-editor.org/rfc/rfc6550#section-6.1" class="relref">6.1</a> and <a href="https://rfc-editor.org/rfc/rfc6550#section-10" class="relref">10</a> of <span>[<a href="#RFC6550" class="cite xref">RFC6550</a>]</span> describe RPL's optional security framework, which
      AODV-RPL relies on to provide data confidentiality, authentication,
      replay protection, and delay protection services.  Additional analysis
      for the security threats to RPL can be found in <span>[<a href="#RFC7416" class="cite xref">RFC7416</a>]</span>.<a href="#section-10-1" class="pilcrow">¶</a></p>
<p id="section-10-2">A router can join a temporary DAG created for a secure AODV-RPL route
      discovery only if it can support the security configuration in use (see
      <span><a href="https://rfc-editor.org/rfc/rfc6550#section-6.1" class="relref">Section 6.1</a> of [<a href="#RFC6550" class="cite xref">RFC6550</a>]</span>), which also
      specifies the key in use.  It does not matter whether the key is
      preinstalled or dynamically acquired.  The router must have the key in
      use before it can join the DAG being created for secure route
      discovery.<a href="#section-10-2" class="pilcrow">¶</a></p>
<p id="section-10-3">If a rogue router knows the key for the security configuration in
      use, it can join the secure AODV-RPL route discovery and cause various
      types of damage.  Such a rogue router could advertise false information
      in its DIOs in order to include itself in the discovered route(s).  It
      could generate bogus RREQ-DIO and RREP-DIO messages carrying bad
      routes or maliciously modify genuine RREP-DIO messages it receives.  A
      rogue router acting as the OrigNode could launch denial-of-service
      attacks against the LLN deployment by initiating fake AODV-RPL route
      discoveries.  When rogue routers might be present, RPL's preinstalled
      mode of operation, where the key to use for route discovery is
      preinstalled, <span class="bcp14">SHOULD</span> be used.<a href="#section-10-3" class="pilcrow">¶</a></p>
<p id="section-10-4">
    When an RREQ-DIO message uses the source routing option by setting the H
    bit to 0, a rogue router may populate the Address Vector field with a set
    of addresses that may result in the RREP-DIO traveling in a routing loop.<a href="#section-10-4" class="pilcrow">¶</a></p>
<p id="section-10-5">
 If a rogue router is able to forge a G-RREP,
 it could mount denial-of-service attacks.<a href="#section-10-5" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-11">
      <h2 id="name-references">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-11.1">
        <h3 id="name-normative-references">
<a href="#section-11.1" class="section-number selfRef">11.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6206">[RFC6206]</dt>
        <dd>
<span class="refAuthor">Levis, P.</span>, <span class="refAuthor">Clausen, T.</span>, <span class="refAuthor">Hui, J.</span>, <span class="refAuthor">Gnawali, O.</span>, and <span class="refAuthor">J. Ko</span>, <span class="refTitle">"The Trickle Algorithm"</span>, <span class="seriesInfo">RFC 6206</span>, <span class="seriesInfo">DOI 10.17487/RFC6206</span>, <time datetime="2011-03" class="refDate">March 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6206">https://www.rfc-editor.org/info/rfc6206</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6550">[RFC6550]</dt>
        <dd>
<span class="refAuthor">Winter, T., Ed.</span>, <span class="refAuthor">Thubert, P., Ed.</span>, <span class="refAuthor">Brandt, A.</span>, <span class="refAuthor">Hui, J.</span>, <span class="refAuthor">Kelsey, R.</span>, <span class="refAuthor">Levis, P.</span>, <span class="refAuthor">Pister, K.</span>, <span class="refAuthor">Struik, R.</span>, <span class="refAuthor">Vasseur, JP.</span>, and <span class="refAuthor">R. Alexander</span>, <span class="refTitle">"RPL: IPv6 Routing Protocol for Low-Power and Lossy Networks"</span>, <span class="seriesInfo">RFC 6550</span>, <span class="seriesInfo">DOI 10.17487/RFC6550</span>, <time datetime="2012-03" class="refDate">March 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6550">https://www.rfc-editor.org/info/rfc6550</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6551">[RFC6551]</dt>
        <dd>
<span class="refAuthor">Vasseur, JP., Ed.</span>, <span class="refAuthor">Kim, M., Ed.</span>, <span class="refAuthor">Pister, K.</span>, <span class="refAuthor">Dejean, N.</span>, and <span class="refAuthor">D. Barthel</span>, <span class="refTitle">"Routing Metrics Used for Path Calculation in Low-Power and Lossy Networks"</span>, <span class="seriesInfo">RFC 6551</span>, <span class="seriesInfo">DOI 10.17487/RFC6551</span>, <time datetime="2012-03" class="refDate">March 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6551">https://www.rfc-editor.org/info/rfc6551</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
      <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-11.2">
        <h3 id="name-informative-references">
<a href="#section-11.2" class="section-number selfRef">11.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="aodv-tot">[aodv-tot]</dt>
        <dd>
<span class="refAuthor">Perkins, C.E.</span> and <span class="refAuthor">E.M. Royer</span>, <span class="refTitle">"Ad-hoc On-demand Distance Vector Routing"</span>, <span class="refContent">Proceedings WMCSA'99. Second IEEE Workshop on Mobile Computing Systems and Applications, pp. 90-100</span>, <span class="seriesInfo">DOI 10.1109/MCSA.1999.749281</span>, <time datetime="1999-02" class="refDate">February 1999</time>, <span>&lt;<a href="https://ieeexplore.ieee.org/document/749281">https://ieeexplore.ieee.org/document/749281</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="co-ioam">[co-ioam]</dt>
        <dd>
<span class="refAuthor">Ballamajalu, R.</span>, <span class="refAuthor">Anand, S.V.R.</span>, and <span class="refAuthor">M. Hegde</span>, <span class="refTitle">"Co-iOAM: In-situ Telemetry Metadata Transport for Resource Constrained Networks within IETF Standards Framework"</span>, <span class="refContent">2018 10th International Conference on Communication Systems &amp; Networks (COMSNETS), pp. 573-576</span>, <span class="seriesInfo">DOI 10.1109/COMSNETS.2018.8328276</span>, <time datetime="2018-01" class="refDate">January 2018</time>, <span>&lt;<a href="https://ieeexplore.ieee.org/document/8328276">https://ieeexplore.ieee.org/document/8328276</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="contiki">[contiki]</dt>
        <dd>
<span class="refTitle">"The Contiki Open Source OS for the Internet of Things (Contiki Version 2.7)"</span>, <span class="refContent">commit 7635906</span>, <time datetime="2013-11" class="refDate">November 2013</time>, <span>&lt;<a href="https://github.com/contiki-os/contiki">https://github.com/contiki-os/contiki</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Contiki-ng">[Contiki-ng]</dt>
        <dd>
<span class="refTitle">"Contiki-NG: The OS for Next Generation IoT Devices (Contiki-NG Version 4.6)"</span>, <span class="refContent">commit 3b0bc6a</span>, <time datetime="2020-12" class="refDate">December 2020</time>, <span>&lt;<a href="https://github.com/contiki-ng/contiki-ng">https://github.com/contiki-ng/contiki-ng</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="cooja">[cooja]</dt>
        <dd>
<span class="refTitle">"Cooja Simulator for Wireless Sensor Networks (Contiki/Cooja Version 2.7)"</span>, <span class="refContent">commit 7635906</span>, <time datetime="2013-11" class="refDate">November 2013</time>, <span>&lt;<a href="https://github.com/contiki-os/contiki/tree/master/tools/cooja">https://github.com/contiki-os/contiki/tree/master/tools/cooja</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="empirical-study">[empirical-study]</dt>
        <dd>
<span class="refAuthor">Misra, P.</span>, <span class="refAuthor">Ahmed, N.</span>, and <span class="refAuthor">S. Jha</span>, <span class="refTitle">"An empirical study of asymmetry in low-power wireless links"</span>, <span class="refContent">IEEE Communications Magazine, vol. 50, no. 7, pp. 137-146</span>, <span class="seriesInfo">DOI 10.1109/MCOM.2012.6231290</span>, <time datetime="2012-07" class="refDate">July 2012</time>, <span>&lt;<a href="https://ieeexplore.ieee.org/document/6231290">https://ieeexplore.ieee.org/document/6231290</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Link_Asymmetry">[Link_Asymmetry]</dt>
        <dd>
<span class="refAuthor">Sang, L.</span>, <span class="refAuthor">Arora, A.</span>, and <span class="refAuthor">H. Zhang</span>, <span class="refTitle">"On Link Asymmetry and One-way Estimation in Wireless Sensor Networks"</span>, <span class="refContent">ACM Transactions on Sensor Networks, vol. 6, no. 2, pp. 1-25</span>, <span class="seriesInfo">DOI 10.1145/1689239.1689242</span>, <time datetime="2010-03" class="refDate">March 2010</time>, <span>&lt;<a href="https://doi.org/10.1145/1689239.1689242">https://doi.org/10.1145/1689239.1689242</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="low-power-wireless">[low-power-wireless]</dt>
        <dd>
<span class="refAuthor">Srinivasan, K.</span>, <span class="refAuthor">Dutta, P.</span>, <span class="refAuthor">Tavakoli, A.</span>, and <span class="refAuthor">P. Levis</span>, <span class="refTitle">"An empirical study of low-power wireless"</span>, <span class="refContent">ACM Transactions on Sensor Networks, vol. 6, no. 2, pp. 1-49</span>, <span class="seriesInfo">DOI 10.1145/1689239.1689246</span>, <time datetime="2010-03" class="refDate">March 2010</time>, <span>&lt;<a href="https://doi.org/10.1145/1689239.1689246">https://doi.org/10.1145/1689239.1689246</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3561">[RFC3561]</dt>
        <dd>
<span class="refAuthor">Perkins, C.</span>, <span class="refAuthor">Belding-Royer, E.</span>, and <span class="refAuthor">S. Das</span>, <span class="refTitle">"Ad hoc On-Demand Distance Vector (AODV) Routing"</span>, <span class="seriesInfo">RFC 3561</span>, <span class="seriesInfo">DOI 10.17487/RFC3561</span>, <time datetime="2003-07" class="refDate">July 2003</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3561">https://www.rfc-editor.org/info/rfc3561</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6687">[RFC6687]</dt>
        <dd>
<span class="refAuthor">Tripathi, J., Ed.</span>, <span class="refAuthor">de Oliveira, J., Ed.</span>, and <span class="refAuthor">JP. Vasseur, Ed.</span>, <span class="refTitle">"Performance Evaluation of the Routing Protocol for Low-Power and Lossy Networks (RPL)"</span>, <span class="seriesInfo">RFC 6687</span>, <span class="seriesInfo">DOI 10.17487/RFC6687</span>, <time datetime="2012-10" class="refDate">October 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6687">https://www.rfc-editor.org/info/rfc6687</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6997">[RFC6997]</dt>
        <dd>
<span class="refAuthor">Goyal, M., Ed.</span>, <span class="refAuthor">Baccelli, E.</span>, <span class="refAuthor">Philipp, M.</span>, <span class="refAuthor">Brandt, A.</span>, and <span class="refAuthor">J. Martocci</span>, <span class="refTitle">"Reactive Discovery of Point-to-Point Routes in Low-Power and Lossy Networks"</span>, <span class="seriesInfo">RFC 6997</span>, <span class="seriesInfo">DOI 10.17487/RFC6997</span>, <time datetime="2013-08" class="refDate">August 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6997">https://www.rfc-editor.org/info/rfc6997</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6998">[RFC6998]</dt>
        <dd>
<span class="refAuthor">Goyal, M., Ed.</span>, <span class="refAuthor">Baccelli, E.</span>, <span class="refAuthor">Brandt, A.</span>, and <span class="refAuthor">J. Martocci</span>, <span class="refTitle">"A Mechanism to Measure the Routing Metrics along a Point-to-Point Route in a Low-Power and Lossy Network"</span>, <span class="seriesInfo">RFC 6998</span>, <span class="seriesInfo">DOI 10.17487/RFC6998</span>, <time datetime="2013-08" class="refDate">August 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6998">https://www.rfc-editor.org/info/rfc6998</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7276">[RFC7276]</dt>
        <dd>
<span class="refAuthor">Mizrahi, T.</span>, <span class="refAuthor">Sprecher, N.</span>, <span class="refAuthor">Bellagamba, E.</span>, and <span class="refAuthor">Y. Weingarten</span>, <span class="refTitle">"An Overview of Operations, Administration, and Maintenance (OAM) Tools"</span>, <span class="seriesInfo">RFC 7276</span>, <span class="seriesInfo">DOI 10.17487/RFC7276</span>, <time datetime="2014-06" class="refDate">June 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7276">https://www.rfc-editor.org/info/rfc7276</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7416">[RFC7416]</dt>
        <dd>
<span class="refAuthor">Tsao, T.</span>, <span class="refAuthor">Alexander, R.</span>, <span class="refAuthor">Dohler, M.</span>, <span class="refAuthor">Daza, V.</span>, <span class="refAuthor">Lozano, A.</span>, and <span class="refAuthor">M. Richardson, Ed.</span>, <span class="refTitle">"A Security Threat Analysis for the Routing Protocol for Low-Power and Lossy Networks (RPLs)"</span>, <span class="seriesInfo">RFC 7416</span>, <span class="seriesInfo">DOI 10.17487/RFC7416</span>, <time datetime="2015-01" class="refDate">January 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7416">https://www.rfc-editor.org/info/rfc7416</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7548">[RFC7548]</dt>
        <dd>
<span class="refAuthor">Ersue, M., Ed.</span>, <span class="refAuthor">Romascanu, D.</span>, <span class="refAuthor">Schoenwaelder, J.</span>, and <span class="refAuthor">A. Sehgal</span>, <span class="refTitle">"Management of Networks with Constrained Devices: Use Cases"</span>, <span class="seriesInfo">RFC 7548</span>, <span class="seriesInfo">DOI 10.17487/RFC7548</span>, <time datetime="2015-05" class="refDate">May 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7548">https://www.rfc-editor.org/info/rfc7548</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9010">[RFC9010]</dt>
        <dd>
<span class="refAuthor">Thubert, P., Ed.</span> and <span class="refAuthor">M. Richardson</span>, <span class="refTitle">"Routing for RPL (Routing Protocol for Low-Power and Lossy Networks) Leaves"</span>, <span class="seriesInfo">RFC 9010</span>, <span class="seriesInfo">DOI 10.17487/RFC9010</span>, <time datetime="2021-04" class="refDate">April 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9010">https://www.rfc-editor.org/info/rfc9010</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9030">[RFC9030]</dt>
      <dd>
<span class="refAuthor">Thubert, P., Ed.</span>, <span class="refTitle">"An Architecture for IPv6 over the Time-Slotted Channel Hopping Mode of IEEE 802.15.4 (6TiSCH)"</span>, <span class="seriesInfo">RFC 9030</span>, <span class="seriesInfo">DOI 10.17487/RFC9030</span>, <time datetime="2021-05" class="refDate">May 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9030">https://www.rfc-editor.org/info/rfc9030</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="appendix-a">
<section id="appendix-A">
      <h2 id="name-example-using-etx-rssi-valu">
<a href="#appendix-A" class="section-number selfRef">Appendix A. </a><a href="#name-example-using-etx-rssi-valu" class="section-name selfRef">Example: Using ETX/RSSI Values to Determine Value of S Bit</a>
      </h2>
<p id="appendix-A-1">The combination of the downstream Received Signal Strength Indicator
      (RSSI) and the upstream Expected Transmission Count (ETX) has been
      tested to determine whether a link is symmetric or asymmetric at
      intermediate routers. We present two methods to obtain an ETX value from
      RSSI measurement.<a href="#appendix-A-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="appendix-A-2">
        <dt id="appendix-A-2.1">Method 1:</dt>
        <dd style="margin-left: 1.5em" id="appendix-A-2.2">
          <p id="appendix-A-2.2.1">
     In the first method, we constructed a table measuring RSSI versus
     ETX using the Cooja simulation <span>[<a href="#cooja" class="cite xref">cooja</a>]</span> setup in the
     Contiki OS environment <span>[<a href="#contiki" class="cite xref">contiki</a>]</span>. We used
     Contiki-2.7 running the 6LoWPAN/RPL protocol stack for the
     simulations.  For approximating the number of packet drops based
     on the RSSI values, we implemented simple logic that drops
     transmitted packets with certain predefined ratios before handing
     over the packets to the receiver. The packet drop ratio is
     implemented as a table lookup of RSSI ranges mapping to different
     packet drop ratios with lower RSSI ranges resulting in higher
     values. While this table has been defined for the purpose of
     capturing the overall link behavior, in general, it is highly
     recommended to conduct physical radio measurement experiments.  By
     keeping the receiving node at different distances, we let the
     packets experience different packet drops as per the described
     method. The ETX value computation is done by another module that
     is part of RPL OF implementation.  Since the ETX
     value is reflective of the extent of packet drops, it allowed us
     to prepare a useful table correlating ETX and RSSI values (see
     <a href="#table_ETX_RSSI" class="auto internal xref">Table 3</a>).  ETX and RSSI values obtained in this way may be used as
     explained below:<a href="#appendix-A-2.2.1" class="pilcrow">¶</a></p>
<span id="name-communication-link-from-sou"></span><div id="commlink">
<figure id="figure-6">
            <div class="alignLeft art-text artwork" id="appendix-A-2.2.2.1">
<pre>
Source -------&gt; NodeA -------&gt; NodeB -----&gt; Destination</pre>
</div>
<figcaption><a href="#figure-6" class="selfRef">Figure 6</a>:
<a href="#name-communication-link-from-sou" class="selfRef">Communication Link from Source to Destination</a>
            </figcaption></figure>
</div>
<span id="name-selection-of-s-bit-based-on"></span><div id="table_ETX_RSSI">
<table class="center" id="table-3">
            <caption>
<a href="#table-3" class="selfRef">Table 3</a>:
<a href="#name-selection-of-s-bit-based-on" class="selfRef">Selection of S Bit Based on Expected ETX Value</a>
            </caption>
<thead>
              <tr>
                <th class="text-center" rowspan="1" colspan="1">RSSI at NodeA for NodeB</th>
                <th class="text-center" rowspan="1" colspan="1">Expected ETX at NodeA for NodeB-&gt;NodeA</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-center" rowspan="1" colspan="1">&gt; -60</td>
                <td class="text-center" rowspan="1" colspan="1">150</td>
              </tr>
              <tr>
                <td class="text-center" rowspan="1" colspan="1">-70 to -60</td>
                <td class="text-center" rowspan="1" colspan="1">192</td>
              </tr>
              <tr>
                <td class="text-center" rowspan="1" colspan="1">-80 to -70</td>
                <td class="text-center" rowspan="1" colspan="1">226</td>
              </tr>
              <tr>
                <td class="text-center" rowspan="1" colspan="1">-90 to -80</td>
                <td class="text-center" rowspan="1" colspan="1">662</td>
              </tr>
              <tr>
                <td class="text-center" rowspan="1" colspan="1">-100 to -90</td>
                <td class="text-center" rowspan="1" colspan="1">3840</td>
              </tr>
            </tbody>
          </table>
</div>
</dd>
        <dd class="break"></dd>
<dt id="appendix-A-2.3">Method 2:</dt>
        <dd style="margin-left: 1.5em" id="appendix-A-2.4">One could also make use of the function
     guess_etx_from_rssi() defined in the 6LoWPAN/RPL protocol stack
            of Contiki-ng OS <span>[<a href="#Contiki-ng" class="cite xref">Contiki-ng</a>]</span> to obtain RSSI-ETX
     mapping. This function outputs an ETX value ranging between 128
     and 3840 for -60 &lt;= rssi &lt;= -89. The function description
     is beyond the scope of this document.<a href="#appendix-A-2.4" class="pilcrow">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
<p id="appendix-A-3"> We tested the operations in this specification by making the
      following experiment, using the above parameters.  In our experiment, a
      communication link is considered as symmetric if the ETX value of
      NodeA-&gt;NodeB and NodeB-&gt;NodeA (see <a href="#commlink" class="auto internal xref">Figure 6</a>) are
      within, say, a 1:3 ratio.  This ratio should be understood as
      determining the link's symmetric/asymmetric nature.  NodeA can typically
      know the ETX value in the direction of NodeA-&gt;NodeB, but it has no
      direct way of knowing the value of ETX from NodeB-&gt;NodeA.  Using
      physical testbed experiments and realistic wireless channel propagation
      models, one can determine a relationship between RSSI and ETX
      representable as an expression or a mapping table.  Such a relationship,
      in turn, can be used to estimate the ETX value at NodeA for link
      NodeB-&gt;NodeA from the received RSSI from NodeB.  Whenever NodeA
      determines that the link towards the NodeB is bidirectional asymmetric,
      then the S bit is set to 0.  Afterwards, the link from NodeA to
      Destination remains designated as asymmetric, and the S bit remains set
      to 0.<a href="#appendix-A-3" class="pilcrow">¶</a></p>
<p id="appendix-A-4">Determination of asymmetry versus bidirectionality remains a topic
 of lively discussion in the IETF.<a href="#appendix-A-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="Examples">
<section id="appendix-B">
      <h2 id="name-some-example-aodv-rpl-messa">
<a href="#appendix-B" class="section-number selfRef">Appendix B. </a><a href="#name-some-example-aodv-rpl-messa" class="section-name selfRef">Some Example AODV-RPL Message Flows</a>
      </h2>
<p id="appendix-B-1">
 This appendix provides some example message flows showing
        RREQ and RREP establishing symmetric and asymmetric routes.
 Also, examples for the use of RREP_WAIT and G-RREP are included.
        In the examples, router (O) is to be understood as performing
        the role of OrigNode.  Router (T) is to be understood as performing
 the role of TargNode.  Routers (R) are intermediate routers that
        are performing AODV-RPL functions in order to discover one or more
        suitable routes between (O) and (T).<a href="#appendix-B-1" class="pilcrow">¶</a></p>
<div id="Asymmetric-examples">
<section id="appendix-B.1">
        <h3 id="name-example-control-message-flo">
<a href="#appendix-B.1" class="section-number selfRef">B.1. </a><a href="#name-example-control-message-flo" class="section-name selfRef">Example Control Message Flows in Symmetric and Asymmetric Networks</a>
        </h3>
<p id="appendix-B.1-1">
 In the following diagram, RREQ messages are multicast from router (O)
 in order to discover routes to and from router (T).  The RREQ control
        messages flow outward from (O).  Each router along the way establishes
        a single RREQ-Instance identified by RREQ-InstanceID even if multiple
        RREQs are received with the same RREQ-InstanceID.  In the top half of
        the diagram, the routers are able to offer a symmetric route at each
        hop of the path from (O) to (T).  When (T) receives an RREQ, it is
        then able to transmit data packets to (O).  Router (T) then prepares
        to send an RREP along the symmetric path that would enable router (O)
        to send packets to router (T).<a href="#appendix-B.1-1" class="pilcrow">¶</a></p>
<span id="name-aodv-rpl-rreq-message-flow-"></span><div id="figSymm-RREQ_flow">
<figure id="figure-7">
          <div class="alignCenter art-text artwork" id="appendix-B.1-2.1">
<pre>
             (R) ---RREQ(S=1)---&gt;(R) ---RREQ(S=1)---&gt;(R)
              ^                                       |
              |                                       |
         RREQ(S=1)                                RREQ(S=1)
              |                                       |
              |                                       v
             (O) ---------&gt;(R) ---------&gt;(R)--------&gt;(T)
             / \    RREQ         RREQ         RREQ    ^
             |  \    (S=1)      (S=0)         (S=0)   |
             |   \                                   /
        RREQ |    \ RREQ (S=1)                    RREQ (S=0)
       (S=0) |     \                               /
             v      \              RREQ (S=0)     /
            (R) ----&gt;(R)------&gt;(R)----.....---&gt;(R)</pre>
</div>
<figcaption><a href="#figure-7" class="selfRef">Figure 7</a>:
<a href="#name-aodv-rpl-rreq-message-flow-" class="selfRef">AODV-RPL RREQ Message Flow Example When Symmetric Path Available</a>
          </figcaption></figure>
</div>
<p id="appendix-B.1-3">
 In the following diagram, which results from the above RREQ message
        transmission, a symmetric route is available from (T) to router (O)
        via the routers in the top half of the diagram.  RREP messages are
        sent via unicast along the symmetric route.  Since the RREP message
        is transmitted via unicast, no RREP messages are sent by router (T)
        to the routers in the bottom half of the diagram.<a href="#appendix-B.1-3" class="pilcrow">¶</a></p>
<span id="name-aodv-rpl-rrep-message-flow-"></span><div id="figSymm-RREP_flow">
<figure id="figure-8">
          <div class="alignCenter art-text artwork" id="appendix-B.1-4.1">
<pre>
             (R)&lt;------RREP----- (R)&lt;------RREP----- (R)
              |                                       ^
              |                                       |
             RREP                                    RREP
              |                                       |
              v                                       |
             (O) ----------(R) ----------(R) --------(T)
             / \                                      |
             |  \                                     |
             |   \     (no RREP messages sent)       /
             |    \                                 /
             |     \                               /
             |      \                             /
            (R) -----(R)-------(R)----.....----(R)</pre>
</div>
<figcaption><a href="#figure-8" class="selfRef">Figure 8</a>:
<a href="#name-aodv-rpl-rrep-message-flow-" class="selfRef">AODV-RPL RREP Message Flow Example When Symmetric Path Available</a>
          </figcaption></figure>
</div>
<p id="appendix-B.1-5">
 In the following diagram, RREQ messages are multicast from router (O)
        in order to discover routes to and from router (T) as before. As shown,
        no symmetric route is available from (O) to (T).<a href="#appendix-B.1-5" class="pilcrow">¶</a></p>
<span id="name-aodv-rpl-rreq-message-flow-w"></span><div id="figAsymm-RREQ_flow">
<figure id="figure-9">
          <div class="alignCenter art-text artwork" id="appendix-B.1-6.1">
<pre>
             (R) ---RREQ(S=0)---&gt;(R) ---RREQ(S=0)---&gt;(R)
              ^                                       |
              |                                       |
          RREQ(S=1)                                RREQ(S=0)
              |                                       |
              |                                       v
             (O) ---------&gt;(R) ---------&gt;(R)--------&gt;(T)
             ^ \    RREQ         RREQ      RREQ      |  \
             |  \    (S=1)        (S=0)       (S=0)  |   |
             |   \                                   /   |
             |  RREQ (S=1)              RREQ (S=0)  /   (R)
             |     \                               /     |
             |      \               RREQ (S=0)    /     /
            (R) ----&gt;(R)------&gt;(R)----.....-----&gt;(R)---</pre>
</div>
<figcaption><a href="#figure-9" class="selfRef">Figure 9</a>:
<a href="#name-aodv-rpl-rreq-message-flow-w" class="selfRef">AODV-RPL RREQ Message Flow When Symmetric Path Unavailable</a>
          </figcaption></figure>
</div>
<p id="appendix-B.1-7">
 Upon receiving the RREQ in <a href="#figAsymm-RREQ_flow" class="auto internal xref">Figure 9</a>,
 router (T) then prepares to send an RREP that would enable router (O)
        to send packets to router (T). In <a href="#figAsymm-RREQ_flow" class="auto internal xref">Figure 9</a>,
 since no symmetric route is available from (T) to router (O),
        RREP messages are sent via multicast to all neighboring routers.<a href="#appendix-B.1-7" class="pilcrow">¶</a></p>
<span id="name-aodv-rpl-rreq-and-rrep-inst"></span><div id="figAsymm-RREP_flow">
<figure id="figure-10">
          <div class="alignCenter art-text artwork" id="appendix-B.1-8.1">
<pre>
             (R)&lt;------RREP----- (R)&lt;------RREP----- (R)
              |                                       |
              |                                       |
             RREP                                    RREP
              |                                       |
              |                                       |
              v                                       v
             (O)&lt;--------- (R)&lt;--------- (R)&lt;------- (T)
             ^ \    RREP         RREP        RREP    |  \
             |  \                                    |   |RREP
             |   \                                   /   |
       RREP  |    \ RREP                  RREP      /   (R)
             |     \                               /     |
             |      \                             /     /
           (R)&lt;----- (R)&lt;----- (R)&lt;---.....---- (R)&lt; - RREP
                RREP       RREP         RREP</pre>
</div>
<figcaption><a href="#figure-10" class="selfRef">Figure 10</a>:
<a href="#name-aodv-rpl-rreq-and-rrep-inst" class="selfRef">AODV-RPL RREQ and RREP-Instances for Asymmetric Links</a>
          </figcaption></figure>
</div>
</section>
</div>
<div id="RREP_WAIT-example">
<section id="appendix-B.2">
        <h3 id="name-example-rrep_wait-handling">
<a href="#appendix-B.2" class="section-number selfRef">B.2. </a><a href="#name-example-rrep_wait-handling" class="section-name selfRef">Example RREP_WAIT Handling</a>
        </h3>
<p id="appendix-B.2-1">
        In <a href="#fig-RREP_WAIT-a" class="auto internal xref">Figure 11</a>, the first RREQ arrives at (T).
        This triggers TargNode to start the RREP_WAIT_TIME timer.<a href="#appendix-B.2-1" class="pilcrow">¶</a></p>
<span id="name-targnode-starts-rrep_wait"></span><div id="fig-RREP_WAIT-a">
<figure id="figure-11">
          <div class="alignCenter art-text artwork" id="appendix-B.2-2.1">
<pre>
        (O) ---------&gt;(R) ---------&gt;(R)--------&gt;(T)
                RREQ         RREQ         RREQ
               (S=1)        (S=0)        (S=0)</pre>
</div>
<figcaption><a href="#figure-11" class="selfRef">Figure 11</a>:
<a href="#name-targnode-starts-rrep_wait" class="selfRef">TargNode Starts RREP_WAIT</a>
          </figcaption></figure>
</div>
<p id="appendix-B.2-3">

        In <a href="#fig-RREP_WAIT-b" class="auto internal xref">Figure 12</a>, another RREQ arrives
        before the RREP_WAIT_TIME timer is expired.  It could be preferable
        compared the previously received RREP that caused the
        RREP_WAIT_TIME timer to be set.<a href="#appendix-B.2-3" class="pilcrow">¶</a></p>
<span id="name-waiting-targnode-receives-p"></span><div id="fig-RREP_WAIT-b">
<figure id="figure-12">
          <div class="alignCenter art-text artwork" id="appendix-B.2-4.1">
<pre>
        (O)                                     (T)
        / \                                      ^
        |  \                                     |
        |   \                                   /
   RREQ |    \ RREQ (S=1)                    RREQ (S=0)
  (S=0) |     \                               /
        v      \              RREQ (S=0)     /
       (R) ----&gt;(R)------&gt;(R)----.....---&gt;(R)</pre>
</div>
<figcaption><a href="#figure-12" class="selfRef">Figure 12</a>:
<a href="#name-waiting-targnode-receives-p" class="selfRef">Waiting TargNode Receives Preferable RREQ</a>
          </figcaption></figure>
</div>
<p id="appendix-B.2-5">

        In <a href="#fig-RREP_WAIT-c" class="auto internal xref">Figure 13</a>, the RREP_WAIT_TIME timer
        expires. TargNode selects the path with S=1.<a href="#appendix-B.2-5" class="pilcrow">¶</a></p>
<span id="name-rrep_wait-expires-at-targno"></span><div id="fig-RREP_WAIT-c">
<figure id="figure-13">
          <div class="alignCenter art-text artwork" id="appendix-B.2-6.1">
<pre>
        (R) ---RREQ(S=1)---&gt;(R) ---RREQ(S=1)---&gt;(R)
         ^                                       |
         |                                       |
    RREQ(S=1)                                RREQ(S=1)
         |                                       |
         |                                       v
        (O)                                     (T)</pre>
</div>
<figcaption><a href="#figure-13" class="selfRef">Figure 13</a>:
<a href="#name-rrep_wait-expires-at-targno" class="selfRef">RREP_WAIT Expires at TargNode</a>
          </figcaption></figure>
</div>
</section>
</div>
<div id="G-RREP-example">
<section id="appendix-B.3">
        <h3 id="name-example-g-rrep-handling">
<a href="#appendix-B.3" class="section-number selfRef">B.3. </a><a href="#name-example-g-rrep-handling" class="section-name selfRef">Example G-RREP Handling</a>
        </h3>
<p id="appendix-B.3-1">In <a href="#fig-G-RREP-a" class="auto internal xref">Figure 14</a>, R* has upward and downward routes
        to TargNode (T) that satisfy the OF of the RPL Instance originated
        by OrigNode (O), and the Destination Sequence Number is at least as large
        as the Sequence Number in the RREQ message.<a href="#appendix-B.3-1" class="pilcrow">¶</a></p>
<span id="name-rrep-triggers-g-rrep-at-int"></span><div id="fig-G-RREP-a">
<figure id="figure-14">
          <div class="alignCenter art-text artwork" id="appendix-B.3-2.1">
<pre>
        (R) ---RREQ(S=1)---&gt;(R) ---RREQ(S=0)---&gt;(R)
         ^                                       |
         |                                       |
    RREQ(S=1)                                RREQ(S=0)
         |                                       |
         |                                       v
        (O) ---------&gt;(R) ---------&gt;(R)--------&gt;(T)
        / \    RREQ         RREQ         RREQ    ^
        |  \    (S=1)      (S=0)         (S=0)   |
        |   \                                   /
   RREQ |    \ RREQ (S=1)                      /
  (S=0) |     \                               /
        v      \                             v
       (R) ----&gt;(R*)&lt;------&gt;(R)&lt;----....---&gt;(R)</pre>
</div>
<figcaption><a href="#figure-14" class="selfRef">Figure 14</a>:
<a href="#name-rrep-triggers-g-rrep-at-int" class="selfRef">RREP Triggers G-RREP at Intermediate Node</a>
          </figcaption></figure>
</div>
<p id="appendix-B.3-3">
        In <a href="#fig-G-RREP-b" class="auto internal xref">Figure 15</a>, R* transmits the G-RREP-DIO
        back to OrigNode (O) and forwards the incoming RREQ towards (T).<a href="#appendix-B.3-3" class="pilcrow">¶</a></p>
<span id="name-intermediate-node-initiates"></span><div id="fig-G-RREP-b">
<figure id="figure-15">
          <div class="alignCenter art-text artwork" id="appendix-B.3-4.1">
<pre>
        (O)                                     (T)
          \                                      ^
           \                                     |
            \                            (RREQ) /
             \ G-RREP-DIO                      /
              \                               /
               \   (RREQ)       (RREQ)       /
               (R*)------&gt;(R)----....---&gt;(R)</pre>
</div>
<figcaption><a href="#figure-15" class="selfRef">Figure 15</a>:
<a href="#name-intermediate-node-initiates" class="selfRef">Intermediate Node Initiates G-RREP</a>
          </figcaption></figure>
</div>
</section>
</div>
</section>
</div>
<section id="appendix-C">
      <h2 id="name-acknowledgements">
<a href="#name-acknowledgements" class="section-name selfRef">Acknowledgements</a>
      </h2>
<p id="appendix-C-1">The authors thank <span class="contact-name">Pascal Thubert</span>, <span class="contact-name">Rahul Jadhav</span>, and <span class="contact-name">Lijo Thomas</span> for
      their support and valuable input.  The authors specially thank <span class="contact-name">Lavanya H.M.</span> for implementing AODV-RPL in Contiki and
      conducting extensive simulation studies.<a href="#appendix-C-1" class="pilcrow">¶</a></p>
<p id="appendix-C-2"> The authors would like to acknowledge the reviews, feedback, and
      comments from the following people, in alphabetical order: <span class="contact-name">Roman Danyliw</span>, <span class="contact-name">Lars Eggert</span>, <span class="contact-name">Benjamin Kaduk</span>, <span class="contact-name">Tero Kivinen</span>,
      <span class="contact-name">Erik Kline</span>, <span class="contact-name">Murray       Kucherawy</span>, <span class="contact-name">Warren Kumari</span>, <span class="contact-name">Francesca Palombini</span>, <span class="contact-name">Alvaro Retana</span>,
      <span class="contact-name">Ines Robles</span>, <span class="contact-name">John Scudder</span>,
      <span class="contact-name">Meral Shirazipour</span>, <span class="contact-name">Peter Van       der Stok</span>, <span class="contact-name">Éric Vyncke</span>, and <span class="contact-name">Robert Wilton</span>.<a href="#appendix-C-2" class="pilcrow">¶</a></p>
</section>
<section id="appendix-D">
      <h2 id="name-contributors">
<a href="#name-contributors" class="section-name selfRef">Contributors</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Abdur Rashid Sangi</span></div>
<div dir="auto" class="left"><span class="org">Wenzhou-Kean University</span></div>
<div dir="auto" class="left"><span class="street-address">88 Daxue Rd, Ouhai<br>Wenzhou<br>Zhejiang Province, 325060<br>Kean University<br>1000 Morris Avenue<br>Union, New Jersey 07083<br>United States of America</span></div>
<div dir="auto" class="left"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:sangi_bahrian@yahoo.com" class="email">sangi_bahrian@yahoo.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Malati Hegde</span></div>
<div dir="auto" class="left"><span class="org">Indian Institute of Science</span></div>
<div dir="auto" class="left">
<span class="locality">Bangalore</span> <span class="postal-code">560012</span>
</div>
<div dir="auto" class="left"><span class="country-name">India</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:malati@iisc.ac.in" class="email">malati@iisc.ac.in</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Mingui Zhang</span></div>
<div dir="auto" class="left"><span class="org">Huawei Technologies</span></div>
<div dir="auto" class="left"><span class="street-address">No. 156 Beiqing Rd.</span></div>
<div dir="auto" class="left"><span class="locality">Haidian District</span></div>
<div dir="auto" class="left"><span class="locality">Beijing</span></div>
<div dir="auto" class="left"><span class="postal-code">100095</span></div>
<div dir="auto" class="left"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:zhangmingui@huawei.com" class="email">zhangmingui@huawei.com</a>
</div>
</address>
</section>
<div id="authors-addresses">
<section id="appendix-E">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Charles E. Perkins</span></div>
<div dir="auto" class="left"><span class="org">Blue Meadow Networks</span></div>
<div dir="auto" class="left">
<span class="locality">Saratoga</span>, <span class="region">CA</span> <span class="postal-code">95070</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:charliep@lupinlodge.com" class="email">charliep@lupinlodge.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">S.V.R. Anand</span></div>
<div dir="auto" class="left"><span class="org">Indian Institute of Science</span></div>
<div dir="auto" class="left">
<span class="locality">Bangalore</span> <span class="postal-code">560012</span>
</div>
<div dir="auto" class="left"><span class="country-name">India</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:anandsvr@iisc.ac.in" class="email">anandsvr@iisc.ac.in</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Satish Anamalamudi</span></div>
<div dir="auto" class="left"><span class="org">SRM University-AP</span></div>
<div dir="auto" class="left"><span class="street-address">Amaravati Campus</span></div>
<div dir="auto" class="left">
<span class="locality">Amaravati, Andhra Pradesh</span> <span class="postal-code">522 502</span>
</div>
<div dir="auto" class="left"><span class="country-name">India</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:satishnaidu80@gmail.com" class="email">satishnaidu80@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Bing Liu</span></div>
<div dir="auto" class="left"><span class="org">Huawei Technologies</span></div>
<div dir="auto" class="left"><span class="street-address">No. 156 Beiqing Rd.</span></div>
<div dir="auto" class="left"><span class="locality">Haidian District</span></div>
<div dir="auto" class="left"><span class="locality">Beijing</span></div>
<div dir="auto" class="left"><span class="postal-code">100095</span></div>
<div dir="auto" class="left"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:remy.liubing@huawei.com" class="email">remy.liubing@huawei.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
