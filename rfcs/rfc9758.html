<!DOCTYPE html>
<html lang="en" class="RFC">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>RFC 9758: Updates to the 'ipn' URI Scheme</title>
<meta content="Rick Taylor" name="author">
<meta content="Edward J. Birrane, III" name="author">
<meta content="
       This document updates the specification of the 'ipn' URI scheme
      previously defined in RFC 6260 and the IANA registries established in RFC
      7116. It also updates the rules for the encoding and decoding of these URIs when
      used as an Endpoint Identifier (EID) in the Bundle Protocol version 7 (BPv7)
      as defined in RFC 9171. These updates clarify the structure and behavior
      of the 'ipn' URI scheme, define new encodings of 'ipn' scheme URIs, and
      establish the registries necessary to manage this scheme. 
    " name="description">
<meta content="xml2rfc 3.28.1" name="generator">
<meta content="DTN" name="keyword">
<meta content="ipn" name="keyword">
<meta content="BPv7" name="keyword">
<meta content="CBHE" name="keyword">
<meta content="Bundle Protocol" name="keyword">
<meta content="9758" name="rfc.number">
<!-- Generator version information:
  xml2rfc 3.28.1
    Python 3.9.15
    ConfigArgParse 1.5.3
    google-i18n-address 3.0.0
    intervaltree 3.1.0
    Jinja2 3.1.2
    lxml 5.3.0
    platformdirs 3.8.0
    pycountry 22.3.5
    PyYAML 6.0
    requests 2.28.0
    setuptools 44.1.1
    six 1.16.0
    wcwidth 0.2.5
    weasyprint 65.0
-->
<link href="rfc9758.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necessary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

:root {
  --font-sans: 'Noto Sans', Arial, Helvetica, sans-serif;
  --font-serif: 'Noto Serif', 'Times', 'Times New Roman', serif;
  --font-mono: 'Roboto Mono', Courier, 'Courier New', monospace;
}

@viewport {
  zoom: 1.0;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: var(--font-sans);
  line-height: 1.6;
  scroll-behavior: smooth;
  overflow-wrap: break-word;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
svg[font-family~="serif" i], svg [font-family~="serif" i] {
  font-family: var(--font-serif);
}
svg[font-family~="sans-serif" i], svg [font-family~="sans-serif" i] {
  font-family: var(--font-sans);
}
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  display: table;
  border: none;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre {
  background-color: #f9f9f9;
  font-family: var(--font-mono);
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
blockquote > *:last-child {
  margin-bottom: 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}
.xref {
  overflow-wrap: normal;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    max-width: 100%;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.refSubseries {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: var(--font-sans);
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  .breakable pre {
    break-inside: auto;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The following is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
.sourcecode pre,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .artwork > pre,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: upper-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background slightly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr {
  break-inside: avoid;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottom margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code, dt tt, dt code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the compact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div.sourcecode:first-child,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type:only-child {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<link href="https://datatracker.ietf.org/doc/draft-ietf-dtn-ipn-update-14" rel="prev">
  <link href="https://dx.doi.org/10.17487/rfc9758" rel="alternate">
  <link href="urn:issn:2070-1721" rel="alternate">
  </head>
<body class="xml2rfc">
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 9758</td>
<td class="center">ipn Update</td>
<td class="right">May 2025</td>
</tr></thead>
<tfoot><tr>
<td class="left">Taylor &amp; Birrane, III</td>
<td class="center">Standards Track</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Engineering Task Force (IETF)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a href="https://www.rfc-editor.org/rfc/rfc9758" class="eref">9758</a></dd>
<dt class="label-updates">Updates:</dt>
<dd class="updates">
<a href="https://www.rfc-editor.org/rfc/rfc6260" class="eref">6260</a>, <a href="https://www.rfc-editor.org/rfc/rfc7116" class="eref">7116</a>, <a href="https://www.rfc-editor.org/rfc/rfc9171" class="eref">9171</a> </dd>
<dt class="label-category">Category:</dt>
<dd class="category">Standards Track</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2025-05" class="published">May 2025</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">R. Taylor</div>
<div class="org">Aalyria Technologies</div>
</div>
<div class="author">
      <div class="author-name">E. Birrane, III</div>
<div class="org">JHU/APL</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 9758</h1>
<h1 id="title">Updates to the 'ipn' URI Scheme</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This document updates the specification of the 'ipn' URI scheme
      previously defined in RFC 6260 and the IANA registries established in RFC
      7116. It also updates the rules for the encoding and decoding of these URIs when
      used as an Endpoint Identifier (EID) in the Bundle Protocol version 7 (BPv7)
      as defined in RFC 9171. These updates clarify the structure and behavior
      of the 'ipn' URI scheme, define new encodings of 'ipn' scheme URIs, and
      establish the registries necessary to manage this scheme.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This is an Internet Standards Track document.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc9758">https://www.rfc-editor.org/info/rfc9758</a></span>.<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2025 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="auto internal xref">1</a>.  <a href="#name-introduction" class="internal xref">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="auto internal xref">2</a>.  <a href="#name-conventions-and-definitions" class="internal xref">Conventions and Definitions</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="auto internal xref">3</a>.  <a href="#name-core-concepts" class="internal xref">Core Concepts</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1" class="keepWithNext"><a href="#section-3.1" class="auto internal xref">3.1</a>.  <a href="#name-the-null-ipn-uri" class="internal xref">The Null ipn URI</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="auto internal xref">3.2</a>.  <a href="#name-allocator-identifiers" class="internal xref">Allocator Identifiers</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2.2.1">
                    <p id="section-toc.1-1.3.2.2.2.1.1"><a href="#section-3.2.1" class="auto internal xref">3.2.1</a>.  <a href="#name-allocator-identifier-ranges" class="internal xref">Allocator Identifier Ranges</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2.2.2">
                    <p id="section-toc.1-1.3.2.2.2.2.1"><a href="#section-3.2.2" class="auto internal xref">3.2.2</a>.  <a href="#name-the-default-allocator" class="internal xref">The Default Allocator</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a href="#section-3.3" class="auto internal xref">3.3</a>.  <a href="#name-node-numbers" class="internal xref">Node Numbers</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3.2.1">
                    <p id="section-toc.1-1.3.2.3.2.1.1"><a href="#section-3.3.1" class="auto internal xref">3.3.1</a>.  <a href="#name-fully-qualified-node-number" class="internal xref">Fully Qualified Node Numbers</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.4">
                <p id="section-toc.1-1.3.2.4.1"><a href="#section-3.4" class="auto internal xref">3.4</a>.  <a href="#name-special-node-numbers" class="internal xref">Special Node Numbers</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.4.2.1">
                    <p id="section-toc.1-1.3.2.4.2.1.1"><a href="#section-3.4.1" class="auto internal xref">3.4.1</a>.  <a href="#name-the-zero-node-number" class="internal xref">The Zero Node Number</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.4.2.2">
                    <p id="section-toc.1-1.3.2.4.2.2.1"><a href="#section-3.4.2" class="auto internal xref">3.4.2</a>.  <a href="#name-localnode-ipn-uris" class="internal xref">LocalNode ipn URIs</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.4.2.3">
                    <p id="section-toc.1-1.3.2.4.2.3.1"><a href="#section-3.4.3" class="auto internal xref">3.4.3</a>.  <a href="#name-private-use-node-numbers" class="internal xref">Private Use Node Numbers</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.5">
                <p id="section-toc.1-1.3.2.5.1"><a href="#section-3.5" class="auto internal xref">3.5</a>.  <a href="#name-service-numbers" class="internal xref">Service Numbers</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="auto internal xref">4</a>.  <a href="#name-textual-representation-of-i" class="internal xref">Textual Representation of ipn URIs</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="auto internal xref">4.1</a>.  <a href="#name-ipn-uri-scheme-text-syntax" class="internal xref">'ipn' URI Scheme Text Syntax</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="auto internal xref">5</a>.  <a href="#name-usage-of-ipn-uris-with-bpv7" class="internal xref">Usage of ipn URIs with BPv7</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="auto internal xref">5.1</a>.  <a href="#name-uniqueness-constraints" class="internal xref">Uniqueness Constraints</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="auto internal xref">5.2</a>.  <a href="#name-the-null-endpoint" class="internal xref">The Null Endpoint</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3">
                <p id="section-toc.1-1.5.2.3.1"><a href="#section-5.3" class="auto internal xref">5.3</a>.  <a href="#name-bpv7-node-id" class="internal xref">BPv7 Node ID</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.4">
                <p id="section-toc.1-1.5.2.4.1"><a href="#section-5.4" class="auto internal xref">5.4</a>.  <a href="#name-localnode-ipn-eids" class="internal xref">LocalNode ipn EIDs</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.5">
                <p id="section-toc.1-1.5.2.5.1"><a href="#section-5.5" class="auto internal xref">5.5</a>.  <a href="#name-private-use-ipn-eids" class="internal xref">Private Use ipn EIDs</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.6">
                <p id="section-toc.1-1.5.2.6.1"><a href="#section-5.6" class="auto internal xref">5.6</a>.  <a href="#name-well-known-service-numbers" class="internal xref">Well-Known Service Numbers</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.7">
                <p id="section-toc.1-1.5.2.7.1"><a href="#section-5.7" class="auto internal xref">5.7</a>.  <a href="#name-administrative-endpoints" class="internal xref">Administrative Endpoints</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="auto internal xref">6</a>.  <a href="#name-cbor-representation-of-ipn-" class="internal xref">CBOR Representation of ipn URIs with BPv7</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="auto internal xref">6.1</a>.  <a href="#name-ipn-eid-cbor-encoding" class="internal xref">ipn EID CBOR Encoding</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1.2.1">
                    <p id="section-toc.1-1.6.2.1.2.1.1"><a href="#section-6.1.1" class="auto internal xref">6.1.1</a>.  <a href="#name-two-element-scheme-specific" class="internal xref">Two-Element Scheme-Specific Encoding</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1.2.2">
                    <p id="section-toc.1-1.6.2.1.2.2.1"><a href="#section-6.1.2" class="auto internal xref">6.1.2</a>.  <a href="#name-three-element-scheme-specif" class="internal xref">Three-Element Scheme-Specific Encoding</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="auto internal xref">6.2</a>.  <a href="#name-ipn-eid-cbor-decoding" class="internal xref">ipn EID CBOR Decoding</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3">
                <p id="section-toc.1-1.6.2.3.1"><a href="#section-6.3" class="auto internal xref">6.3</a>.  <a href="#name-ipn-uri-scheme-cbor-syntax" class="internal xref">'ipn' URI Scheme CBOR Syntax</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.4">
                <p id="section-toc.1-1.6.2.4.1"><a href="#section-6.4" class="auto internal xref">6.4</a>.  <a href="#name-ipn-eid-matching" class="internal xref">ipn EID Matching</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="auto internal xref">7</a>.  <a href="#name-special-considerations" class="internal xref">Special Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="auto internal xref">7.1</a>.  <a href="#name-scheme-compatibility" class="internal xref">Scheme Compatibility</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a href="#section-7.2" class="auto internal xref">7.2</a>.  <a href="#name-cbor-representation-interop" class="internal xref">CBOR Representation Interoperability</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.3">
                <p id="section-toc.1-1.7.2.3.1"><a href="#section-7.3" class="auto internal xref">7.3</a>.  <a href="#name-text-representation-compati" class="internal xref">Text Representation Compatibility</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.4">
                <p id="section-toc.1-1.7.2.4.1"><a href="#section-7.4" class="auto internal xref">7.4</a>.  <a href="#name-bundle-protocol-version-6-c" class="internal xref">Bundle Protocol Version 6 Compatibility</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.5">
                <p id="section-toc.1-1.7.2.5.1"><a href="#section-7.5" class="auto internal xref">7.5</a>.  <a href="#name-late-binding" class="internal xref">Late Binding</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="auto internal xref">8</a>.  <a href="#name-security-considerations" class="internal xref">Security Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a href="#section-8.1" class="auto internal xref">8.1</a>.  <a href="#name-reliability-and-consistency" class="internal xref">Reliability and Consistency</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1"><a href="#section-8.2" class="auto internal xref">8.2</a>.  <a href="#name-malicious-construction" class="internal xref">Malicious Construction</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.3">
                <p id="section-toc.1-1.8.2.3.1"><a href="#section-8.3" class="auto internal xref">8.3</a>.  <a href="#name-back-end-transcoding" class="internal xref">Back-End Transcoding</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.4">
                <p id="section-toc.1-1.8.2.4.1"><a href="#section-8.4" class="auto internal xref">8.4</a>.  <a href="#name-local-and-private-use-ipn-e" class="internal xref">Local and Private Use ipn EIDs</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.5">
                <p id="section-toc.1-1.8.2.5.1"><a href="#section-8.5" class="auto internal xref">8.5</a>.  <a href="#name-sensitive-information" class="internal xref">Sensitive Information</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.6">
                <p id="section-toc.1-1.8.2.6.1"><a href="#section-8.6" class="auto internal xref">8.6</a>.  <a href="#name-semantic-attacks" class="internal xref">Semantic Attacks</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="auto internal xref">9</a>.  <a href="#name-iana-considerations" class="internal xref">IANA Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.1">
                <p id="section-toc.1-1.9.2.1.1"><a href="#section-9.1" class="auto internal xref">9.1</a>.  <a href="#name-ipn-scheme-uri-allocator-id" class="internal xref">'ipn' Scheme URI Allocator Identifiers Registry</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.1.2.1">
                    <p id="section-toc.1-1.9.2.1.2.1.1"><a href="#section-9.1.1" class="auto internal xref">9.1.1</a>.  <a href="#name-guidance-for-designated-exp" class="internal xref">Guidance for Designated Experts</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2">
                <p id="section-toc.1-1.9.2.2.1"><a href="#section-9.2" class="auto internal xref">9.2</a>.  <a href="#name-ipn-scheme-uri-default-allo" class="internal xref">'ipn' Scheme URI Default Allocator Node Numbers Registry</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.3">
                <p id="section-toc.1-1.9.2.3.1"><a href="#section-9.3" class="auto internal xref">9.3</a>.  <a href="#name-ipn-scheme-uri-well-known-s" class="internal xref">'ipn' Scheme URI Well-Known Service Numbers for BPv7 Registry</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.3.2.1">
                    <p id="section-toc.1-1.9.2.3.2.1.1"><a href="#section-9.3.1" class="auto internal xref">9.3.1</a>.  <a href="#name-guidance-for-designated-expe" class="internal xref">Guidance for Designated Experts</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="auto internal xref">10</a>. <a href="#name-references" class="internal xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a href="#section-10.1" class="auto internal xref">10.1</a>.  <a href="#name-normative-references" class="internal xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a href="#section-10.2" class="auto internal xref">10.2</a>.  <a href="#name-informative-references" class="internal xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#appendix-A" class="auto internal xref">Appendix A</a>.  <a href="#name-ipn-uri-scheme-text-represe" class="internal xref">'ipn' URI Scheme Text Representation Examples</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1">
                <p id="section-toc.1-1.11.2.1.1"><a href="#appendix-A.1" class="auto internal xref">A.1</a>.  <a href="#name-using-the-default-allocator" class="internal xref">Using the Default Allocator</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.2">
                <p id="section-toc.1-1.11.2.2.1"><a href="#appendix-A.2" class="auto internal xref">A.2</a>.  <a href="#name-using-a-non-default-allocat" class="internal xref">Using a Non-Default Allocator</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.3">
                <p id="section-toc.1-1.11.2.3.1"><a href="#appendix-A.3" class="auto internal xref">A.3</a>.  <a href="#name-the-null-ipn-uri-2" class="internal xref">The Null ipn URI</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.4">
                <p id="section-toc.1-1.11.2.4.1"><a href="#appendix-A.4" class="auto internal xref">A.4</a>.  <a href="#name-the-localnode-ipn-uri" class="internal xref">The LocalNode ipn URI</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#appendix-B" class="auto internal xref">Appendix B</a>.  <a href="#name-ipn-uri-scheme-cbor-encodin" class="internal xref">'ipn' URI Scheme CBOR Encoding Examples</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.1">
                <p id="section-toc.1-1.12.2.1.1"><a href="#appendix-B.1" class="auto internal xref">B.1</a>.  <a href="#name-using-the-default-allocator-2" class="internal xref">Using the Default Allocator</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.2">
                <p id="section-toc.1-1.12.2.2.1"><a href="#appendix-B.2" class="auto internal xref">B.2</a>.  <a href="#name-using-a-non-default-allocato" class="internal xref">Using a Non-Default Allocator</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.3">
                <p id="section-toc.1-1.12.2.3.1"><a href="#appendix-B.3" class="auto internal xref">B.3</a>.  <a href="#name-the-null-endpoint-2" class="internal xref">The Null Endpoint</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#appendix-C" class="auto internal xref"></a><a href="#name-acknowledgments" class="internal xref">Acknowledgments</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a href="#appendix-D" class="auto internal xref"></a><a href="#name-authors-addresses" class="internal xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">The 'ipn' URI scheme was originally defined in <span>[<a href="#RFC6260" class="cite xref">RFC6260</a>]</span>
      and <span>[<a href="#RFC7116" class="cite xref">RFC7116</a>]</span> as a way to identify network nodes and node
      services using concisely encoded integers that can be processed faster
      and with fewer resources than other verbose identifier schemes. The
      scheme was designed for use with the experimental Bundle Protocol
      version 6 (BPv6) <span>[<a href="#RFC5050" class="cite xref">RFC5050</a>]</span>, and "IPN" was defined as an
      acronym for the term "InterPlanetary Network" in reference to its
      intended use for deep-space networking. Since then, the efficiency
      benefits of integer identifiers make 'ipn' scheme URIs useful for any
      network operating with limited power, bandwidth, and/or compute
      budget. Therefore, the term "IPN" is now used as a non-acronymous
      name.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">Similar to the experimental BPv6, the standardized Bundle Protocol
      version 7 (BPv7) <span>[<a href="#RFC9171" class="cite xref">RFC9171</a>]</span> codifies support for the use
      of the 'ipn' URI scheme for the specification of bundle Endpoint
      Identifiers (EIDs). The publication of BPv7 has resulted in operational
      deployments of BPv7 nodes for both terrestrial and non-terrestrial use
      cases. This includes BPv7 networks operating over the terrestrial
      Internet and BPv7 networks operating in self-contained environments
      behind a shared administrative domain. The growth in the number and
      scale of deployments of BPv7 has been accompanied by a growth in the
      usage of the 'ipn' URI scheme, which has highlighted areas to improve the
      structure, moderation, and management of this scheme.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">By updating <span>[<a href="#RFC7116" class="cite xref">RFC7116</a>]</span> and <span>[<a href="#RFC9171" class="cite xref">RFC9171</a>]</span>,
      this document updates the specification of the 'ipn' URI scheme in a
      backwards-compatible way, in order to provide needed improvements both in the
      scheme itself and in its usage to specify EIDs with BPv7. Specifically,
      this document:<a href="#section-1-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1-4.1">introduces a hierarchical structure for the assignment of 'ipn' scheme URIs,<a href="#section-1-4.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-1-4.2">clarifies the behavior and interpretation of 'ipn' scheme URIs,<a href="#section-1-4.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-1-4.3">defines efficient encodings of 'ipn' scheme URIs, and<a href="#section-1-4.3" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-1-4.4">updates/defines the registries associated with this scheme.<a href="#section-1-4.4" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-1-5">Although originally developed by the deep-space community for use
      with the Bundle Protocol, the 'ipn' URI scheme is sufficiently generic to be
      used in other environments where a concise unique representation of a
      resource on a particular node is required.<a href="#section-1-5" class="pilcrow">¶</a></p>
<p id="section-1-6">It is important to remember that, like most other URI schemes, the
      'ipn' URI scheme defines a unique identifier of a resource, and it does not
      include any topological information describing how to route messages to
      that resource.<a href="#section-1-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="conventions-and-definitions">
<section id="section-2">
      <h2 id="name-conventions-and-definitions">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-conventions-and-definitions" class="section-name selfRef">Conventions and Definitions</a>
      </h2>
<p id="section-2-1">
    The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>",
    "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>",
    "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>",
    "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
    "<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be
    interpreted as described in BCP 14 <span>[<a href="#RFC2119" class="cite xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="cite xref">RFC8174</a>]</span> when, and only when, they appear in all capitals, as
    shown here.<a href="#section-2-1" class="pilcrow">¶</a></p>
<p id="section-2-2">For the remainder of this document, the term "ipn URI" is used to refer to a URI that uses the 'ipn' URI scheme.<a href="#section-2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="core-concepts">
<section id="section-3">
      <h2 id="name-core-concepts">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-core-concepts" class="section-name selfRef">Core Concepts</a>
      </h2>
<p id="section-3-1">Every ipn URI, no matter whether it is expressed with a textual
      representation or a binary encoding, <span class="bcp14">MUST</span> be considered
      as a tuple of the following three components:<a href="#section-3-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3-2.1">
          <p id="section-3-2.1.1">The Allocator Identifier<a href="#section-3-2.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-3-2.2">
          <p id="section-3-2.2.1">The Node Number<a href="#section-3-2.2.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-3-2.3">
          <p id="section-3-2.3.1">The Service Number<a href="#section-3-2.3.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="section-3-3">The Allocator Identifier indicates the entity responsible for
      assigning Node Numbers to individual resource nodes, maintaining
      uniqueness whilst avoiding the need for a single registry for all
      assigned Node Numbers. See <a href="#allocator-identifiers" class="auto internal xref">Section 3.2</a>.<a href="#section-3-3" class="pilcrow">¶</a></p>
<p id="section-3-4">The Node Number is a shared identifier assigned to all ipn URIs for
      resources co-located on a single node. See <a href="#node-numbers" class="auto internal xref">Section 3.3</a>.<a href="#section-3-4" class="pilcrow">¶</a></p>
<p id="section-3-5">The Service Number is an identifier to distinguish between resources
      on a given node. See <a href="#service-numbers" class="auto internal xref">Section 3.5</a>.<a href="#section-3-5" class="pilcrow">¶</a></p>
<p id="section-3-6">The combination of these three components guarantees that every
      correctly constructed ipn URI uniquely identifies a single resource.
      Additionally, the combination of the Allocator Identifier and the Node
      Number provides a mechanism to uniquely identify the node on which a
      particular resource is expected to exist. See <a href="#fqnn" class="auto internal xref">Section 3.3.1</a>.<a href="#section-3-6" class="pilcrow">¶</a></p>
<div id="null-uri">
<section id="section-3.1">
        <h3 id="name-the-null-ipn-uri">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-the-null-ipn-uri" class="section-name selfRef">The Null ipn URI</a>
        </h3>
<p id="section-3.1-1">It has been found that there is value in defining a unique Null
        ipn URI to indicate "nowhere".  This ipn URI is termed the "Null ipn
        URI" and has all three components (the Allocator Identifier, Node Number,
        and Service Number) set to the value zero (0).  No resource identified
        by the Null ipn URI exists, and any destination identified by such a
        resource is therefore by definition unreachable.<a href="#section-3.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="allocator-identifiers">
<section id="section-3.2">
        <h3 id="name-allocator-identifiers">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-allocator-identifiers" class="section-name selfRef">Allocator Identifiers</a>
        </h3>
<p id="section-3.2-1">An Allocator is any organization that wishes to assign Node Numbers
        for use with the 'ipn' URI scheme and has the facilities and governance
        to manage a public registry of assigned Node Numbers. The
        authorization to assign these numbers is provided through the
        assignment of an Allocator Identifier by IANA.  Regardless of other
        attributes of an Allocator (such as a name, point of contact, or other
        identifying information), Allocators are identified by Allocator
        Identifiers: unique, unsigned integers in the range 0 to
        2<sup>32-1</sup>.<a href="#section-3.2-1" class="pilcrow">¶</a></p>
<p id="section-3.2-2">The Allocator Identifier <span class="bcp14">MUST</span> be the sole mechanism
        used to identify the Allocator that has assigned the Node Number in an
        ipn URI. An Allocator may have multiple assigned Allocator
        Identifiers, but a given Allocator Identifier <span class="bcp14">MUST</span> only
        be associated with a single Allocator.<a href="#section-3.2-2" class="pilcrow">¶</a></p>
<p id="section-3.2-3">A new IANA registry, "'ipn' Scheme URI Allocator Identifiers", is
        defined for the registration of Allocator Identifiers; see <a href="#iana-allocator-identifiers" class="auto internal xref">Section 9.1</a>.  Although the uniqueness of Allocator
        Identifiers is required to enforce the uniqueness of ipn URIs, some
        identifiers are explicitly reserved for experimentation or future
        use.<a href="#section-3.2-3" class="pilcrow">¶</a></p>
<p id="section-3.2-4">Each Allocator assigns Node Numbers according to its own policies,
        without risk of creating an identical ipn URI, as permitted by the
        rules in <a href="#node-numbers" class="auto internal xref">Section 3.3</a>.
 Other than ensuring that any Node Numbers it
        allocates are unique amongst all Node Numbers it assigns, an Allocator
        does not need to coordinate its allocations with other Allocators.<a href="#section-3.2-4" class="pilcrow">¶</a></p>
<p id="section-3.2-5">If a system does not require interoperable deployment of 'ipn' scheme
        URIs, then the Private Use Node
        Numbers range (<a href="#private-use" class="auto internal xref">Section 3.4.3</a>), reserved by the Default
 Allocator (<a href="#default-allocator" class="auto internal xref">Section 3.2.2</a>) for this purpose,
        is to be used.<a href="#section-3.2-5" class="pilcrow">¶</a></p>
<div id="allocator-identifier-ranges">
<section id="section-3.2.1">
          <h4 id="name-allocator-identifier-ranges">
<a href="#section-3.2.1" class="section-number selfRef">3.2.1. </a><a href="#name-allocator-identifier-ranges" class="section-name selfRef">Allocator Identifier Ranges</a>
          </h4>
<p id="section-3.2.1-1">Some organizations with internal hierarchies may wish to delegate
          the allocation of Node Numbers to one or more of their
          sub-organizations.  Rather than assigning unique Allocator
          Identifiers to each sub-organization on a first-come, first-served
          basis, there are operational benefits in assigning Allocator
          Identifiers to such an organization in a structured way.  This allows
          an external observer to detect that a group of Allocator Identifiers
          is organizationally associated.<a href="#section-3.2.1-1" class="pilcrow">¶</a></p>
<p id="section-3.2.1-2">An Allocator Identifier range is a set of consecutive Allocator
          Identifiers associated with the same Allocator. Each individual
          Allocator Identifier in a given range <span class="bcp14">SHOULD</span> be
          assigned to a distinct sub-organization of the Allocator. Assigning
          identifiers in this way allows external observers to both associate
          individual Allocator Identifiers with a single organization and
          usefully differentiate amongst sub-organizations.<a href="#section-3.2.1-2" class="pilcrow">¶</a></p>
<p id="section-3.2.1-3">The practice of associating a consecutive range of numbers with a
          single organization is inspired by the Classless Inter-Domain
          Routing (CIDR) assignment of Internet addresses described in <span>[<a href="#RFC4632" class="cite xref">RFC4632</a>]</span>. In that assignment scheme, an organization (such
          as an Internet Service Provider (ISP)) is assigned a network prefix such
          that all addresses sharing that same prefix are considered to be
          associated with that organization.<a href="#section-3.2.1-3" class="pilcrow">¶</a></p>
<p id="section-3.2.1-4">Each Allocator Identifier range is identified by the first
          Allocator Identifier in the range and the number of consecutive
          identifiers in the range.<a href="#section-3.2.1-4" class="pilcrow">¶</a></p>
<p id="section-3.2.1-5">Allocator Identifier ranges differ from CIDR addresses in two important ways:<a href="#section-3.2.1-5" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-3.2.1-6">
     <li id="section-3.2.1-6.1">
              <p id="section-3.2.1-6.1.1">Allocator Identifiers are used to identify organizations and are not, themselves, addresses.<a href="#section-3.2.1-6.1.1" class="pilcrow">¶</a></p>
</li>
            <li id="section-3.2.1-6.2">
              <p id="section-3.2.1-6.2.1">Allocator Identifiers may be less than 32 bits in length.<a href="#section-3.2.1-6.2.1" class="pilcrow">¶</a></p>
</li>
          </ol>
<p id="section-3.2.1-7">In order to differentiate between Allocator Identifier ranges
          using efficient bitwise operations, all ranges <span class="bcp14">MUST</span>
          be of a size S that is a power of 2, and for a given range of length
          N bits, with S = 2<sup>N</sup>, the least-significant N bits of the
          first Allocator Identifier <span class="bcp14">MUST</span> be all 0.<a href="#section-3.2.1-7" class="pilcrow">¶</a></p>
<p id="section-3.2.1-8">An example of the use of Allocator Identifier ranges for four
          organizations (A, B, C, and D) is as follows:<a href="#section-3.2.1-8" class="pilcrow">¶</a></p>
<span id="name-allocator-identifier-range-"></span><div id="tab-air-example">
<table class="center" id="table-1">
            <caption>
<a href="#table-1" class="selfRef">Table 1</a>:
<a href="#name-allocator-identifier-range-" class="selfRef">Allocator Identifier Range Assignment Example</a>
            </caption>
<thead>
              <tr>
                <th class="text-left" rowspan="1" colspan="1">Organization</th>
                <th class="text-left" rowspan="1" colspan="1">Range (dec)</th>
                <th class="text-left" rowspan="1" colspan="1">Range (hex)</th>
                <th class="text-left" rowspan="1" colspan="1">Range Length (Bits)</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">Org A</td>
                <td class="text-left" rowspan="1" colspan="1">974848 .. 974975</td>
                <td class="text-left" rowspan="1" colspan="1">0xEE000 .. 0xEE07F</td>
                <td class="text-left" rowspan="1" colspan="1">7 bits</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">Org B</td>
                <td class="text-left" rowspan="1" colspan="1">974976 .. 974991</td>
                <td class="text-left" rowspan="1" colspan="1">0xEE080 .. 0xEE08F</td>
                <td class="text-left" rowspan="1" colspan="1">4 bits</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">Org C</td>
                <td class="text-left" rowspan="1" colspan="1">974992 .. 974993</td>
                <td class="text-left" rowspan="1" colspan="1">0xEE090 .. 0xEE091</td>
                <td class="text-left" rowspan="1" colspan="1">1 bit</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">Org D</td>
                <td class="text-left" rowspan="1" colspan="1">974994</td>
                <td class="text-left" rowspan="1" colspan="1">0xEE092</td>
                <td class="text-left" rowspan="1" colspan="1">0 bits</td>
              </tr>
            </tbody>
          </table>
</div>
<p id="section-3.2.1-10">With these assignments, any Allocator Identifier whose
          most-significant 25 bits match 0xEE000 belong to organization
          A. Similarly, any Allocator Identifier whose most-significant 28
          bits match 0xEE080 belong to organization B, and any Allocator
          Identifier whose most-significant 31 bits are 0xEE090 belong to
          organization C.  Organization D has a single Allocator Identifier,
          and hence a range of bit-length 0.<a href="#section-3.2.1-10" class="pilcrow">¶</a></p>
</section>
</div>
<div id="default-allocator">
<section id="section-3.2.2">
          <h4 id="name-the-default-allocator">
<a href="#section-3.2.2" class="section-number selfRef">3.2.2. </a><a href="#name-the-default-allocator" class="section-name selfRef">The Default Allocator</a>
          </h4>
<p id="section-3.2.2-1">As of the publication of <span>[<a href="#RFC7116" class="cite xref">RFC7116</a>]</span>, the only
          organization permitted to assign Node Numbers was the Internet
          Assigned Numbers Authority (IANA), which assigned Node Numbers via
          the "CBHE Node Numbers" registry. This means that all ipn URIs
          created prior to the addition of Allocator Identifiers are assumed
          to have Node Number allocations that comply with the "CBHE Node
          Numbers" registry.<a href="#section-3.2.2-1" class="pilcrow">¶</a></p>
<p id="section-3.2.2-2">The presumption that Node Numbers
          are allocated by IANA from a specific registry, unless otherwise specified, 
          is formalized in this
          update to the 'ipn' URI scheme by designating IANA as the Default
          Allocator and by assigning the Allocator Identifier zero (0) in the
          "'ipn' Scheme URI Allocator Identifiers" registry
   (<a href="#iana-allocator-identifiers" class="auto internal xref">Section 9.1</a>) to the Default Allocator.
   In any case
          where an encoded ipn URI does not explicitly include an Allocator
          Identifier, an implementation <span class="bcp14">MUST</span> assume that the
          Node Number has been allocated by the Default Allocator.<a href="#section-3.2.2-2" class="pilcrow">¶</a></p>
<p id="section-3.2.2-3">A new IANA registry, "'ipn' Scheme URI Default Allocator Node
          Numbers", is defined to control the allocation of Node Number
          values by the Default Allocator.  This new registry inherits
          behaviors and existing assignments from the "CBHE Node Numbers"
          registry, and it reserves some other values as defined in <a href="#special-node-numbers" class="auto internal xref">Section 3.4</a>
          below.<a href="#section-3.2.2-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="node-numbers">
<section id="section-3.3">
        <h3 id="name-node-numbers">
<a href="#section-3.3" class="section-number selfRef">3.3. </a><a href="#name-node-numbers" class="section-name selfRef">Node Numbers</a>
        </h3>
<p id="section-3.3-1">A Node Number identifies a node that hosts a resource in the
        context of an Allocator. A Node Number is an unsigned integer. A
        single Node Number assigned by a single Allocator <span class="bcp14">MUST</span>
        refer to a single node.<a href="#section-3.3-1" class="pilcrow">¶</a></p>
<p id="section-3.3-2">All Node Number assignments, by all Allocators, <span class="bcp14">MUST</span>
        be in the range 0 to 2<sup>32-1</sup>.<a href="#section-3.3-2" class="pilcrow">¶</a></p>
<p id="section-3.3-3">It is <span class="bcp14">RECOMMENDED</span> that Node Number zero (0) not be
        assigned by an Allocator to avoid confusion with the Null ipn URI (<a href="#null-uri" class="auto internal xref">Section 3.1</a>).<a href="#section-3.3-3" class="pilcrow">¶</a></p>
<div id="fqnn">
<section id="section-3.3.1">
          <h4 id="name-fully-qualified-node-number">
<a href="#section-3.3.1" class="section-number selfRef">3.3.1. </a><a href="#name-fully-qualified-node-number" class="section-name selfRef">Fully Qualified Node Numbers</a>
          </h4>
<p id="section-3.3.1-1">One of the advantages of ipn URIs is the ability to easily split
          the identity of a particular service from the node upon which the
          service exists.  For example, a message received from one particular
          ipn URI may require a response to be sent to a different service on
          the same node that sent the original message.  Historically, the
          identifier of the sending node has been colloquially referred to as
          the "node number" or "node identifier".<a href="#section-3.3.1-1" class="pilcrow">¶</a></p>
<p id="section-3.3.1-2">To avoid future confusion, when referring to the identifier of a
          particular node, the term "Fully Qualified Node Number" (FQNN)
          <span class="bcp14">MUST</span> be used to refer to the combination of the Node
          Number component and Allocator Identifier component of an ipn URI
          that uniquely identifies a particular node.  In other words, an FQNN
          is the unique identifier of a particular node that supports services
          identified by ipn URIs.<a href="#section-3.3.1-2" class="pilcrow">¶</a></p>
<p id="section-3.3.1-3">In the examples in this document, FQNNs are written as (Allocator
          Identifier, Node Number). For example, <code>(977000,100)</code> is the FQNN
          for a node assigned Node Number 100 by an Allocator with Allocator
          Identifier 977000.<a href="#section-3.3.1-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="special-node-numbers">
<section id="section-3.4">
        <h3 id="name-special-node-numbers">
<a href="#section-3.4" class="section-number selfRef">3.4. </a><a href="#name-special-node-numbers" class="section-name selfRef">Special Node Numbers</a>
        </h3>
<p id="section-3.4-1">Some special-case Node Numbers are defined by the Default
        Allocator; see <a href="#iana-node-numbers" class="auto internal xref">Section 9.2</a>.<a href="#section-3.4-1" class="pilcrow">¶</a></p>
<div id="the-zero-node-number">
<section id="section-3.4.1">
          <h4 id="name-the-zero-node-number">
<a href="#section-3.4.1" class="section-number selfRef">3.4.1. </a><a href="#name-the-zero-node-number" class="section-name selfRef">The Zero Node Number</a>
          </h4>
<p id="section-3.4.1-1">The Default Allocator assigns the use of Node Number zero (0)
          solely for identifying the Null ipn
          URI (<a href="#null-uri" class="auto internal xref">Section 3.1</a>).<a href="#section-3.4.1-1" class="pilcrow">¶</a></p>
<p id="section-3.4.1-2">This means that any ipn URI with a zero (0) Allocator Identifier
          and a zero (0) Node Number, but a non-zero Service Number component,
          is invalid.  Such ipn URIs <span class="bcp14">MUST NOT</span> be composed, and
          processors of such ipn URIs <span class="bcp14">MUST</span> consider them as the
          Null ipn URI.<a href="#section-3.4.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="localnode-uri">
<section id="section-3.4.2">
          <h4 id="name-localnode-ipn-uris">
<a href="#section-3.4.2" class="section-number selfRef">3.4.2. </a><a href="#name-localnode-ipn-uris" class="section-name selfRef">LocalNode ipn URIs</a>
          </h4>
<p id="section-3.4.2-1">The Default Allocator reserves Node Number 2<sup>32-1</sup>
          (0xFFFFFFFFF) to specify resources on the local node, rather than on
          any specific individual node.<a href="#section-3.4.2-1" class="pilcrow">¶</a></p>
<p id="section-3.4.2-2">This means that any ipn URI with a zero (0) Allocator Identifier
          and a Node Number of 2<sup>32-1</sup> refers to a service on the
          local bundle node. This form of ipn URI is termed a "LocalNode ipn
          URI".<a href="#section-3.4.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="private-use">
<section id="section-3.4.3">
          <h4 id="name-private-use-node-numbers">
<a href="#section-3.4.3" class="section-number selfRef">3.4.3. </a><a href="#name-private-use-node-numbers" class="section-name selfRef">Private Use Node Numbers</a>
          </h4>
<p id="section-3.4.3-1">The Default Allocator provides a range of Node Numbers that are
          reserved for Private Use, as defined in <span>[<a href="#RFC8126" class="cite xref">RFC8126</a>]</span>.<a href="#section-3.4.3-1" class="pilcrow">¶</a></p>
<p id="section-3.4.3-2">Any ipn URI with a zero (0) Allocator Identifier and a Node
          Number reserved for Private Use is not guaranteed to be unique
          beyond a single administrative domain.  An administrative domain, as
          used here, is defined as the set of nodes that share a unique
          allocation of FQNNs from the Private Use range.  These FQNNs can
          be considered to be functionally similar to private address space
          IPv4 addresses, as defined in <span>[<a href="#RFC1918" class="cite xref">RFC1918</a>]</span>.<a href="#section-3.4.3-2" class="pilcrow">¶</a></p>
<p id="section-3.4.3-3">Because of this lack of uniqueness, any implementation of a
          protocol using ipn URIs that resides on the border between
          administrative domains <span class="bcp14">MUST</span> have suitable mechanisms
          in place to prevent protocol units using such Private Use Node
          Numbers to cross between different administrative domains.<a href="#section-3.4.3-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="service-numbers">
<section id="section-3.5">
        <h3 id="name-service-numbers">
<a href="#section-3.5" class="section-number selfRef">3.5. </a><a href="#name-service-numbers" class="section-name selfRef">Service Numbers</a>
        </h3>
<p id="section-3.5-1">A Service Number is an unsigned integer that identifies a
        particular service operating on a node.  A service in this case is
        some logical function that requires its own resource identifier to
        distinguish it from other functions operating on the same node.<a href="#section-3.5-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="textual-representation-of-ipn-uris">
<section id="section-4">
      <h2 id="name-textual-representation-of-i">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-textual-representation-of-i" class="section-name selfRef">Textual Representation of ipn URIs</a>
      </h2>
<p id="section-4-1">All 'ipn' scheme URIs comply with <span>[<a href="#RFC3986" class="cite xref">RFC3986</a>]</span> and are
      therefore represented by a scheme identifier and a scheme-specific part.
      The scheme identifier is <code>ipn</code>, and the scheme-specific parts
      are represented as a sequence of numeric components separated with the
      '<code>.</code>' character.  A formal definition is provided below (see
      <a href="#text-syntax" class="auto internal xref">Section 4.1</a>) and can be
      informally considered as:<a href="#section-4-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4-2">
<pre>
ipn:[&lt;allocator-identifier&gt;.]&lt;node-number&gt;.&lt;service-number&gt;
</pre><a href="#section-4-2" class="pilcrow">¶</a>
</div>
<p id="section-4-3">To keep the text representation concise, the following rules apply:<a href="#section-4-3" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-4-4">
 <li id="section-4-4.1">
          <p id="section-4-4.1.1">All leading '<code>0</code>' characters <span class="bcp14">MUST</span> be
          omitted. A single '<code>0</code>' is valid.<a href="#section-4-4.1.1" class="pilcrow">¶</a></p>
</li>
        <li id="section-4-4.2">
          <p id="section-4-4.2.1">If the Allocator Identifier is zero (0), then the
          <code>&lt;allocator-identifier&gt;</code> and '<code>.</code>'
          <span class="bcp14">MAY</span> be omitted.<a href="#section-4-4.2.1" class="pilcrow">¶</a></p>
</li>
        <li id="section-4-4.3">
          <p id="section-4-4.3.1">If the Allocator Identifier is zero (0), and the Node Number is
          2<sup>32-1</sup> (i.e., the URI is a LocalNode ipn URI (<a href="#localnode-uri" class="auto internal xref">Section 3.4.2</a>)), then the character
          '<code>!</code>' <span class="bcp14">SHOULD</span> be used instead of the digits
          <code>4294967295</code>, although both forms are valid encodings.<a href="#section-4-4.3.1" class="pilcrow">¶</a></p>
</li>
      </ol>
<p id="section-4-5">Examples of the textual representation of ipn URIs can be found in
      <a href="#text-examples" class="auto internal xref">Appendix A</a>.<a href="#section-4-5" class="pilcrow">¶</a></p>
<div id="text-syntax">
<section id="section-4.1">
        <h3 id="name-ipn-uri-scheme-text-syntax">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-ipn-uri-scheme-text-syntax" class="section-name selfRef">'ipn' URI Scheme Text Syntax</a>
        </h3>
<p id="section-4.1-1">The text syntax of an ipn URI <span class="bcp14">MUST</span> comply with the
        following ABNF syntax from <span>[<a href="#RFC5234" class="cite xref">RFC5234</a>]</span> and repeats the
        core ABNF syntax rule for DIGIT defined by that specification:<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<div class="lang-abnf sourcecode" id="section-4.1-2">
<pre>
ipn-uri = "ipn:" ipn-hier-part

ipn-hier-part = fqnn "." service-number

fqnn = "!" / allocator-part

allocator-part = [allocator-identifier "."] node-number

allocator-identifier = number

node-number = number

service-number = number

number = "0" / non-zero-number

non-zero-number = (%x31-39 *DIGIT)

DIGIT = %x30-39
</pre><a href="#section-4.1-2" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="usage-of-ipn-uris-with-bpv7">
<section id="section-5">
      <h2 id="name-usage-of-ipn-uris-with-bpv7">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-usage-of-ipn-uris-with-bpv7" class="section-name selfRef">Usage of ipn URIs with BPv7</a>
      </h2>
<p id="section-5-1">From the earliest days of experimentation with the Bundle Protocol,
      there has been a need to identify the source and destination of a
      bundle.  The IRTF BPv6 experimental specification <span>[<a href="#RFC5050" class="cite xref">RFC5050</a>]</span> termed the logical
      source or destination of a bundle as an "Endpoint" identified by an
      "Endpoint Identifier" (EID). BPv6 EIDs are formatted as URIs. This
      definition and representation of EIDs was carried forward from the IRTF
      BPv6 specification <span>[<a href="#RFC5050" class="cite xref">RFC5050</a>]</span> to the IETF BPv7 specification <span>[<a href="#RFC9171" class="cite xref">RFC9171</a>]</span>. <span>[<a href="#RFC9171" class="cite xref">RFC9171</a>]</span> additionally
      defined an IANA registry called the "Bundle Protocol URI Scheme Types"
      registry, which identifies those URI schemes that might be used to
      represent EIDs.  The 'ipn' URI scheme is one such URI scheme.<a href="#section-5-1" class="pilcrow">¶</a></p>
<p id="section-5-2">This section identifies the behavior and interpretation of 'ipn' scheme
      URIs that <span class="bcp14">MUST</span> be followed when using this URI scheme to
      represent EIDs in BPv7. An ipn URI used as a BPv7 or BPv6 EID is termed
      an "ipn EID".<a href="#section-5-2" class="pilcrow">¶</a></p>
<div id="uniqueness-constraints">
<section id="section-5.1">
        <h3 id="name-uniqueness-constraints">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-uniqueness-constraints" class="section-name selfRef">Uniqueness Constraints</a>
        </h3>
<p id="section-5.1-1">An ipn EID <span class="bcp14">MUST</span> identify a singleton endpoint. The
        bundle processing node that is the sole member of that endpoint
        <span class="bcp14">MUST</span> be the node identified by the FQNN (<a href="#fqnn" class="auto internal xref">Section 3.3.1</a>) of the node.<a href="#section-5.1-1" class="pilcrow">¶</a></p>
<p id="section-5.1-2">A single bundle processing node <span class="bcp14">MAY</span> have multiple
        ipn EIDs associated with it. However, all ipn EIDs that share any
        single FQNN <span class="bcp14">MUST</span> refer to the same bundle processing
        node.<a href="#section-5.1-2" class="pilcrow">¶</a></p>
<p id="section-5.1-3">For example, <code>ipn:977000.100.1</code>, <code>ipn:977000.100.2</code>,
        and <code>ipn:977000.100.3</code> <span class="bcp14">MUST</span> all refer to
        services registered on the bundle processing node identified with FQNN
        <code>(977000,100)</code>. None of these EIDs could be registered on any
        other bundle processing node.<a href="#section-5.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="the-null-endpoint">
<section id="section-5.2">
        <h3 id="name-the-null-endpoint">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-the-null-endpoint" class="section-name selfRef">The Null Endpoint</a>
        </h3>
<p id="section-5.2-1"><span><a href="https://rfc-editor.org/rfc/rfc9171#section-3.2" class="relref">Section 3.2</a> of [<a href="#RFC9171" class="cite xref">RFC9171</a>]</span> defines
        the concept of the Null endpoint, which is an endpoint that has no
        members and is identified by a special Null EID.<a href="#section-5.2-1" class="pilcrow">¶</a></p>
<p id="section-5.2-2">Within the 'ipn' URI scheme, the Null EID is represented by the
       Null ipn URI (<a href="#null-uri" class="auto internal xref">Section 3.1</a>).  This means that the URIs
        <code>dtn:none</code> (<span><a href="https://rfc-editor.org/rfc/rfc9171#section-4.2.5.1.1" class="relref">Section 4.2.5.1.1</a> of [<a href="#RFC9171" class="cite xref">RFC9171</a>]</span>), <code>ipn:0.0</code>, and <code>ipn:0.0.0</code> all
        refer to the BPv7 Null endpoint.<a href="#section-5.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="bpv7-node-id">
<section id="section-5.3">
        <h3 id="name-bpv7-node-id">
<a href="#section-5.3" class="section-number selfRef">5.3. </a><a href="#name-bpv7-node-id" class="section-name selfRef">BPv7 Node ID</a>
        </h3>
<p id="section-5.3-1"><span><a href="https://rfc-editor.org/rfc/rfc9171#section-4.2.5.2" class="relref">Section 4.2.5.2</a> of [<a href="#RFC9171" class="cite xref">RFC9171</a>]</span>
        introduces the concept of a "Node ID" that has the same format as an
        EID and uniquely identifies a bundle processing node.<a href="#section-5.3-1" class="pilcrow">¶</a></p>
<p id="section-5.3-2">Any ipn EID can serve as a "Node ID" for the bundle processing node
        identified by its FQNN (<a href="#fqnn" class="auto internal xref">Section 3.3.1</a>). That is, any ipn EID of the form <code>ipn:A.B.C</code> may be used
        as the Source Node ID of any bundle created by the bundle processing
        node identified by the FQNN <code>(A,B)</code>.<a href="#section-5.3-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="localnode-ipn-eids">
<section id="section-5.4">
        <h3 id="name-localnode-ipn-eids">
<a href="#section-5.4" class="section-number selfRef">5.4. </a><a href="#name-localnode-ipn-eids" class="section-name selfRef">LocalNode ipn EIDs</a>
        </h3>
<p id="section-5.4-1">When a LocalNode ipn URI (<a href="#localnode-uri" class="auto internal xref">Section 3.4.2</a>) is
        used as a BPv6 or BPv7 EID, it is termed a "LocalNode ipn EID".<a href="#section-5.4-1" class="pilcrow">¶</a></p>
<p id="section-5.4-2">Because a LocalNode ipn EID only has meaning on the local bundle
        node, any such EID <span class="bcp14">MUST</span> be considered
        non-routable. This means that any bundle using a LocalNode ipn EID as
        a bundle source or bundle destination <span class="bcp14">MUST NOT</span> be
        allowed to leave the local node.  Equally, all externally received
        bundles featuring LocalNode EIDs as a bundle source or bundle
        destination <span class="bcp14">MUST</span> be discarded as invalid.<a href="#section-5.4-2" class="pilcrow">¶</a></p>
<p id="section-5.4-3">LocalNode ipn EIDs <span class="bcp14">MUST NOT</span> be present in any other
        part of a bundle that is transmitted off of the local node. For
        example, a LocalNode ipn EID <span class="bcp14">MUST NOT</span> be used as a
        Bundle Protocol Security (BPSec) <span>[<a href="#RFC9172" class="cite xref">RFC9172</a>]</span> security
        source for a bundle transmitted from the local bundle node, because
        such a source EID would have no meaning at a downstream bundle
        node.<a href="#section-5.4-3" class="pilcrow">¶</a></p>
<p id="section-5.4-4">LocalNode ipn EIDs <span class="bcp14">MUST NOT</span> be published in any node
        identification directory (such as a DNS registration) or presented as
        part of dynamic peer discovery, as the EID has no valid meaning for
        other nodes.  For example, a LocalNode ipn EID <span class="bcp14">MUST NOT</span>
        be advertised as the peer Node ID during session negotiation in <span>[<a href="#RFC9174" class="cite xref">RFC9174</a>]</span>.<a href="#section-5.4-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="private-use-ipn-eids">
<section id="section-5.5">
        <h3 id="name-private-use-ipn-eids">
<a href="#section-5.5" class="section-number selfRef">5.5. </a><a href="#name-private-use-ipn-eids" class="section-name selfRef">Private Use ipn EIDs</a>
        </h3>
<p id="section-5.5-1">Bundles destined for EIDs that use an ipn URI with an FQNN (<a href="#fqnn" class="auto internal xref">Section 3.3.1</a>) that is within the
        Private Use range of the Default Allocator (<a href="#default-allocator" class="auto internal xref">Section 3.2.2</a>) are not universally unique; therefore, they are only
        valid within the scope of the current administrative domain.  This
        means that any bundle using a Private Use ipn EID as a bundle source
        or bundle destination <span class="bcp14">MUST NOT</span> be allowed to cross
        administrative domains.  All implementations that could be deployed as
        a gateway between administrative domains <span class="bcp14">MUST</span> be
        sufficiently configurable to ensure that this is enforced, and
        operators <span class="bcp14">MUST</span> ensure correct configuration.<a href="#section-5.5-1" class="pilcrow">¶</a></p>
<p id="section-5.5-2">Private Use ipn EIDs <span class="bcp14">MUST NOT</span> be present in any
        other part of a bundle that is destined for another administrative
        domain when the lack of uniqueness prevents correct operation. For
        example, a Private Use ipn EID <span class="bcp14">MUST NOT</span> be used as a
        BPSec <span>[<a href="#RFC9172" class="cite xref">RFC9172</a>]</span> security source for
        a bundle when the bundle is destined for a different administrative
        domain.<a href="#section-5.5-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="well-known-service-numbers">
<section id="section-5.6">
        <h3 id="name-well-known-service-numbers">
<a href="#section-5.6" class="section-number selfRef">5.6. </a><a href="#name-well-known-service-numbers" class="section-name selfRef">Well-Known Service Numbers</a>
        </h3>
<p id="section-5.6-1">It is convenient for BPv7 services that have a public specification
        and wide adoption to be identified by a pre-agreed default Service
        Number, so that unless overridden by explicit configuration, such services
        can be sensibly assumed to be operating on the well-known Service
        Number on a particular node.<a href="#section-5.6-1" class="pilcrow">¶</a></p>
<p id="section-5.6-2">If a different service uses the number, or the service uses a
        different number, BPv7 will continue to operate, but some
        configuration may be required to make the individual service
        operational.<a href="#section-5.6-2" class="pilcrow">¶</a></p>
<p id="section-5.6-3">A new IANA registry, "'ipn' Scheme URI Well-Known Service Numbers
        for BPv7", is defined for the registration of well-known BPv7 Service
        Numbers; see <a href="#iana-service-numbers" class="auto internal xref">Section 9.3</a>.  This registry
        records the assignments of Service Numbers for well-known services
        and also explicitly reserves ranges for both experimentation and
        Private Use.<a href="#section-5.6-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="administrative-endpoints">
<section id="section-5.7">
        <h3 id="name-administrative-endpoints">
<a href="#section-5.7" class="section-number selfRef">5.7. </a><a href="#name-administrative-endpoints" class="section-name selfRef">Administrative Endpoints</a>
        </h3>
<p id="section-5.7-1">The service identified by a Service Number of zero (0)
        <span class="bcp14">MUST</span> be interpreted as the Administrative Endpoint of
        the node, as defined in <span><a href="https://rfc-editor.org/rfc/rfc9171#section-3.2" class="relref">Section 3.2</a> of [<a href="#RFC9171" class="cite xref">RFC9171</a>]</span>.<a href="#section-5.7-1" class="pilcrow">¶</a></p>
<p id="section-5.7-2">Non-zero Service Numbers <span class="bcp14">MUST NOT</span> be used to
        identify the Administrative Endpoint of a bundle node in an ipn
        EID.<a href="#section-5.7-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="cbor-representation-of-ipn-uris-with-bpv7">
<section id="section-6">
      <h2 id="name-cbor-representation-of-ipn-">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-cbor-representation-of-ipn-" class="section-name selfRef">CBOR Representation of ipn URIs with BPv7</a>
      </h2>
<p id="section-6-1"><span><a href="https://rfc-editor.org/rfc/rfc9171#section-4.2.5.1" class="relref">Section 4.2.5.1</a> of [<a href="#RFC9171" class="cite xref">RFC9171</a>]</span>
      requires that any URI scheme used to represent BPv7 EIDs
      <span class="bcp14">MUST</span> define how the scheme-specific part of the URI
      scheme is encoded with Concise Binary Object Representation (CBOR) <span>[<a href="#RFC8949" class="cite xref">RFC8949</a>]</span>. To meet this
      requirement, this section describes the CBOR encoding and decoding
      approach for ipn EIDs. The formal definition of the CBOR representation
      is specified; see <a href="#cbor-encoding" class="auto internal xref">Section 6.3</a>.<a href="#section-6-1" class="pilcrow">¶</a></p>
<div id="ipn-eid-cbor-encoding">
<section id="section-6.1">
        <h3 id="name-ipn-eid-cbor-encoding">
<a href="#section-6.1" class="section-number selfRef">6.1. </a><a href="#name-ipn-eid-cbor-encoding" class="section-name selfRef">ipn EID CBOR Encoding</a>
        </h3>
<p id="section-6.1-1">Generic URI approaches to encoding ipn EIDs are unlikely to be
        efficient because they do not consider the underlying structure of the
        'ipn' URI scheme. Since the creation of the 'ipn' URI scheme was motivated
        by the need for concise identification and rapid processing, the
        encoding of ipn EIDs maintains these properties.<a href="#section-6.1-1" class="pilcrow">¶</a></p>
<p id="section-6.1-2">Fundamentally, ipn EIDs from <span>[<a href="#RFC9171" class="cite xref">RFC9171</a>]</span> are represented as
        a sequence of identifiers. In the text syntax, the numbers are
        separated with the '<code>.</code>' delimiter; in CBOR, this ordered
        series of numbers can be represented by an array. Therefore, when
        encoding ipn EIDs for use with BPv7, the scheme-specific part of an
        ipn URI <span class="bcp14">MUST</span> be represented as a CBOR array of either
        two (2) or three (3) elements. Each element of the array
        <span class="bcp14">MUST</span> be encoded as a single CBOR unsigned integer.<a href="#section-6.1-2" class="pilcrow">¶</a></p>
<p id="section-6.1-3">The structure and mechanisms of the two-element and three-element
        encodings are described below, and examples of the different encodings
        are provided in <a href="#cbor-examples" class="auto internal xref">Appendix B</a>.<a href="#section-6.1-3" class="pilcrow">¶</a></p>
<div id="two-encode">
<section id="section-6.1.1">
          <h4 id="name-two-element-scheme-specific">
<a href="#section-6.1.1" class="section-number selfRef">6.1.1. </a><a href="#name-two-element-scheme-specific" class="section-name selfRef">Two-Element Scheme-Specific Encoding</a>
          </h4>
<p id="section-6.1.1-1">In the two-element scheme-specific encoding of an ipn EID, the
          first element of the array is an encoding of the FQNN (<a href="#fqnn" class="auto internal xref">Section 3.3.1</a>), and the second
          element of the array is the ipn EID Service Number.<a href="#section-6.1.1-1" class="pilcrow">¶</a></p>
<p id="section-6.1.1-2">The FQNN encoding <span class="bcp14">MUST</span> be a 64-bit unsigned
          integer constructed in the following way:<a href="#section-6.1.1-2" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-6.1.1-3">
<li id="section-6.1.1-3.1">
              <p id="section-6.1.1-3.1.1">The least significant 32 bits <span class="bcp14">MUST</span> represent
              the Node Number associated with the ipn EID.<a href="#section-6.1.1-3.1.1" class="pilcrow">¶</a></p>
</li>
            <li id="section-6.1.1-3.2">
              <p id="section-6.1.1-3.2.1">The most significant 32 bits <span class="bcp14">MUST</span> represent
              the Allocator Identifier associated with the ipn EID.<a href="#section-6.1.1-3.2.1" class="pilcrow">¶</a></p>
</li>
          </ol>
<p id="section-6.1.1-4">For example, the ipn EID of <code>ipn:977000.100.1</code> has an FQNN
          of <code>(977000,100)</code>, which would be encoded as
          <code>0xEE868_00000064</code>.  The resulting two-element array
          <code>[0xEE868_00000064, 0x01]</code> would be encoded in CBOR as the
          following 11-octet sequence:<a href="#section-6.1.1-4" class="pilcrow">¶</a></p>
<div class="lang-cbor sourcecode" id="section-6.1.1-5">
<pre>
82                        # 2-Element Endpoint Encoding
   02                     # uri-code: 2 ('ipn' URI scheme)
   82                     # 2-Element ipn EID encoding
      1B 000EE86800000064 # Fully Qualified Node Number
      01                  # Service Number
</pre><a href="#section-6.1.1-5" class="pilcrow">¶</a>
</div>
<p id="section-6.1.1-6">The two-element scheme-specific encoding provides backwards
          compatibility with the encoding provided in <span><a href="https://rfc-editor.org/rfc/rfc9171#section-4.2.5.1.2" class="relref">Section 4.2.5.1.2</a> of [<a href="#RFC9171" class="cite xref">RFC9171</a>]</span>. When used
          in this way, the encoding of the FQNN replaces the use of the Node
          Number that was specified in <span>[<a href="#RFC9171" class="cite xref">RFC9171</a>]</span>. When the
          Node Number is allocated by the Default Allocator (<a href="#default-allocator" class="auto internal xref">Section 3.2.2</a>), the encoding of
          the FQNN and the encoding of the Node Number from <span>[<a href="#RFC9171" class="cite xref">RFC9171</a>]</span> are identical.<a href="#section-6.1.1-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="three-encode">
<section id="section-6.1.2">
          <h4 id="name-three-element-scheme-specif">
<a href="#section-6.1.2" class="section-number selfRef">6.1.2. </a><a href="#name-three-element-scheme-specif" class="section-name selfRef">Three-Element Scheme-Specific Encoding</a>
          </h4>
<p id="section-6.1.2-1">In the three-element scheme-specific encoding of an ipn EID:<a href="#section-6.1.2-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-6.1.2-2">
     <li id="section-6.1.2-2.1">the first element of the array is the Allocator Identifier,<a href="#section-6.1.2-2.1" class="pilcrow">¶</a>
</li>
            <li id="section-6.1.2-2.2">the second element of the array is the Node Number, and<a href="#section-6.1.2-2.2" class="pilcrow">¶</a>
</li>
            <li id="section-6.1.2-2.3">the third element of the array is the Service Number.<a href="#section-6.1.2-2.3" class="pilcrow">¶</a>
</li>
          </ol>
<p id="section-6.1.2-3">For example, the ipn EID of <code>ipn:977000.100.1</code> would
          result in the three-element array of <code>[977000,100,1]</code>, which
          would be encoded in CBOR as the following 9-octet sequence:<a href="#section-6.1.2-3" class="pilcrow">¶</a></p>
<div class="lang-cbor sourcecode" id="section-6.1.2-4">
<pre>
82                # 2-Element Endpoint Encoding
   02             # uri-code: 2 ('ipn' URI scheme)
   83             # 3-Element ipn EID encoding
      1A 000EE868 # Allocator Identifier
      64          # Node Number
      01          # Service Number
</pre><a href="#section-6.1.2-4" class="pilcrow">¶</a>
</div>
<p id="section-6.1.2-5">The three-element scheme-specific encoding allows for a more
          efficient representation of ipn EIDs using smaller Allocator
          Identifiers, and implementations are <span class="bcp14">RECOMMENDED</span> to
          use this encoding scheme unless explicitly mitigating for
          interoperability issues; see <a href="#compatibility" class="auto internal xref">Section 7.1</a>.<a href="#section-6.1.2-5" class="pilcrow">¶</a></p>
<p id="section-6.1.2-6">When encoding an ipn EID using the Default Allocator (<a href="#default-allocator" class="auto internal xref">Section 3.2.2</a>) with this
          encoding scheme, the first element of the array is the value zero
          (0).  In this case, using the equivalent two-element scheme-specific
   encoding (<a href="#two-encode" class="auto internal xref">Section 6.1.1</a>) will
          result in a more concise CBOR representation; therefore, it is
          <span class="bcp14">RECOMMENDED</span> that implementations use that encoding
          instead.<a href="#section-6.1.2-6" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="ipn-eid-cbor-decoding">
<section id="section-6.2">
        <h3 id="name-ipn-eid-cbor-decoding">
<a href="#section-6.2" class="section-number selfRef">6.2. </a><a href="#name-ipn-eid-cbor-decoding" class="section-name selfRef">ipn EID CBOR Decoding</a>
        </h3>
<p id="section-6.2-1">The presence of different scheme-specific encodings does not
        introduce any decoding ambiguity.<a href="#section-6.2-1" class="pilcrow">¶</a></p>
<p id="section-6.2-2">An ipn EID CBOR decoder can reconstruct an ipn EID using the
        following logic. In this description, the term <code>enc_eid</code> refers
        to the CBOR-encoded ipn EID, and the term <code>ipn_eid</code> refers to
        the decoded ipn EID.<a href="#section-6.2-2" class="pilcrow">¶</a></p>
<div class="lang-pseudocode sourcecode" id="section-6.2-3">
<pre>
if enc_eid.len() == 3
{
  ipn_eid.allocator_identifier := enc_eid[0];
  ipn_eid.node_number := enc_eid[1];
  ipn_eid.service_number := enc_eid[2];
}
else if enc_eid.len() == 2
{
  ipn_eid.allocator_identifier := enc_eid[0] &gt;&gt; 32;
  ipn_eid.node_number := enc_eid[0] &amp; (2^(32-1));
  ipn_eid.service_number := enc_eid[1];
}
</pre><a href="#section-6.2-3" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="cbor-encoding">
<section id="section-6.3">
        <h3 id="name-ipn-uri-scheme-cbor-syntax">
<a href="#section-6.3" class="section-number selfRef">6.3. </a><a href="#name-ipn-uri-scheme-cbor-syntax" class="section-name selfRef">'ipn' URI Scheme CBOR Syntax</a>
        </h3>
<p id="section-6.3-1">When encoded in CBOR <span>[<a href="#RFC8949" class="cite xref">RFC8949</a>]</span>, a BPv7 endpoint identified by an ipn URI
        <span class="bcp14">MUST</span> comply with the following Concise Data Definition
        Language (CDDL) <span>[<a href="#RFC8610" class="cite xref">RFC8610</a>]</span> specification:<a href="#section-6.3-1" class="pilcrow">¶</a></p>
<div class="lang-cddl sourcecode" id="section-6.3-2">
<pre>
eid = $eid .within eid-structure

eid-structure = [
  uri-code: uint,
  SSP: any
]

; ... Syntax for other uri-code values defined in RFC 9171 ...

$eid /= [
  uri-code: 2,
  SSP: ipn-ssp2 / ipn-ssp3
]
ipn-ssp2 = [
  fqnn: uint,  ; packed value
  service-number: uint
]
ipn-ssp3 = [
  allocator-identifier: uint .lt 4294967296,
  node-number: uint .lt 4294967296,
  service-number: uint
]
</pre><a href="#section-6.3-2" class="pilcrow">¶</a>
</div>
<p id="section-6.3-3">Note: The <code>node-number</code> component will be the numeric
        representation of the concatenation of the Allocator Identifier and
        Node Number when the two-element encoding scheme has been used.<a href="#section-6.3-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="ipn-eid-matching">
<section id="section-6.4">
        <h3 id="name-ipn-eid-matching">
<a href="#section-6.4" class="section-number selfRef">6.4. </a><a href="#name-ipn-eid-matching" class="section-name selfRef">ipn EID Matching</a>
        </h3>
<p id="section-6.4-1">Regardless of whether the two-element or three-element
        scheme-specific encoding is used, ipn EID matching <span class="bcp14">MUST</span>
        be performed on the decoded EID information itself. Different
        encodings of the same ipn EID <span class="bcp14">MUST</span> be treated as
        equivalent when performing EID-specific functions.<a href="#section-6.4-1" class="pilcrow">¶</a></p>
<p id="section-6.4-2">For example, the ipn EID of <code>ipn:977000.100.1</code> can be
        represented as either the two-element encoding of
        <code>0x821B000EE8680000006401</code> or the three-element encoding of
        <code>0x831A000EE868186401</code>. While message integrity and other
        syntax-based checks may treat these values differently, any EID-based
        comparisons <span class="bcp14">MUST</span> treat these values the same: as
        representing the ipn EID <code>ipn:977000.100.1</code>.<a href="#section-6.4-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="special-considerations">
<section id="section-7">
      <h2 id="name-special-considerations">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-special-considerations" class="section-name selfRef">Special Considerations</a>
      </h2>
<p id="section-7-1">The 'ipn' URI scheme provides a compact and hierarchical mechanism for
      identifying services on network nodes. There is a significant amount of
      utility in the 'ipn' URI scheme approach to identification. However,
      implementers should take into consideration the following observations
      on the use of the 'ipn' URI scheme, particularly in regard to
      interoperability with implementations that pre-date this
      specification.<a href="#section-7-1" class="pilcrow">¶</a></p>
<div id="compatibility">
<section id="section-7.1">
        <h3 id="name-scheme-compatibility">
<a href="#section-7.1" class="section-number selfRef">7.1. </a><a href="#name-scheme-compatibility" class="section-name selfRef">Scheme Compatibility</a>
        </h3>
<p id="section-7.1-1">The 'ipn' URI scheme update that has been presented in this document
        preserves backwards compatibility with any 'ipn' URI scheme going back
        to the provisional definition of the 'ipn' scheme in the experimental
        specification "Compressed Bundle Header Encoding (CBHE)" <span>[<a href="#RFC6260" class="cite xref">RFC6260</a>]</span> in 2011. This means that any ipn URI that was valid
        prior to the publication of this update remains a valid ipn URI.<a href="#section-7.1-1" class="pilcrow">¶</a></p>
<p id="section-7.1-2">Similarly, the two-element
        scheme-specific encoding (<a href="#two-encode" class="auto internal xref">Section 6.1.1</a>) is also
 backwards compatible with the
        encoding of ipn URIs provided in <span>[<a href="#RFC9171" class="cite xref">RFC9171</a>]</span>. Any
        existing implementation compliant with <span>[<a href="#RFC9171" class="cite xref">RFC9171</a>]</span> will
        produce an ipn URI encoding in compliance with this specification.<a href="#section-7.1-2" class="pilcrow">¶</a></p>
<p id="section-7.1-3">The introduction of optional non-default Allocator Identifiers and
        a three-element scheme-specific encoding does not make this ipn URI
        scheme update forwards compatible. Existing implementations for which
        support of this update is desired <span class="bcp14">MUST</span> be updated to be
        able to process non-default Allocator Identifiers and three-element
        scheme-specific encodings. It is <span class="bcp14">RECOMMENDED</span> that BPv7
        implementations upgrade to process these new features to benefit from
        the scalability provided by Allocator Identifiers and the encoding
        efficiencies provided by the three-element encoding.<a href="#section-7.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="cbor-representation-interoperability">
<section id="section-7.2">
        <h3 id="name-cbor-representation-interop">
<a href="#section-7.2" class="section-number selfRef">7.2. </a><a href="#name-cbor-representation-interop" class="section-name selfRef">CBOR Representation Interoperability</a>
        </h3>
<p id="section-7.2-1">Care must be taken when deploying implementations that default to
        using the three-element encoding in networks that include
        implementations that only support the two-element encoding <span>[<a href="#RFC9171" class="cite xref">RFC9171</a>]</span>. Because the existing implementations will reject
        bundles that use the three-element encoding as malformed, correct
        forwarding of semantically valid bundles will fail.  The used
        mitigation for this issue depends on the nature of the
        interoperability required by the deployment. Techniques can
        include:<a href="#section-7.2-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7.2-2.1">
            <p id="section-7.2-2.1.1">A configuration option indicating when an implementation must
            use the two-element encoding for all ipn EIDs when processing
            bundles destined to a given endpoint. This would be suitable when
            adding a newer implementation to a network of existing
            implementations.<a href="#section-7.2-2.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-7.2-2.2">
            <p id="section-7.2-2.2.1">Selective bundle encapsulation, whereby bundles that are known
            to originate from implementations that do not support the
            three-element encoding are tunneled across regions of the network
            that require the three-element encoding. This would utilize
            specially configured "gateway nodes" to perform the tunnel
            encapsulation and decapsulation and would be suitable when
            joining an existing network to a larger network.<a href="#section-7.2-2.2.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-7.2-3">Techniques that do not mitigate the problem include:<a href="#section-7.2-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7.2-4.1">
            <p id="section-7.2-4.1.1">Heuristic determination of the correct encoding to use when
            responding to a bundle by examining the incoming bundle. It is not
            possible to determine whether the two-element encoding is required
            by the destination when composing a new bundle in response to the
            receipt of a bundle, such as a status report, because ipn EIDs
            assigned by the Default Allocator use the two-element encoding,
            whether or not the implementation supports the three-element encoding.<a href="#section-7.2-4.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-7.2-4.2">
            <p id="section-7.2-4.2.1">Transcoding bundles at intermediate nodes. <span>[<a href="#RFC9171" class="cite xref">RFC9171</a>]</span> requires the bundle primary block to be immutable,
            and even if ipn EIDs in the primary block do not require
            rewriting, other blocks including the payload block may include
            ipn EIDs of which the transcoding node is unaware.

     Additionally,
            bundle blocks may be covered by bundle
            security blocks or bundle integrity blocks <span>[<a href="#RFC9172" class="cite xref">RFC9172</a>]</span>, making them
            immutable.<a href="#section-7.2-4.2.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="text-representation-compatibility">
<section id="section-7.3">
        <h3 id="name-text-representation-compati">
<a href="#section-7.3" class="section-number selfRef">7.3. </a><a href="#name-text-representation-compati" class="section-name selfRef">Text Representation Compatibility</a>
        </h3>
<p id="section-7.3-1">The textual representation of ipn URIs is not forwards compatible
        with <span>[<a href="#RFC9171" class="cite xref">RFC9171</a>]</span>. Therefore, care must be taken when
        deploying implementations or tooling that use the textural
        representation of ipn URIs and support for non-default Allocator
        Identifiers is required.  For example, <span><a href="https://rfc-editor.org/rfc/rfc9174#section-4.6" class="relref">Section 4.6</a> of [<a href="#RFC9174" class="cite xref">RFC9174</a>]</span> specifies that the session
        initialization message "...<span class="bcp14">SHALL</span> contain the UTF-8
        encoded node ID of the entity that sent the SESS_INIT message."  In
        such cases, the considerations that apply to the use of the three-element
        CBOR encoding also apply to the text representation when a non-default
        Allocator Identifier is present.<a href="#section-7.3-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="bundle-protocol-version-6-compatibility">
<section id="section-7.4">
        <h3 id="name-bundle-protocol-version-6-c">
<a href="#section-7.4" class="section-number selfRef">7.4. </a><a href="#name-bundle-protocol-version-6-c" class="section-name selfRef">Bundle Protocol Version 6 Compatibility</a>
        </h3>
<p id="section-7.4-1">This document updates the use of ipn EIDs for BPv7; however, the 'ipn'
        URI scheme was originally defined for use with BPv6.  This document does not update any of the behaviors,
        wire-formats, or mechanisms of BPv6.  Therefore, ipn EIDs with
        non-default Allocator Identifiers <span class="bcp14">MUST NOT</span> be used with
        BPv6, and the Allocator Identifier prefix <span class="bcp14">MUST</span> be
        omitted from any textural representation.  It should be noted that
        BPv6 has no concept of LocalNode EIDs and will therefore treat such
        EIDs as routable.<a href="#section-7.4-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="late-binding">
<section id="section-7.5">
        <h3 id="name-late-binding">
<a href="#section-7.5" class="section-number selfRef">7.5. </a><a href="#name-late-binding" class="section-name selfRef">Late Binding</a>
        </h3>
<p id="section-7.5-1"><span>[<a href="#RFC9171" class="cite xref">RFC9171</a>]</span> mandates the concept of the "late binding" of
        an EID, whereby the address of the destination of a bundle is resolved
        from its identifier hop-by-hop as it transits a BPv7 network.  This
        per-hop binding of identifiers to addresses underlines the fact that
        EIDs are purely names and should not carry any implicit or explicit
        information concerning the current location or reachability of an
        identified node and service.  This removes the need to rename a node
        as its location changes.<a href="#section-7.5-1" class="pilcrow">¶</a></p>
<p id="section-7.5-2">The concept of late binding is preserved in this 'ipn' URI
        scheme. Elements of an ipn URI <span class="bcp14">MUST NOT</span> be regarded as
        carrying information relating to location, reachability, or other
        addressing/routing concerns.<a href="#section-7.5-2" class="pilcrow">¶</a></p>
<p id="section-7.5-3">An example of incorrect behavior would be to assume that a given
        Allocator assigns Node Numbers derived from link-layer addresses and
        to interpret the Node Number component of an ipn URI directly as a
        link-layer address. No matter the mechanism an Allocator uses for the
        assignment of Node Numbers, they remain just numbers, without
        additional meaning.<a href="#section-7.5-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="security-considerations">
<section id="section-8">
      <h2 id="name-security-considerations">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-8-1">This section updates the security considerations from <span><a href="https://rfc-editor.org/rfc/rfc9171#section-4.2.5.1.2" class="relref">Section 4.2.5.1.2</a> of [<a href="#RFC9171" class="cite xref">RFC9171</a>]</span> to account for
      the inclusion of Allocator Identifiers in the 'ipn' URI scheme when used
      with BPv7.<a href="#section-8-1" class="pilcrow">¶</a></p>
<div id="reliability-and-consistency">
<section id="section-8.1">
        <h3 id="name-reliability-and-consistency">
<a href="#section-8.1" class="section-number selfRef">8.1. </a><a href="#name-reliability-and-consistency" class="section-name selfRef">Reliability and Consistency</a>
        </h3>
<p id="section-8.1-1">None of the BPv7 endpoints identified by ipn EIDs are guaranteed to
        be reachable at any time, and the identity of the processing entities
        operating on those endpoints is never guaranteed by the Bundle
        Protocol itself. Verification of the signature provided by the Block
        Integrity Block (BIB) targeting the bundle's primary block, as defined by
       "Bundle Protocol Security (BPSec)" <span>[<a href="#RFC9172" class="cite xref">RFC9172</a>]</span>, is required for
        this purpose.<a href="#section-8.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="malicious-construction">
<section id="section-8.2">
        <h3 id="name-malicious-construction">
<a href="#section-8.2" class="section-number selfRef">8.2. </a><a href="#name-malicious-construction" class="section-name selfRef">Malicious Construction</a>
        </h3>
<p id="section-8.2-1">Malicious construction of a conformant ipn URI is limited to the
        malicious selection of Allocator Identifiers, Node Numbers, and
        Service Numbers. That is, a maliciously constructed ipn EID could be
        used to direct a bundle to an endpoint that might be damaged by the
        arrival of that bundle or, alternatively, to declare a false source
        for a bundle and thereby cause incorrect processing at a node that
        receives the bundle. In both cases (and indeed in all bundle
        processing), the node that receives a bundle should verify its
        authenticity and validity before operating on it in any way, such as with
        the use of BPSec <span>[<a href="#RFC9172" class="cite xref">RFC9172</a>]</span> and TCP Convergence Layer version 4 (TCPCLv4) with TLS <span>[<a href="#RFC9174" class="cite xref">RFC9174</a>]</span>.<a href="#section-8.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="back-end-transcoding">
<section id="section-8.3">
        <h3 id="name-back-end-transcoding">
<a href="#section-8.3" class="section-number selfRef">8.3. </a><a href="#name-back-end-transcoding" class="section-name selfRef">Back-End Transcoding</a>
        </h3>
<p id="section-8.3-1">The limited expressiveness of URIs of the 'ipn' scheme effectively
        eliminates the possibility of threats due to errors in back-end
        transcoding.<a href="#section-8.3-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="local-and-private-use-ipn-eids">
<section id="section-8.4">
        <h3 id="name-local-and-private-use-ipn-e">
<a href="#section-8.4" class="section-number selfRef">8.4. </a><a href="#name-local-and-private-use-ipn-e" class="section-name selfRef">Local and Private Use ipn EIDs</a>
        </h3>
<p id="section-8.4-1">Both LocalNode (<a href="#localnode-uri" class="auto internal xref">Section 3.4.2</a>) and Private Use (<a href="#private-use" class="auto internal xref">Section 3.4.3</a>) ipn URIs present a risk to the
        stability of deployed BPv7 networks.  If either type of ipn URI is
        allowed to propagate beyond the domain in which they are valid, then
        the required uniqueness of ipn URIs no longer holds, and this fact can
        be abused by a malicious node to prevent the correct functioning of
        the network as a whole.<a href="#section-8.4-1" class="pilcrow">¶</a></p>
<p id="section-8.4-2">See Sections <a href="#localnode-ipn-eids" class="auto internal xref">5.4</a> and
        <a href="#private-use-ipn-eids" class="auto internal xref">5.5</a> for
        required behaviors to mitigate against this form of abuse.<a href="#section-8.4-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sensitive-information">
<section id="section-8.5">
        <h3 id="name-sensitive-information">
<a href="#section-8.5" class="section-number selfRef">8.5. </a><a href="#name-sensitive-information" class="section-name selfRef">Sensitive Information</a>
        </h3>
<p id="section-8.5-1">Because ipn URIs are used only to represent the numeric identities
        of resources, the risk of disclosure of sensitive information due to
        interception of these URIs is minimal. Examination of ipn URIs could
        be used to support traffic analysis; where traffic analysis is a
        plausible danger, bundles should be conveyed by secure
        convergence-layer protocols that do not expose endpoint IDs, such as
        TCPCLv4 <span>[<a href="#RFC9174" class="cite xref">RFC9174</a>]</span>.<a href="#section-8.5-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="semantic-attacks">
<section id="section-8.6">
        <h3 id="name-semantic-attacks">
<a href="#section-8.6" class="section-number selfRef">8.6. </a><a href="#name-semantic-attacks" class="section-name selfRef">Semantic Attacks</a>
        </h3>
<p id="section-8.6-1">The simplicity of the 'ipn' URI scheme syntax minimizes the possibility
        of misinterpretation of a URI by a human user.<a href="#section-8.6-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="iana">
<section id="section-9">
      <h2 id="name-iana-considerations">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-9-1">The following sections detail the creation of
      two new IANA registries and the renaming of an existing IANA registry under the "Uniform Resource Identifier (URI) Schemes" registry group.<a href="#section-9-1" class="pilcrow">¶</a></p>
<p id="section-9-2">IANA has also updated the reference for the 'ipn' scheme to this document in the
      "Uniform Resource Identifier (URI) Schemes" registry.<a href="#section-9-2" class="pilcrow">¶</a></p>
<div id="iana-allocator-identifiers">
<section id="section-9.1">
        <h3 id="name-ipn-scheme-uri-allocator-id">
<a href="#section-9.1" class="section-number selfRef">9.1. </a><a href="#name-ipn-scheme-uri-allocator-id" class="section-name selfRef">'ipn' Scheme URI Allocator Identifiers Registry</a>
        </h3>
<p id="section-9.1-1">IANA has created a new registry titled "'ipn' Scheme
        URI Allocator Identifiers".  Using terms defined in <span>[<a href="#RFC8126" class="cite xref">RFC8126</a>]</span>, the registration procedures for this registry are:<a href="#section-9.1-1" class="pilcrow">¶</a></p>
<span id="name-registration-procedures-for"></span><div id="tab-ipn-allocator-identifiers-reg">
<table class="center" id="table-2">
          <caption>
<a href="#table-2" class="selfRef">Table 2</a>:
<a href="#name-registration-procedures-for" class="selfRef">Registration Procedures for the 'ipn' Scheme URI Allocator Identifiers Registry</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Range</th>
              <th class="text-left" rowspan="1" colspan="1">Registration Procedures</th>
              <th class="text-left" rowspan="1" colspan="1">Note</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">0..0xFFFF</td>
              <td class="text-left" rowspan="1" colspan="1">Expert Review</td>
              <td class="text-left" rowspan="1" colspan="1">Single Allocator Identifiers only</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">0x10000..0x3FFFFFFF</td>
              <td class="text-left" rowspan="1" colspan="1">Expert Review</td>
              <td class="text-left" rowspan="1" colspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">0x40000000..0x7FFFFFFF</td>
              <td class="text-left" rowspan="1" colspan="1">Experimental Use</td>
              <td class="text-left" rowspan="1" colspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">0x80000000..0xFFFFFFFF</td>
              <td class="text-left" rowspan="1" colspan="1">Reserved</td>
              <td class="text-left" rowspan="1" colspan="1"> Future Expansion</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">&gt;=0x100000000</td>
              <td class="text-left" rowspan="1" colspan="1">Reserved</td>
              <td class="text-left" rowspan="1" colspan="1"></td>
            </tr>
          </tbody>
        </table>
</div>
<p id="section-9.1-3">Each entry in this registry associates one or more Allocator
        Identifiers with a single organization. Within the registry, the
        organization is identified using the "Name" and "Change Controller"
        fields. It is expected that each identified organization will publish
        some listing of allocated Node Numbers, the pointer to which is
        listed in the "Reference" field of the registry.<a href="#section-9.1-3" class="pilcrow">¶</a></p>
<p id="section-9.1-4">Note that the "Single Allocator Identifiers only" language in
        the registration procedure for this registry indicates that, within the
        indicated range, the allocation of a sequence of consecutive Allocator
        Identifiers to a single organization is prohibited.<a href="#section-9.1-4" class="pilcrow">¶</a></p>
<p id="section-9.1-5">The initial values in the registry are:<a href="#section-9.1-5" class="pilcrow">¶</a></p>
<span id="name-initial-values-in-the-ipn-s"></span><div id="tab-ipn-allocator-identifiers-vals">
<table class="center" id="table-3">
          <caption>
<a href="#table-3" class="selfRef">Table 3</a>:
<a href="#name-initial-values-in-the-ipn-s" class="selfRef">Initial Values in the 'ipn' Scheme URI Allocator Identifiers Registry</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Name</th>
              <th class="text-left" rowspan="1" colspan="1">Range (dec)</th>
              <th class="text-left" rowspan="1" colspan="1">Range (hex)</th>
              <th class="text-left" rowspan="1" colspan="1">Range Length (Bits)</th>
              <th class="text-left" rowspan="1" colspan="1">Reference</th>
              <th class="text-left" rowspan="1" colspan="1">Change Controller</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">Default Allocator</td>
              <td class="text-left" rowspan="1" colspan="1">0</td>
              <td class="text-left" rowspan="1" colspan="1">0x0</td>
              <td class="text-left" rowspan="1" colspan="1">0</td>
              <td class="text-left" rowspan="1" colspan="1">RFC 9758, <a href="#default-allocator" class="auto internal xref">Section 3.2.2</a>
</td>
              <td class="text-left" rowspan="1" colspan="1">IETF</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">Example Range</td>
              <td class="text-left" rowspan="1" colspan="1">974848-978943</td>
              <td class="text-left" rowspan="1" colspan="1">0xEE000-0xEEFFF</td>
              <td class="text-left" rowspan="1" colspan="1">12 bits</td>
              <td class="text-left" rowspan="1" colspan="1">RFC 9758</td>
              <td class="text-left" rowspan="1" colspan="1">IETF</td>
            </tr>
          </tbody>
        </table>
</div>
<p id="section-9.1-7">The "Example Range" is assigned for use in examples in
        documentation and sample code.<a href="#section-9.1-7" class="pilcrow">¶</a></p>
<div id="guidance-for-designated-experts">
<section id="section-9.1.1">
          <h4 id="name-guidance-for-designated-exp">
<a href="#section-9.1.1" class="section-number selfRef">9.1.1. </a><a href="#name-guidance-for-designated-exp" class="section-name selfRef">Guidance for Designated Experts</a>
          </h4>
<p id="section-9.1.1-1">Due to the nature of the CBOR encoding of unsigned integers used
          for Allocator Identifiers with BPv7, Allocator Identifiers with a
          low value number are encoded more efficiently than larger numbers.
          This makes low value Allocator Identifiers more desirable than
          larger Allocator Identifiers; therefore, care must be taken when
          assigning Allocator Identifier ranges to ensure that a single
          applicant is not granted a large swathe of highly desirable numbers
          at the expense of other applicants.  To this end, designated experts
          are strongly recommended to familiarize themselves with the CBOR
          encoding of unsigned integers in <span>[<a href="#RFC8949" class="cite xref">RFC8949</a>]</span>.<a href="#section-9.1.1-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="iana-node-numbers">
<section id="section-9.2">
        <h3 id="name-ipn-scheme-uri-default-allo">
<a href="#section-9.2" class="section-number selfRef">9.2. </a><a href="#name-ipn-scheme-uri-default-allo" class="section-name selfRef">'ipn' Scheme URI Default Allocator Node Numbers Registry</a>
        </h3>
<p id="section-9.2-1">IANA has renamed the "CBHE Node Numbers" registry
        (defined in <span><a href="https://rfc-editor.org/rfc/rfc7116#section-3.2.1" class="relref">Section 3.2.1</a> of [<a href="#RFC7116" class="cite xref">RFC7116</a>]</span>)
        to the "'ipn' Scheme URI Default Allocator Node Numbers" registry and moved it to the "Uniform Resource Identifier (URI) Schemes" registry group. IANA has added the following note to the "CBHE Node Numbers" registry:<a href="#section-9.2-1" class="pilcrow">¶</a></p>
<blockquote id="section-9.2-2">
Note: Renamed "CBHE Node Numbers" as "'ipn' Scheme URI Default Allocator Node Numbers" and moved it to &lt;<span><a href="https://www.iana.org/assignments/uri-schemes">https://www.iana.org/assignments/uri-schemes</a></span>&gt; per RFC 9758.<a href="#section-9.2-2" class="pilcrow">¶</a>
</blockquote>
<p id="section-9.2-3">Using terms defined in <span>[<a href="#RFC8126" class="cite xref">RFC8126</a>]</span>, the registration procedures for this registry are:<a href="#section-9.2-3" class="pilcrow">¶</a></p>
<span id="name-registration-procedures-for-"></span><div id="tab-ipn-node-numbers-reg">
<table class="center" id="table-4">
          <caption>
<a href="#table-4" class="selfRef">Table 4</a>:
<a href="#name-registration-procedures-for-" class="selfRef">Registration Procedures for the 'ipn' Scheme URI Default Allocator Node Numbers Registry</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Range</th>
              <th class="text-left" rowspan="1" colspan="1">Registration Procedures</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">1..0x3FFF</td>
              <td class="text-left" rowspan="1" colspan="1">Private Use</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">0x4000..0xFFFFFFFE</td>
              <td class="text-left" rowspan="1" colspan="1">Expert Review</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">&gt;=0x100000000</td>
              <td class="text-left" rowspan="1" colspan="1">Invalid</td>
            </tr>
          </tbody>
        </table>
</div>
<p id="section-9.2-5">IANA has registered the following values in the "'ipn' Scheme URI Default Allocator Node Numbers" registry:<a href="#section-9.2-5" class="pilcrow">¶</a></p>
<span id="name-new-values-in-the-ipn-schem"></span><div id="tab-ipn-scheme-uri-DA-identifiers">
<table class="center" id="table-5">
          <caption>
<a href="#table-5" class="selfRef">Table 5</a>:
<a href="#name-new-values-in-the-ipn-schem" class="selfRef">New Values in the 'ipn' Scheme URI Default Allocator Node Numbers Registry</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Value</th>
              <th class="text-left" rowspan="1" colspan="1">Description</th>
              <th class="text-left" rowspan="1" colspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">0</td>
              <td class="text-left" rowspan="1" colspan="1">Reserved for the Null ipn URI</td>
              <td class="text-left" rowspan="1" colspan="1">
                <span>[<a href="#RFC7116" class="cite xref">RFC7116</a>]</span> and RFC 9758, <a href="#null-uri" class="auto internal xref">Section 3.1</a>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">4294967295</td>
              <td class="text-left" rowspan="1" colspan="1">Reserved for LocalNode ipn URIs</td>
              <td class="text-left" rowspan="1" colspan="1">RFC 9758, <a href="#localnode-uri" class="auto internal xref">Section 3.4.2</a>
</td>
            </tr>
          </tbody>
        </table>
</div>
<p id="section-9.2-7">As IANA has only renamed the registry, all existing
        registrations will remain.<a href="#section-9.2-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="iana-service-numbers">
<section id="section-9.3">
        <h3 id="name-ipn-scheme-uri-well-known-s">
<a href="#section-9.3" class="section-number selfRef">9.3. </a><a href="#name-ipn-scheme-uri-well-known-s" class="section-name selfRef">'ipn' Scheme URI Well-Known Service Numbers for BPv7 Registry</a>
        </h3>
<p id="section-9.3-1">IANA has created a new registry titled "'ipn' Scheme
        URI Well-Known Service Numbers for BPv7".  Using terms defined in
        <span>[<a href="#RFC8126" class="cite xref">RFC8126</a>]</span>, the registration procedures for this registry are:<a href="#section-9.3-1" class="pilcrow">¶</a></p>
<span id="name-registration-procedures-for-t"></span><div id="tab-ipn-service-numbers-reg">
<table class="center" id="table-6">
          <caption>
<a href="#table-6" class="selfRef">Table 6</a>:
<a href="#name-registration-procedures-for-t" class="selfRef">Registration Procedures for the 'ipn' Scheme URI Well-Known Service Numbers for BPv7 Registry</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Range</th>
              <th class="text-left" rowspan="1" colspan="1">Registration Procedures</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">1..127</td>
              <td class="text-left" rowspan="1" colspan="1">Private Use</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">128..255</td>
              <td class="text-left" rowspan="1" colspan="1">Standards Action</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">0x0100..0x7FFF</td>
              <td class="text-left" rowspan="1" colspan="1">Private Use</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">0x8000..0xFFFF</td>
              <td class="text-left" rowspan="1" colspan="1">Specification Required</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">0x10000..0xFFFFFFFF</td>
              <td class="text-left" rowspan="1" colspan="1">Private Use</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">&gt;=0x100000000</td>
              <td class="text-left" rowspan="1" colspan="1">Reserved for future expansion</td>
            </tr>
          </tbody>
        </table>
</div>
<p id="section-9.3-3">The initial values in the registry are:<a href="#section-9.3-3" class="pilcrow">¶</a></p>
<span id="name-initial-values-in-the-ipn-sc"></span><div id="tab-ipn-service-numbers-vals">
<table class="center" id="table-7">
          <caption>
<a href="#table-7" class="selfRef">Table 7</a>:
<a href="#name-initial-values-in-the-ipn-sc" class="selfRef">Initial Values in the 'ipn' Scheme URI Well-Known Service Numbers for BPv7 Registry</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Value</th>
              <th class="text-left" rowspan="1" colspan="1">Description</th>
              <th class="text-left" rowspan="1" colspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">0</td>
              <td class="text-left" rowspan="1" colspan="1">The Administrative Endpoint</td>
              <td class="text-left" rowspan="1" colspan="1">
                <span>[<a href="#RFC9171" class="cite xref">RFC9171</a>]</span> and RFC 9758, <a href="#administrative-endpoints" class="auto internal xref">Section 5.7</a>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">0xEEE0..0xEEEF</td>
              <td class="text-left" rowspan="1" colspan="1">Example Range</td>
              <td class="text-left" rowspan="1" colspan="1">RFC 9758</td>
            </tr>
          </tbody>
        </table>
</div>
<p id="section-9.3-5">The "Example Range" is assigned for use in examples in
        documentation and sample code.<a href="#section-9.3-5" class="pilcrow">¶</a></p>
<div id="guidance-for-designated-experts-1">
<section id="section-9.3.1">
          <h4 id="name-guidance-for-designated-expe">
<a href="#section-9.3.1" class="section-number selfRef">9.3.1. </a><a href="#name-guidance-for-designated-expe" class="section-name selfRef">Guidance for Designated Experts</a>
          </h4>
<p id="section-9.3.1-1">This registry is intended to record the default Service Numbers
          for well-known, interoperable services that are available and of use to the
          entire BPv7 community; hence, all ranges not marked for Private Use
          <span class="bcp14">MUST</span> have a corresponding publicly available
          specification describing how one interfaces with the service.<a href="#section-9.3.1-1" class="pilcrow">¶</a></p>
<p id="section-9.3.1-2">Services that are specific to a particular deployment or
          co-operation may require a registry to reduce administrative burden,
          but do not require an entry in this registry.<a href="#section-9.3.1-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<section id="section-10">
      <h2 id="name-references">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<div id="sec-normative-references">
<section id="section-10.1">
        <h3 id="name-normative-references">
<a href="#section-10.1" class="section-number selfRef">10.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5234">[RFC5234]</dt>
        <dd>
<span class="refAuthor">Crocker, D., Ed.</span> and <span class="refAuthor">P. Overell</span>, <span class="refTitle">"Augmented BNF for Syntax Specifications: ABNF"</span>, <span class="seriesInfo">STD 68</span>, <span class="seriesInfo">RFC 5234</span>, <span class="seriesInfo">DOI 10.17487/RFC5234</span>, <time datetime="2008-01" class="refDate">January 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5234">https://www.rfc-editor.org/info/rfc5234</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6260">[RFC6260]</dt>
        <dd>
<span class="refAuthor">Burleigh, S.</span>, <span class="refTitle">"Compressed Bundle Header Encoding (CBHE)"</span>, <span class="seriesInfo">RFC 6260</span>, <span class="seriesInfo">DOI 10.17487/RFC6260</span>, <time datetime="2011-05" class="refDate">May 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6260">https://www.rfc-editor.org/info/rfc6260</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7116">[RFC7116]</dt>
        <dd>
<span class="refAuthor">Scott, K.</span> and <span class="refAuthor">M. Blanchet</span>, <span class="refTitle">"Licklider Transmission Protocol (LTP), Compressed Bundle Header Encoding (CBHE), and Bundle Protocol IANA Registries"</span>, <span class="seriesInfo">RFC 7116</span>, <span class="seriesInfo">DOI 10.17487/RFC7116</span>, <time datetime="2014-02" class="refDate">February 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7116">https://www.rfc-editor.org/info/rfc7116</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8126">[RFC8126]</dt>
        <dd>
<span class="refAuthor">Cotton, M.</span>, <span class="refAuthor">Leiba, B.</span>, and <span class="refAuthor">T. Narten</span>, <span class="refTitle">"Guidelines for Writing an IANA Considerations Section in RFCs"</span>, <span class="seriesInfo">BCP 26</span>, <span class="seriesInfo">RFC 8126</span>, <span class="seriesInfo">DOI 10.17487/RFC8126</span>, <time datetime="2017-06" class="refDate">June 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8126">https://www.rfc-editor.org/info/rfc8126</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8610">[RFC8610]</dt>
        <dd>
<span class="refAuthor">Birkholz, H.</span>, <span class="refAuthor">Vigano, C.</span>, and <span class="refAuthor">C. Bormann</span>, <span class="refTitle">"Concise Data Definition Language (CDDL): A Notational Convention to Express Concise Binary Object Representation (CBOR) and JSON Data Structures"</span>, <span class="seriesInfo">RFC 8610</span>, <span class="seriesInfo">DOI 10.17487/RFC8610</span>, <time datetime="2019-06" class="refDate">June 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8610">https://www.rfc-editor.org/info/rfc8610</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8949">[RFC8949]</dt>
        <dd>
<span class="refAuthor">Bormann, C.</span> and <span class="refAuthor">P. Hoffman</span>, <span class="refTitle">"Concise Binary Object Representation (CBOR)"</span>, <span class="seriesInfo">STD 94</span>, <span class="seriesInfo">RFC 8949</span>, <span class="seriesInfo">DOI 10.17487/RFC8949</span>, <time datetime="2020-12" class="refDate">December 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8949">https://www.rfc-editor.org/info/rfc8949</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9171">[RFC9171]</dt>
      <dd>
<span class="refAuthor">Burleigh, S.</span>, <span class="refAuthor">Fall, K.</span>, and <span class="refAuthor">E. Birrane, III</span>, <span class="refTitle">"Bundle Protocol Version 7"</span>, <span class="seriesInfo">RFC 9171</span>, <span class="seriesInfo">DOI 10.17487/RFC9171</span>, <time datetime="2022-01" class="refDate">January 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9171">https://www.rfc-editor.org/info/rfc9171</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</div>
<div id="sec-informative-references">
<section id="section-10.2">
        <h3 id="name-informative-references">
<a href="#section-10.2" class="section-number selfRef">10.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="RFC1918">[RFC1918]</dt>
        <dd>
<span class="refAuthor">Rekhter, Y.</span>, <span class="refAuthor">Moskowitz, B.</span>, <span class="refAuthor">Karrenberg, D.</span>, <span class="refAuthor">de Groot, G. J.</span>, and <span class="refAuthor">E. Lear</span>, <span class="refTitle">"Address Allocation for Private Internets"</span>, <span class="seriesInfo">BCP 5</span>, <span class="seriesInfo">RFC 1918</span>, <span class="seriesInfo">DOI 10.17487/RFC1918</span>, <time datetime="1996-02" class="refDate">February 1996</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc1918">https://www.rfc-editor.org/info/rfc1918</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3986">[RFC3986]</dt>
        <dd>
<span class="refAuthor">Berners-Lee, T.</span>, <span class="refAuthor">Fielding, R.</span>, and <span class="refAuthor">L. Masinter</span>, <span class="refTitle">"Uniform Resource Identifier (URI): Generic Syntax"</span>, <span class="seriesInfo">STD 66</span>, <span class="seriesInfo">RFC 3986</span>, <span class="seriesInfo">DOI 10.17487/RFC3986</span>, <time datetime="2005-01" class="refDate">January 2005</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3986">https://www.rfc-editor.org/info/rfc3986</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4632">[RFC4632]</dt>
        <dd>
<span class="refAuthor">Fuller, V.</span> and <span class="refAuthor">T. Li</span>, <span class="refTitle">"Classless Inter-domain Routing (CIDR): The Internet Address Assignment and Aggregation Plan"</span>, <span class="seriesInfo">BCP 122</span>, <span class="seriesInfo">RFC 4632</span>, <span class="seriesInfo">DOI 10.17487/RFC4632</span>, <time datetime="2006-08" class="refDate">August 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4632">https://www.rfc-editor.org/info/rfc4632</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5050">[RFC5050]</dt>
        <dd>
<span class="refAuthor">Scott, K.</span> and <span class="refAuthor">S. Burleigh</span>, <span class="refTitle">"Bundle Protocol Specification"</span>, <span class="seriesInfo">RFC 5050</span>, <span class="seriesInfo">DOI 10.17487/RFC5050</span>, <time datetime="2007-11" class="refDate">November 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5050">https://www.rfc-editor.org/info/rfc5050</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9172">[RFC9172]</dt>
        <dd>
<span class="refAuthor">Birrane, III, E.</span> and <span class="refAuthor">K. McKeever</span>, <span class="refTitle">"Bundle Protocol Security (BPSec)"</span>, <span class="seriesInfo">RFC 9172</span>, <span class="seriesInfo">DOI 10.17487/RFC9172</span>, <time datetime="2022-01" class="refDate">January 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9172">https://www.rfc-editor.org/info/rfc9172</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9174">[RFC9174]</dt>
      <dd>
<span class="refAuthor">Sipos, B.</span>, <span class="refAuthor">Demmer, M.</span>, <span class="refAuthor">Ott, J.</span>, and <span class="refAuthor">S. Perreault</span>, <span class="refTitle">"Delay-Tolerant Networking TCP Convergence-Layer Protocol Version 4"</span>, <span class="seriesInfo">RFC 9174</span>, <span class="seriesInfo">DOI 10.17487/RFC9174</span>, <time datetime="2022-01" class="refDate">January 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9174">https://www.rfc-editor.org/info/rfc9174</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</div>
</section>
<div id="text-examples">
<section id="appendix-A">
      <h2 id="name-ipn-uri-scheme-text-represe">
<a href="#appendix-A" class="section-number selfRef">Appendix A. </a><a href="#name-ipn-uri-scheme-text-represe" class="section-name selfRef">'ipn' URI Scheme Text Representation Examples</a>
      </h2>
<p id="appendix-A-1">This section provides some example ipn URIs in their textual representation.<a href="#appendix-A-1" class="pilcrow">¶</a></p>
<div id="using-the-default-allocator">
<section id="appendix-A.1">
        <h3 id="name-using-the-default-allocator">
<a href="#appendix-A.1" class="section-number selfRef">A.1. </a><a href="#name-using-the-default-allocator" class="section-name selfRef">Using the Default Allocator</a>
        </h3>
<p id="appendix-A.1-1">Consider the ipn URI identifying Service Number 2 on Node Number 1
        allocated by the Default Allocator (0) (<a href="#default-allocator" class="auto internal xref">Section 3.2.2</a>).<a href="#appendix-A.1-1" class="pilcrow">¶</a></p>
<p id="appendix-A.1-2">The recommended seven-character representation of this URI would be
        as follows:<a href="#appendix-A.1-2" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="appendix-A.1-3">
<pre>
ipn:1.2
</pre><a href="#appendix-A.1-3" class="pilcrow">¶</a>
</div>
<p id="appendix-A.1-4">The nine-character representation of this URI, with the explicit Allocator Identifier, would be as follows:<a href="#appendix-A.1-4" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="appendix-A.1-5">
<pre>
ipn:0.1.2
</pre><a href="#appendix-A.1-5" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="using-a-non-default-allocator">
<section id="appendix-A.2">
        <h3 id="name-using-a-non-default-allocat">
<a href="#appendix-A.2" class="section-number selfRef">A.2. </a><a href="#name-using-a-non-default-allocat" class="section-name selfRef">Using a Non-Default Allocator</a>
        </h3>
<p id="appendix-A.2-1">Consider the ipn URI identifying Service Number 3 on Node Number 1 allocated by Allocator 977000.<a href="#appendix-A.2-1" class="pilcrow">¶</a></p>
<p id="appendix-A.2-2">The 14-character representation of this URI would be as follows:<a href="#appendix-A.2-2" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="appendix-A.2-3">
<pre>
ipn:977000.1.3
</pre><a href="#appendix-A.2-3" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="the-null-ipn-uri">
<section id="appendix-A.3">
        <h3 id="name-the-null-ipn-uri-2">
<a href="#appendix-A.3" class="section-number selfRef">A.3. </a><a href="#name-the-null-ipn-uri-2" class="section-name selfRef">The Null ipn URI</a>
        </h3>
<p id="appendix-A.3-1">The Null ipn URI (<a href="#null-uri" class="auto internal xref">Section 3.1</a>) is represented as:<a href="#appendix-A.3-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="appendix-A.3-2">
<pre>
ipn:0.0
</pre><a href="#appendix-A.3-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="a-localnode-ipn-uri">
<section id="appendix-A.4">
        <h3 id="name-the-localnode-ipn-uri">
<a href="#appendix-A.4" class="section-number selfRef">A.4. </a><a href="#name-the-localnode-ipn-uri" class="section-name selfRef">The LocalNode ipn URI</a>
        </h3>
<p id="appendix-A.4-1">Consider the ipn URI identifying Service Number 7 on the local
        node.<a href="#appendix-A.4-1" class="pilcrow">¶</a></p>
<p id="appendix-A.4-2">The recommended seven-character representation of this URI would be
        as follows:<a href="#appendix-A.4-2" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="appendix-A.4-3">
<pre>
ipn:!.7
</pre><a href="#appendix-A.4-3" class="pilcrow">¶</a>
</div>
<p id="appendix-A.4-4">The numeric 16-character representation of this URI would be as follows:<a href="#appendix-A.4-4" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="appendix-A.4-5">
<pre>
ipn:4294967295.7
</pre><a href="#appendix-A.4-5" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="cbor-examples">
<section id="appendix-B">
      <h2 id="name-ipn-uri-scheme-cbor-encodin">
<a href="#appendix-B" class="section-number selfRef">Appendix B. </a><a href="#name-ipn-uri-scheme-cbor-encodin" class="section-name selfRef">'ipn' URI Scheme CBOR Encoding Examples</a>
      </h2>
<p id="appendix-B-1">This section provides some example CBOR encodings of ipn EIDs.<a href="#appendix-B-1" class="pilcrow">¶</a></p>
<div id="using-the-default-allocator-1">
<section id="appendix-B.1">
        <h3 id="name-using-the-default-allocator-2">
<a href="#appendix-B.1" class="section-number selfRef">B.1. </a><a href="#name-using-the-default-allocator-2" class="section-name selfRef">Using the Default Allocator</a>
        </h3>
<p id="appendix-B.1-1">Consider the ipn EID <code>ipn:1.1</code>. This textual representation
        of an ipn EID identifies Service Number 1 on Node Number 1 allocated
        by the Default Allocator (0) (<a href="#default-allocator" class="auto internal xref">Section 3.2.2</a>).<a href="#appendix-B.1-1" class="pilcrow">¶</a></p>
<p id="appendix-B.1-2">The recommended five-octet encoding of this EID using the
        two-element scheme-specific encoding would be as follows:<a href="#appendix-B.1-2" class="pilcrow">¶</a></p>
<div class="lang-cbor sourcecode" id="appendix-B.1-3">
<pre>
82       # 2-Element Endpoint Encoding
   02    # uri-code: 2 ('ipn' URI scheme)
   82    # 2-Element ipn EID encoding
      01 # Node Number
      01 # Service Number
</pre><a href="#appendix-B.1-3" class="pilcrow">¶</a>
</div>
<p id="appendix-B.1-4">The six-octet encoding of this EID using the three-element
        scheme-specific encoding would be as follows:<a href="#appendix-B.1-4" class="pilcrow">¶</a></p>
<div class="lang-cbor sourcecode" id="appendix-B.1-5">
<pre>
82       # 2-Element Endpoint Encoding
   02    # uri-code: 2 ('ipn' URI scheme)
   83    # 3-Element ipn EID encoding
      00 # Default Allocator
      01 # Node Number
      01 # Service Number
</pre><a href="#appendix-B.1-5" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="using-a-non-default-allocator-1">
<section id="appendix-B.2">
        <h3 id="name-using-a-non-default-allocato">
<a href="#appendix-B.2" class="section-number selfRef">B.2. </a><a href="#name-using-a-non-default-allocato" class="section-name selfRef">Using a Non-Default Allocator</a>
        </h3>
<p id="appendix-B.2-1">Consider the ipn EID <code>ipn:977000.1.1</code>.  This textual
        representation of an ipn EID identifies Service Number 1 on Node
        Number 1 allocated by Allocator 977000.<a href="#appendix-B.2-1" class="pilcrow">¶</a></p>
<p id="appendix-B.2-2">The recommended 10-octet encoding of this EID using the
        three-element scheme-specific encoding would be as follows:<a href="#appendix-B.2-2" class="pilcrow">¶</a></p>
<div class="lang-cbor sourcecode" id="appendix-B.2-3">
<pre>
82                # 2-Element Endpoint Encoding
   02             # uri-code: 2 ('ipn' URI scheme)
   83             # 3-Element ipn EID encoding
      1A 000EE868 # Allocator Identifier
      01          # Node Number
      01          # Service Number
</pre><a href="#appendix-B.2-3" class="pilcrow">¶</a>
</div>
<p id="appendix-B.2-4">The 13-octet encoding of this EID using the two-element
        scheme-specific encoding would be as follows:<a href="#appendix-B.2-4" class="pilcrow">¶</a></p>
<div class="lang-cbor sourcecode" id="appendix-B.2-5">
<pre>
82                        # 2-Element Endpoint Encoding
   02                     # uri-code: 2 ('ipn' URI scheme)
   82                     # 2-Element ipn EID encoding
      1B 000EE86800000001 # Fully Qualified Node Number
      01                  # Service Number
</pre><a href="#appendix-B.2-5" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="the-null-endpoint-1">
<section id="appendix-B.3">
        <h3 id="name-the-null-endpoint-2">
<a href="#appendix-B.3" class="section-number selfRef">B.3. </a><a href="#name-the-null-endpoint-2" class="section-name selfRef">The Null Endpoint</a>
        </h3>
<p id="appendix-B.3-1">The Null EID of <code>ipn:0.0</code> can be encoded in the following
        ways:<a href="#appendix-B.3-1" class="pilcrow">¶</a></p>
<p id="appendix-B.3-2">The recommended five-octet encoding of the Null ipn EID using the
        two-element scheme-specific encoding would be as follows:<a href="#appendix-B.3-2" class="pilcrow">¶</a></p>
<div class="lang-cbor sourcecode" id="appendix-B.3-3">
<pre>
82       # 2-Element Endpoint Encoding
   02    # uri-code: 2 ('ipn' URI scheme)
   82    # 2-Element ipn EID encoding
      00 # Node Number
      00 # Service Number
</pre><a href="#appendix-B.3-3" class="pilcrow">¶</a>
</div>
<p id="appendix-B.3-4">The six-octet encoding of the Null ipn EID using the
        three-element scheme-specific encoding would be as follows:<a href="#appendix-B.3-4" class="pilcrow">¶</a></p>
<div class="lang-cbor sourcecode" id="appendix-B.3-5">
<pre>
82       # 2-Element Endpoint Encoding
   02    # uri-code: 2 ('ipn' URI scheme)
   83    # 3-Element ipn EID encoding
      00 # Default Allocator
      00 # Node Number
      00 # Service Number
</pre><a href="#appendix-B.3-5" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="acknowledgments">
<section id="appendix-C">
      <h2 id="name-acknowledgments">
<a href="#name-acknowledgments" class="section-name selfRef">Acknowledgments</a>
      </h2>
<p id="appendix-C-1">The following DTN Working Group participants contributed technical material, use
      cases, and critical technical reviews for this URI scheme update:
      <span class="contact-name">Scott Burleigh</span> of the IPNGROUP, <span class="contact-name">Keith Scott</span>, <span class="contact-name">Brian Sipos</span> of the Johns
      Hopkins University Applied Physics Laboratory, <span class="contact-name">Jorge       Amodio</span> of LJCV Electronics, and <span class="contact-name">Ran       Atkinson</span>.<a href="#appendix-C-1" class="pilcrow">¶</a></p>
<p id="appendix-C-2">Additionally, the authors wish to thank members of the CCSDS SIS-DTN
      Working Group at large who provided useful reviews and commentary on this
      document and its implications for the future of networked space
      exploration.<a href="#appendix-C-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-D">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Rick Taylor</span></div>
<div dir="auto" class="left"><span class="org">Aalyria Technologies</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:rtaylor@aalyria.com" class="email">rtaylor@aalyria.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Edward J. Birrane, III</span></div>
<div dir="auto" class="left"><span class="org">The Johns Hopkins University Applied Physics Laboratory</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:Edward.Birrane@jhuapl.edu" class="email">Edward.Birrane@jhuapl.edu</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
