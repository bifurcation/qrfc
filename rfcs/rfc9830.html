<!DOCTYPE html>
<html lang="en" class="RFC">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>RFC 9830: Advertising Segment Routing Policies in BGP</title>
<meta content="Stefano Previdi" name="author">
<meta content="Clarence Filsfils" name="author">
<meta content="Ketan Talaulikar" name="author">
<meta content="Paul Mattes" name="author">
<meta content="Dhanendra Jain" name="author">
<meta content='
       A Segment Routing (SR) Policy is an ordered list of segments (also
      referred to as "instructions") that define a source-routed policy. An SR
      Policy consists of one or more Candidate Paths (CPs), each comprising one or
      more segment lists. A headend can be provisioned with these CPs using various mechanisms such as Command-Line Interface (CLI), Network Configuration Protocol (NETCONF), Path Computation Element Communication Protocol (PCEP), or BGP. 
       This document specifies how BGP can be used to distribute SR Policy
      CPs. It introduces a BGP SAFI for advertising a CP of an SR Policy and defines sub-TLVs for the Tunnel Encapsulation
      Attribute to signal information related to these CPs. 
       Furthermore, this document updates RFC 9012 by extending the Color
      Extended Community to support additional steering modes over SR
      Policy. 
    ' name="description">
<meta content="xml2rfc 3.30.2" name="generator">
<meta content="9830" name="rfc.number">
<!-- Generator version information:
  xml2rfc 3.30.2
    Python 3.9.15
    ConfigArgParse 1.5.3
    google-i18n-address 3.0.0
    intervaltree 3.1.0
    Jinja2 3.1.2
    lxml 5.3.0
    platformdirs 3.8.0
    pycountry 22.3.5
    PyYAML 6.0
    requests 2.28.0
    setuptools 44.1.1
    six 1.16.0
    wcwidth 0.2.5
    weasyprint 65.0
-->
<link href="rfc9830.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necessary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

:root {
  --font-sans: 'Noto Sans', Arial, Helvetica, sans-serif;
  --font-serif: 'Noto Serif', 'Times', 'Times New Roman', serif;
  --font-mono: 'Roboto Mono', Courier, 'Courier New', monospace;
}

@viewport {
  zoom: 1.0;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: var(--font-sans);
  line-height: 1.6;
  scroll-behavior: smooth;
  overflow-wrap: break-word;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
@media print {
  svg {
    max-height: 850px;
    max-width: 660px;
  }
}
svg[font-family~="serif" i], svg [font-family~="serif" i] {
  font-family: var(--font-serif);
}
svg[font-family~="sans-serif" i], svg [font-family~="sans-serif" i] {
  font-family: var(--font-sans);
}
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  display: table;
  border: none;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre {
  background-color: #f9f9f9;
  font-family: var(--font-mono);
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
blockquote > *:last-child {
  margin-bottom: 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}
.xref {
  overflow-wrap: normal;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    max-width: 100%;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.refSubseries {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: var(--font-sans);
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  .breakable pre {
    break-inside: auto;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The following is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
.sourcecode pre,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .artwork > pre,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: upper-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background slightly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr {
  break-inside: avoid;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottom margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code, dt tt, dt code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the compact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > blockquote:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div.sourcecode:first-child,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type:only-child {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<link href="https://datatracker.ietf.org/doc/draft-ietf-idr-sr-policy-safi-13" rel="prev">
  <link href="https://dx.doi.org/10.17487/rfc9830" rel="alternate">
  <link href="urn:issn:2070-1721" rel="alternate">
  </head>
<body class="xml2rfc">
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 9830</td>
<td class="center">Segment Routing Policies in BGP</td>
<td class="right">September 2025</td>
</tr></thead>
<tfoot><tr>
<td class="left">Previdi, et al.</td>
<td class="center">Standards Track</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Engineering Task Force (IETF)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a href="https://www.rfc-editor.org/rfc/rfc9830" class="eref">9830</a></dd>
<dt class="label-updates">Updates:</dt>
<dd class="updates">
<a href="https://www.rfc-editor.org/rfc/rfc9012" class="eref">9012</a> </dd>
<dt class="label-category">Category:</dt>
<dd class="category">Standards Track</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2025-09" class="published">September 2025</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">S. Previdi</div>
<div class="org">Huawei Technologies</div>
</div>
<div class="author">
      <div class="author-name">C. Filsfils</div>
<div class="org">Cisco Systems</div>
</div>
<div class="author">
      <div class="author-name">K. Talaulikar, <span class="editor">Ed.</span>
</div>
<div class="org">Cisco Systems</div>
</div>
<div class="author">
      <div class="author-name">P. Mattes</div>
<div class="org">Microsoft</div>
</div>
<div class="author">
      <div class="author-name">D. Jain</div>
<div class="org">Google</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 9830</h1>
<h1 id="title">Advertising Segment Routing Policies in BGP</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">A Segment Routing (SR) Policy is an ordered list of segments (also
      referred to as "instructions") that define a source-routed policy. An SR
      Policy consists of one or more Candidate Paths (CPs), each comprising one or
      more segment lists. A headend can be provisioned with these CPs using various mechanisms such as Command-Line Interface (CLI), Network Configuration Protocol (NETCONF), Path Computation Element Communication Protocol (PCEP), or BGP.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
<p id="section-abstract-2">This document specifies how BGP can be used to distribute SR Policy
      CPs. It introduces a BGP SAFI for advertising a CP of an SR Policy and defines sub-TLVs for the Tunnel Encapsulation
      Attribute to signal information related to these CPs.<a href="#section-abstract-2" class="pilcrow">¶</a></p>
<p id="section-abstract-3">Furthermore, this document updates RFC 9012 by extending the Color
      Extended Community to support additional steering modes over SR
      Policy.<a href="#section-abstract-3" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This is an Internet Standards Track document.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc9830">https://www.rfc-editor.org/info/rfc9830</a></span>.<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2025 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="auto internal xref">1</a>.  <a href="#name-introduction" class="internal xref">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p id="section-toc.1-1.1.2.1.1" class="keepWithNext"><a href="#section-1.1" class="auto internal xref">1.1</a>.  <a href="#name-requirements-language" class="internal xref">Requirements Language</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a href="#section-2" class="auto internal xref">2</a>.  <a href="#name-sr-policy-encoding" class="internal xref">SR Policy Encoding</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1" class="keepWithNext"><a href="#section-2.1" class="auto internal xref">2.1</a>.  <a href="#name-sr-policy-safi-and-nlri" class="internal xref">SR Policy SAFI and NLRI</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.2">
                <p id="section-toc.1-1.2.2.2.1"><a href="#section-2.2" class="auto internal xref">2.2</a>.  <a href="#name-sr-policy-and-tunnel-encaps" class="internal xref">SR Policy and Tunnel Encapsulation Attribute</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3">
                <p id="section-toc.1-1.2.2.3.1"><a href="#section-2.3" class="auto internal xref">2.3</a>.  <a href="#name-applicability-of-tunnel-enc" class="internal xref">Applicability of Tunnel Encapsulation Attribute Sub-TLVs</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.4">
                <p id="section-toc.1-1.2.2.4.1"><a href="#section-2.4" class="auto internal xref">2.4</a>.  <a href="#name-sr-policy-sub-tlvs" class="internal xref">SR Policy Sub-TLVs</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.4.2.1">
                    <p id="section-toc.1-1.2.2.4.2.1.1"><a href="#section-2.4.1" class="auto internal xref">2.4.1</a>.  <a href="#name-preference-sub-tlv" class="internal xref">Preference Sub-TLV</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.4.2.2">
                    <p id="section-toc.1-1.2.2.4.2.2.1"><a href="#section-2.4.2" class="auto internal xref">2.4.2</a>.  <a href="#name-binding-sid-sub-tlv" class="internal xref">Binding SID Sub-TLV</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.4.2.3">
                    <p id="section-toc.1-1.2.2.4.2.3.1"><a href="#section-2.4.3" class="auto internal xref">2.4.3</a>.  <a href="#name-srv6-binding-sid-sub-tlv" class="internal xref">SRv6 Binding SID Sub-TLV</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.4.2.4">
                    <p id="section-toc.1-1.2.2.4.2.4.1"><a href="#section-2.4.4" class="auto internal xref">2.4.4</a>.  <a href="#name-segment-list-sub-tlv" class="internal xref">Segment List Sub-TLV</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.4.2.5">
                    <p id="section-toc.1-1.2.2.4.2.5.1"><a href="#section-2.4.5" class="auto internal xref">2.4.5</a>.  <a href="#name-explicit-null-label-policy-" class="internal xref">Explicit NULL Label Policy Sub-TLV</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.4.2.6">
                    <p id="section-toc.1-1.2.2.4.2.6.1"><a href="#section-2.4.6" class="auto internal xref">2.4.6</a>.  <a href="#name-sr-policy-priority-sub-tlv" class="internal xref">SR Policy Priority Sub-TLV</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.4.2.7">
                    <p id="section-toc.1-1.2.2.4.2.7.1"><a href="#section-2.4.7" class="auto internal xref">2.4.7</a>.  <a href="#name-sr-policy-candidate-path-na" class="internal xref">SR Policy Candidate Path Name Sub-TLV</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.4.2.8">
                    <p id="section-toc.1-1.2.2.4.2.8.1"><a href="#section-2.4.8" class="auto internal xref">2.4.8</a>.  <a href="#name-sr-policy-name-sub-tlv" class="internal xref">SR Policy Name Sub-TLV</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="auto internal xref">3</a>.  <a href="#name-color-extended-community" class="internal xref">Color Extended Community</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="auto internal xref">4</a>.  <a href="#name-sr-policy-operations" class="internal xref">SR Policy Operations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="auto internal xref">4.1</a>.  <a href="#name-advertisement-of-sr-policie" class="internal xref">Advertisement of SR Policies</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="auto internal xref">4.2</a>.  <a href="#name-reception-of-an-sr-policy-n" class="internal xref">Reception of an SR Policy NLRI</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.1">
                    <p id="section-toc.1-1.4.2.2.2.1.1"><a href="#section-4.2.1" class="auto internal xref">4.2.1</a>.  <a href="#name-validation-of-an-sr-policy-" class="internal xref">Validation of an SR Policy NLRI</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.2">
                    <p id="section-toc.1-1.4.2.2.2.2.1"><a href="#section-4.2.2" class="auto internal xref">4.2.2</a>.  <a href="#name-eligibility-for-local-use-o" class="internal xref">Eligibility for Local Use of an SR Policy NLRI</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.3">
                    <p id="section-toc.1-1.4.2.2.2.3.1"><a href="#section-4.2.3" class="auto internal xref">4.2.3</a>.  <a href="#name-propagation-of-an-sr-policy" class="internal xref">Propagation of an SR Policy</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="auto internal xref">5</a>.  <a href="#name-error-handling-and-fault-ma" class="internal xref">Error Handling and Fault Management</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="auto internal xref">6</a>.  <a href="#name-iana-considerations" class="internal xref">IANA Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="auto internal xref">6.1</a>.  <a href="#name-subsequent-address-family-i" class="internal xref">Subsequent Address Family Identifiers (SAFI) Parameters</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="auto internal xref">6.2</a>.  <a href="#name-bgp-tunnel-encapsulation-at" class="internal xref">BGP Tunnel Encapsulation Attribute Tunnel Types</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3">
                <p id="section-toc.1-1.6.2.3.1"><a href="#section-6.3" class="auto internal xref">6.3</a>.  <a href="#name-bgp-tunnel-encapsulation-att" class="internal xref">BGP Tunnel Encapsulation Attribute Sub-TLVs</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.4">
                <p id="section-toc.1-1.6.2.4.1"><a href="#section-6.4" class="auto internal xref">6.4</a>.  <a href="#name-color-extended-community-fla" class="internal xref">Color Extended Community Flags</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.5">
                <p id="section-toc.1-1.6.2.5.1"><a href="#section-6.5" class="auto internal xref">6.5</a>.  <a href="#name-sr-policy-segment-list-sub-" class="internal xref">SR Policy Segment List Sub-TLVs</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.6">
                <p id="section-toc.1-1.6.2.6.1"><a href="#section-6.6" class="auto internal xref">6.6</a>.  <a href="#name-sr-policy-binding-sid-flags-2" class="internal xref">SR Policy Binding SID Flags</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.7">
                <p id="section-toc.1-1.6.2.7.1"><a href="#section-6.7" class="auto internal xref">6.7</a>.  <a href="#name-sr-policy-srv6-binding-sid-f" class="internal xref">SR Policy SRv6 Binding SID Flags</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.8">
                <p id="section-toc.1-1.6.2.8.1"><a href="#section-6.8" class="auto internal xref">6.8</a>.  <a href="#name-sr-policy-segment-flags-3" class="internal xref">SR Policy Segment Flags</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.9">
                <p id="section-toc.1-1.6.2.9.1"><a href="#section-6.9" class="auto internal xref">6.9</a>.  <a href="#name-color-extended-community-co" class="internal xref">Color Extended Community Color-Only Types</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.10">
                <p id="section-toc.1-1.6.2.10.1"><a href="#section-6.10" class="auto internal xref">6.10</a>. <a href="#name-sr-policy-enlp-values" class="internal xref">SR Policy ENLP Values</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="auto internal xref">7</a>.  <a href="#name-security-considerations" class="internal xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="auto internal xref">8</a>.  <a href="#name-manageability-consideration" class="internal xref">Manageability Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="auto internal xref">9</a>.  <a href="#name-references" class="internal xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.1">
                <p id="section-toc.1-1.9.2.1.1"><a href="#section-9.1" class="auto internal xref">9.1</a>.  <a href="#name-normative-references" class="internal xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2">
                <p id="section-toc.1-1.9.2.2.1"><a href="#section-9.2" class="auto internal xref">9.2</a>.  <a href="#name-informative-references" class="internal xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#appendix-A" class="auto internal xref"></a><a href="#name-acknowledgments" class="internal xref">Acknowledgments</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#appendix-B" class="auto internal xref"></a><a href="#name-contributors" class="internal xref">Contributors</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#appendix-C" class="auto internal xref"></a><a href="#name-authors-addresses" class="internal xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="INTRO">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">Segment Routing (SR) <span>[<a href="#RFC8402" class="cite xref">RFC8402</a>]</span> allows a headend node
      to steer a packet flow along a specific path. Intermediate per-path
      states are eliminated thanks to source routing.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">The headend node is said to steer a flow into an SR Policy <span>[<a href="#RFC9256" class="cite xref">RFC9256</a>]</span>.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">The packets steered into an SR Policy carry an ordered list of
      segments associated with that SR Policy.<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4"><span>[<a href="#RFC9256" class="cite xref">RFC9256</a>]</span> further details the concepts of SR Policy
      and steering into an SR Policy. These apply equally to the SR-MPLS and
      Segment Routing over IPv6 (SRv6) data plane instantiations of Segment
      Routing using SR-MPLS and SRv6 Segment Identifiers (SIDs) as described
      in <span>[<a href="#RFC8402" class="cite xref">RFC8402</a>]</span>. <span>[<a href="#RFC8660" class="cite xref">RFC8660</a>]</span> describes the
      representation and processing of this ordered list of segments as an
      MPLS label stack for SR-MPLS. <span>[<a href="#RFC8754" class="cite xref">RFC8754</a>]</span> and <span>[<a href="#RFC8986" class="cite xref">RFC8986</a>]</span> describe the same for SRv6 with the use of the
      Segment Routing Header (SRH).<a href="#section-1-4" class="pilcrow">¶</a></p>
<p id="section-1-5">The functionality related to SR Policy described in <span>[<a href="#RFC9256" class="cite xref">RFC9256</a>]</span> can be conceptually viewed as being incorporated in
      an SR Policy Module (SRPM). The following is a reminder of the high-level
      functionality of SRPM:<a href="#section-1-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1-6.1">
          <p id="section-1-6.1.1">Learning multiple CPs for an SR Policy via
          various mechanisms (CLI, NETCONF, PCEP, or BGP).<a href="#section-1-6.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-1-6.2">
          <p id="section-1-6.2.1">Selection of the best CP for an SR Policy.<a href="#section-1-6.2.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-1-6.3">
          <p id="section-1-6.3.1">Associating a Binding SID (BSID) to the selected CP
          of an SR Policy.<a href="#section-1-6.3.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-1-6.4">
          <p id="section-1-6.4.1">Installation of the selected CP and its BSID in the
          forwarding plane.<a href="#section-1-6.4.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="section-1-7">This document specifies the use of BGP to distribute one or more of
      the CPs of an SR Policy to the headend of that SR Policy. The
      document describes the functionality provided by BGP and, as
      appropriate, provides references for the functionality, which is outside
      the scope of BGP (i.e., resides within SRPM on the headend node).<a href="#section-1-7" class="pilcrow">¶</a></p>
<p id="section-1-8">This document specifies a way of representing SR Policy CPs in BGP UPDATE messages. BGP can then be used to propagate the SR
      Policy CPs to the headend nodes in a network. The usual BGP
      rules for BGP propagation and best-path selection are used. At the
      headend of a specific SR Policy, this will result in one or more CPs being installed into the "BGP table". These paths are then passed
      to the SRPM. The SRPM may compare them to CPs learned via
      other mechanisms and will choose one or more paths to be installed in
      the data plane. BGP itself does not install SR Policy CPs
      into the data plane.<a href="#section-1-8" class="pilcrow">¶</a></p>
<p id="section-1-9">This document introduces a BGP Subsequent Address Family Identifier (SAFI) for
      IPv4 and IPv6 address families. In BGP UPDATE messages of those AFI/SAFIs,
      the Network Layer Reachability Information (NLRI) identifies an SR
      Policy CP while the attributes encode the segment lists and
      other details of that SR Policy CP.<a href="#section-1-9" class="pilcrow">¶</a></p>
<p id="section-1-10">While, for simplicity, the text in this document states that BGP
      advertises an SR Policy, it is to be understood that BGP advertises a
      CP of an SR Policy and that this SR Policy might have
      several other CPs provided via BGP (via an NLRI with a
      different distinguisher as defined in <a href="#SRPOLICYSAFI" class="auto internal xref">Section 2.1</a>),
      PCEP, NETCONF, or local policy configuration.<a href="#section-1-10" class="pilcrow">¶</a></p>
<p id="section-1-11">Typically, an SR Policy Controller <span>[<a href="#RFC9256" class="cite xref">RFC9256</a>]</span> defines
      the set of policies and advertises them to SR Policy headend routers
      (typically ingress routers). These SR Policy advertisements use the BGP
      extensions defined in this document. In most cases, the SR Policy
      advertisement is tailored for a specific SR Policy headend; consequently,
      it may be transmitted over a direct BGP session (i.e., without
      intermediate BGP hops) to that headend and is not propagated any
      further. In such cases, the SR Policy advertisements will not traverse any
      Route Reflector (RR) (see <span>[<a href="#RFC4456" class="cite xref">RFC4456</a>]</span> and <a href="#PROPAGATE" class="auto internal xref">Section 4.2.3</a>).<a href="#section-1-11" class="pilcrow">¶</a></p>
<p id="section-1-12">Alternatively, a BGP egress router may advertise SR Policies that
      represent paths that terminate on it. In such cases, the router can
      send these policies directly to each headend over a dedicated BGP
      session, without necessitating any further propagation of the
      SR Policy.<a href="#section-1-12" class="pilcrow">¶</a></p>
<p id="section-1-13">In some situations, it is undesirable for a controller or BGP egress
      router to have a BGP session to each SR Policy headend. In these
      situations, BGP RRs may be used to propagate the
      advertisements. In certain other deployments, it may be necessary for
      the advertisement to propagate through a sequence of one or more Autonomous Systems (ASes)
      within an SR Domain (refer to <a href="#Security" class="auto internal xref">Section 7</a> for the
      associated security considerations). To make this possible, an attribute
      needs to be attached to the advertisement that enables a BGP speaker to
      determine whether it is intended to be a headend for the advertised
      SR Policy. This is done by attaching one or more Route Target extended
      communities to the advertisement <span>[<a href="#RFC4360" class="cite xref">RFC4360</a>]</span>.<a href="#section-1-13" class="pilcrow">¶</a></p>
<p id="section-1-14">The BGP extensions for the advertisement of SR Policies include
      following components:<a href="#section-1-14" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1-15.1">
          <p id="section-1-15.1.1">A SAFI whose NLRIs
          identify an SR Policy CP.<a href="#section-1-15.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-1-15.2">
          <p id="section-1-15.2.1">A Tunnel Type identifier for SR Policy and a set of sub-TLVs to
          be inserted into the Tunnel Encapsulation Attribute (as defined in
          <span>[<a href="#RFC9012" class="cite xref">RFC9012</a>]</span>) specifying segment lists of the SR Policy
          CP as well as other information about the SR
          Policy.<a href="#section-1-15.2.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-1-15.3">
          <p id="section-1-15.3.1">One or more IPv4 address-specific format Route Target extended
          community (<span>[<a href="#RFC4360" class="cite xref">RFC4360</a>]</span>) attached to the SR Policy
          CP advertisement that indicates the intended headend
          of such an SR Policy CP advertisement.<a href="#section-1-15.3.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="section-1-16">The SR Policy SAFI route updates utilize the Tunnel Encapsulation
      Attribute to signal an SR Policy, which itself functions as a tunnel.
      This usage differs notably from the approach described in <span>[<a href="#RFC9012" class="cite xref">RFC9012</a>]</span>, where the Tunnel Encapsulation Attribute is
      associated with a BGP route update (e.g., for Internet or VPN routes) to
      specify the tunnel used for forwarding traffic. This document does not
      modify or supersede the usage of the Tunnel Encapsulation Attribute for
      existing AFI/SAFIs as defined in <span>[<a href="#RFC9012" class="cite xref">RFC9012</a>]</span>. Details
      regarding the processing of the Tunnel Encapsulation Attribute for the
      SR Policy SAFI are provided in Sections <a href="#ENCAPSATTR" class="auto internal xref">2.2</a> and <a href="#ENDCOLOR" class="auto internal xref">2.3</a>.<a href="#section-1-16" class="pilcrow">¶</a></p>
<p id="section-1-17">The northbound advertisement of the operational state of the SR
      Policy CPs as part of BGP - Link State (BGP-LS) <span>[<a href="#RFC9552" class="cite xref">RFC9552</a>]</span>
      topology information is specified in <span>[<a href="#I-D.ietf-idr-bgp-ls-sr-policy" class="cite xref">BGP-LS-SR-POLICY</a>]</span>.<a href="#section-1-17" class="pilcrow">¶</a></p>
<p id="section-1-18">The signaling of Dynamic and Composite CPs (Sections
      <a href="https://rfc-editor.org/rfc/rfc9256#section-5.2" class="relref">5.2</a> and <a href="https://rfc-editor.org/rfc/rfc9256#section-5.3" class="relref">5.3</a>, respectively, of
      <span>[<a href="#RFC9256" class="cite xref">RFC9256</a>]</span>) is outside the scope of this
      document.<a href="#section-1-18" class="pilcrow">¶</a></p>
<p id="section-1-19">The Color Extended Community (as defined in <span>[<a href="#RFC9012" class="cite xref">RFC9012</a>]</span>) is used to steer traffic into an SR Policy, as
      described in <span><a href="https://rfc-editor.org/rfc/rfc9256#section-8.8" class="relref">Section 8.8</a> of [<a href="#RFC9256" class="cite xref">RFC9256</a>]</span>. <a href="#EXTCOLOR" class="auto internal xref">Section 3</a> of this
      document updates <span>[<a href="#RFC9012" class="cite xref">RFC9012</a>]</span> with
      modifications to the format of the Flags field of the Color Extended
      Community by using the two leftmost bits of that field.<a href="#section-1-19" class="pilcrow">¶</a></p>
<section id="section-1.1">
        <h3 id="name-requirements-language">
<a href="#section-1.1" class="section-number selfRef">1.1. </a><a href="#name-requirements-language" class="section-name selfRef">Requirements Language</a>
        </h3>
<p id="section-1.1-1">
    The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>", "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>", "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
    "<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be interpreted as
    described in BCP 14 <span>[<a href="#RFC2119" class="cite xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="cite xref">RFC8174</a>]</span> 
    when, and only when, they appear in all capitals, as shown here.<a href="#section-1.1-1" class="pilcrow">¶</a></p>
</section>
</section>
</div>
<div id="ENCODING">
<section id="section-2">
      <h2 id="name-sr-policy-encoding">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-sr-policy-encoding" class="section-name selfRef">SR Policy Encoding</a>
      </h2>
<div id="SRPOLICYSAFI">
<section id="section-2.1">
        <h3 id="name-sr-policy-safi-and-nlri">
<a href="#section-2.1" class="section-number selfRef">2.1. </a><a href="#name-sr-policy-safi-and-nlri" class="section-name selfRef">SR Policy SAFI and NLRI</a>
        </h3>
<p id="section-2.1-1">The SR Policy SAFI with
        code point 73 is introduced in this document. The AFI used <span class="bcp14">MUST</span> be IPv4(1) or IPv6(2).<a href="#section-2.1-1" class="pilcrow">¶</a></p>
<p id="section-2.1-2">The SR Policy SAFI uses the NLRI format defined as follows:<a href="#section-2.1-2" class="pilcrow">¶</a></p>
<span id="name-sr-policy-safi-format"></span><figure id="figure-1">
          <div class="alignLeft art-text artwork" id="section-2.1-3.1">
<pre>
+------------------+
|  NLRI Length     | 1 octet
+------------------+
|  Distinguisher   | 4 octets
+------------------+
|  Color           | 4 octets
+------------------+
|  Endpoint        | 4 or 16 octets
+------------------+
</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-sr-policy-safi-format" class="selfRef">SR Policy SAFI Format</a>
          </figcaption></figure>
<p id="section-2.1-4">Where:<a href="#section-2.1-4" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-2.1-5">
          <dt id="section-2.1-5.1">NLRI Length:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-5.2">1 octet indicating the length expressed in bits as
          defined in <span>[<a href="#RFC4760" class="cite xref">RFC4760</a>]</span>. When AFI = 1,
          the value <span class="bcp14">MUST</span> be 96; when AFI = 2, the value
          <span class="bcp14">MUST</span> be 192.<a href="#section-2.1-5.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-5.3">Distinguisher:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-5.4">
            <p id="section-2.1-5.4.1">4-octet value uniquely identifying the SR Policy in
          the context of &lt;Color, Endpoint&gt; tuple. The distinguisher has
          no semantic value.  It is used by the SR Policy originator to form
          unique NLRIs the following situations:<a href="#section-2.1-5.4.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.1-5.4.2.1">to differentiate multiple CPs
            of the same SR Policy<a href="#section-2.1-5.4.2.1" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-2.1-5.4.2.2">to differentiate CPs meant for different headends but having the same Color and Endpoint<a href="#section-2.1-5.4.2.2" class="pilcrow">¶</a>
</li>
            </ul>
<p id="section-2.1-5.4.3">The distinguisher is
          the discriminator of the SR Policy CP as specified in
          <span><a href="https://rfc-editor.org/rfc/rfc9256#section-2.5" class="relref">Section 2.5</a> of [<a href="#RFC9256" class="cite xref">RFC9256</a>]</span>.<a href="#section-2.1-5.4.3" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-5.5">Color:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-5.6">4 octets that carry an unsigned non-zero integer
          value indicating the Color of the SR Policy as specified in <span><a href="https://rfc-editor.org/rfc/rfc9256#section-2.1" class="relref">Section 2.1</a> of [<a href="#RFC9256" class="cite xref">RFC9256</a>]</span>. The Color is
          used to match the Color of the destination prefixes to steer traffic
          into the SR Policy as specified in <span><a href="https://rfc-editor.org/rfc/rfc9256#section-8" class="relref">Section 8</a> of [<a href="#RFC9256" class="cite xref">RFC9256</a>]</span>.<a href="#section-2.1-5.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-5.7">Endpoint:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-5.8">a value that identifies the Endpoint of an SR Policy. The
          Endpoint may represent a single node or a set of nodes (e.g., an
          anycast address). The Endpoint is an IPv4 (4-octet) address or an
          IPv6 (16-octet) address according to the AFI of the NLRI. The
          address can be either unicast or an unspecified address (0.0.0.0
          for IPv4, :: for IPv6), known as a null Endpoint as specified in
          <span><a href="https://rfc-editor.org/rfc/rfc9256#section-2.1" class="relref">Section 2.1</a> of [<a href="#RFC9256" class="cite xref">RFC9256</a>]</span>.<a href="#section-2.1-5.8" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-2.1-6">The Color and Endpoint are used to automate the steering of BGP
        service routes on an SR Policy as described in <span><a href="https://rfc-editor.org/rfc/rfc9256#section-8" class="relref">Section 8</a> of [<a href="#RFC9256" class="cite xref">RFC9256</a>]</span>.<a href="#section-2.1-6" class="pilcrow">¶</a></p>
<p id="section-2.1-7">The NLRI containing an SR Policy CP is carried in a BGP
        UPDATE message <span>[<a href="#RFC4271" class="cite xref">RFC4271</a>]</span> using BGP multiprotocol
        extensions <span>[<a href="#RFC4760" class="cite xref">RFC4760</a>]</span> with an AFI of 1 or 2 (IPv4 or
        IPv6) and with a SAFI of 73. The fault management and error handling
        in the encoding of the NLRI are specified in <a href="#ERROR" class="auto internal xref">Section 5</a>.<a href="#section-2.1-7" class="pilcrow">¶</a></p>
<p id="section-2.1-8">A BGP UPDATE message that carries the MP_REACH_NLRI or MP_UNREACH_NLRI
        attribute with the SR Policy SAFI <span class="bcp14">MUST</span> also carry the BGP mandatory
        attributes. In addition, the BGP UPDATE message <span class="bcp14">MAY</span> also contain any
        of the BGP optional attributes.<a href="#section-2.1-8" class="pilcrow">¶</a></p>
<p id="section-2.1-9">The next-hop network address field in SR Policy SAFI (73) updates
        may be either a 4-octet IPv4 address or a 16-octet IPv6 address,
        independent of the SR Policy AFI. The Length field of the next-hop
        address specifies the next-hop address family. If the next-hop length
        is 4, then the next-hop is an IPv4 address. If the next-hop length is
        16, then it is a global IPv6 address.  If the next-hop length is 32,
        then it has a global IPv6 address followed by a link-local IPv6
        address. The setting of the next-hop field and its attendant
        processing is governed by standard BGP procedures as described in
        <span><a href="https://rfc-editor.org/rfc/rfc4760#section-3" class="relref">Section 3</a> of [<a href="#RFC4760" class="cite xref">RFC4760</a>]</span> and <span><a href="https://rfc-editor.org/rfc/rfc2545#section-3" class="relref">Section 3</a> of [<a href="#RFC2545" class="cite xref">RFC2545</a>]</span>.<a href="#section-2.1-9" class="pilcrow">¶</a></p>
<p id="section-2.1-10">It is important to note that at any BGP speaker receiving BGP
        updates with SR Policy NLRIs, the SRPM processes only the best path as
        per the BGP best-path selection algorithm. In other words, this
        document leverages the existing BGP propagation and best-path
        selection rules. Details of the procedures are described in <a href="#OPERATIONS" class="auto internal xref">Section 4</a>.<a href="#section-2.1-10" class="pilcrow">¶</a></p>
<p id="section-2.1-11">It has to be noted that if several CPs of the same SR
        Policy (Endpoint, Color) are signaled via BGP to a headend, then it is
        <span class="bcp14">RECOMMENDED</span> that each NLRI use a different distinguisher. If BGP has
        installed into the BGP table two advertisements whose respective NLRIs
        have the same Color and Endpoint, but different distinguishers, both
        advertisements are passed to the SRPM as different CPs
        along with their respective originator information (i.e., Autonomous System Number (ASN) and BGP
        Router-ID) as described in <span><a href="https://rfc-editor.org/rfc/rfc9256#section-2.4" class="relref">Section 2.4</a> of [<a href="#RFC9256" class="cite xref">RFC9256</a>]</span>.
        The ASN would be the ASN of the origin and the BGP Router-ID is
        determined in the following order:<a href="#section-2.1-11" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.1-12.1">
            <p id="section-2.1-12.1.1">From the Route Origin Community <span>[<a href="#RFC4360" class="cite xref">RFC4360</a>]</span> if
            present and carrying an IP Address, or<a href="#section-2.1-12.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-2.1-12.2">
            <p id="section-2.1-12.2.1">As the BGP ORIGINATOR_ID <span>[<a href="#RFC4456" class="cite xref">RFC4456</a>]</span> if present,
            or<a href="#section-2.1-12.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-2.1-12.3">
            <p id="section-2.1-12.3.1">As the BGP Router-ID of the peer from which the update was
            received as a last resort.<a href="#section-2.1-12.3.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-2.1-13"><span><a href="https://rfc-editor.org/rfc/rfc9256#section-2.9" class="relref">Section 2.9</a> of [<a href="#RFC9256" class="cite xref">RFC9256</a>]</span> specifies the selection
        of the active CP of the SR Policy by the SRPM based on the
        information provided to it by BGP.<a href="#section-2.1-13" class="pilcrow">¶</a></p>
</section>
</div>
<div id="ENCAPSATTR">
<section id="section-2.2">
        <h3 id="name-sr-policy-and-tunnel-encaps">
<a href="#section-2.2" class="section-number selfRef">2.2. </a><a href="#name-sr-policy-and-tunnel-encaps" class="section-name selfRef">SR Policy and Tunnel Encapsulation Attribute</a>
        </h3>
<p id="section-2.2-1">The content of the SR Policy CP is encoded in the
        Tunnel Encapsulation Attribute defined in <span>[<a href="#RFC9012" class="cite xref">RFC9012</a>]</span>
        using a Tunnel Type called the "SR Policy" type with code point 15. The use
        of the SR Policy Tunnel Type is applicable only for the AFI/SAFI pairs of
        (1/73, 2/73). This document specifies the use of the Tunnel
        Encapsulation Attribute with the SR Policy Tunnel Type and the use of
        any other Tunnel Type with the SR Policy SAFI <span class="bcp14">MUST</span> be considered
        malformed and handled by the "treat-as-withdraw" strategy <span>[<a href="#RFC7606" class="cite xref">RFC7606</a>]</span>.<a href="#section-2.2-1" class="pilcrow">¶</a></p>
<p id="section-2.2-2">The SR Policy Encoding structure is as follows:<a href="#section-2.2-2" class="pilcrow">¶</a></p>
<span id="name-sr-policy-encoding-2"></span><figure id="figure-2">
          <div class="alignLeft art-text artwork" id="section-2.2-3.1">
<pre>
SR Policy SAFI NLRI: &lt;Distinguisher, Color, Endpoint&gt;
Attributes:
   Tunnel Encapsulation Attribute (23)
      Tunnel Type: SR Policy (15)
          Binding SID
          Preference
          Priority
          SR Policy Name
          SR Policy Candidate Path Name
          Explicit NULL Label Policy (ENLP)
          Segment List
              Weight
              Segment
              Segment
              ...
          ...
</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-sr-policy-encoding-2" class="selfRef">SR Policy Encoding</a>
          </figcaption></figure>
<p id="section-2.2-4">Where:<a href="#section-2.2-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.2-5.1">
            <p id="section-2.2-5.1.1">The SR Policy SAFI NLRI is defined in <a href="#SRPOLICYSAFI" class="auto internal xref">Section 2.1</a>.<a href="#section-2.2-5.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-2.2-5.2">
            <p id="section-2.2-5.2.1">The Tunnel Encapsulation Attribute is defined in <span>[<a href="#RFC9012" class="cite xref">RFC9012</a>]</span>.<a href="#section-2.2-5.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-2.2-5.3">
            <p id="section-2.2-5.3.1">The Tunnel Type is set to 15.<a href="#section-2.2-5.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-2.2-5.4">
            <p id="section-2.2-5.4.1">Preference, Binding SID, Priority, SR Policy Name, SR Policy
            Candidate Path Name, ENLP, Segment-List, Weight, and Segment
            sub-TLVs are defined in <a href="#SRPOLICYTLV" class="auto internal xref">Section 2.4</a>.<a href="#section-2.2-5.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-2.2-5.5">
            <p id="section-2.2-5.5.1">Additional sub-TLVs may be defined in the future.<a href="#section-2.2-5.5.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-2.2-6">A Tunnel Encapsulation Attribute <span class="bcp14">MUST NOT</span> contain more than one TLV
        of type "SR Policy"; such updates <span class="bcp14">MUST</span> be considered malformed and
        handled by the "treat-as-withdraw" strategy <span>[<a href="#RFC7606" class="cite xref">RFC7606</a>]</span>.<a href="#section-2.2-6" class="pilcrow">¶</a></p>
<p id="section-2.2-7">BGP does not need to perform the validation of the tunnel (i.e., SR
        Policy) itself as indicated in <span><a href="https://rfc-editor.org/rfc/rfc9012#section-6" class="relref">Section 6</a> of [<a href="#RFC9012" class="cite xref">RFC9012</a>]</span>.
        The validation of the SR Policy information that is advertised using
        the sub-TLVs specified in <a href="#SRPOLICYTLV" class="auto internal xref">Section 2.4</a> is performed by
        the SRPM.<a href="#section-2.2-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="ENDCOLOR">
<section id="section-2.3">
        <h3 id="name-applicability-of-tunnel-enc">
<a href="#section-2.3" class="section-number selfRef">2.3. </a><a href="#name-applicability-of-tunnel-enc" class="section-name selfRef">Applicability of Tunnel Encapsulation Attribute Sub-TLVs</a>
        </h3>
<p id="section-2.3-1">The Tunnel Egress Endpoint and Color sub-TLVs of the Tunnel
        Encapsulation Attribute, as defined in <span>[<a href="#RFC9012" class="cite xref">RFC9012</a>]</span>, are
        not utilized for SR Policy encodings. Consequently, their values are
        not relevant within the context of the SR Policy SAFI NLRI. If these
        sub-TLVs are present, a BGP speaker <span class="bcp14">MUST</span> ignore them and <span class="bcp14">MAY</span> remove
        them from the Tunnel Encapsulation Attribute during propagation.<a href="#section-2.3-1" class="pilcrow">¶</a></p>
<p id="section-2.3-2">Similarly, any other sub-TLVs, including those specified in <span>[<a href="#RFC9012" class="cite xref">RFC9012</a>]</span>, that do not have explicitly defined applicability
        to the SR Policy SAFI <span class="bcp14">MUST</span> be ignored by the BGP speaker and <span class="bcp14">MAY</span> be
        removed from the Tunnel Encapsulation Attribute during
        propagation.<a href="#section-2.3-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="SRPOLICYTLV">
<section id="section-2.4">
        <h3 id="name-sr-policy-sub-tlvs">
<a href="#section-2.4" class="section-number selfRef">2.4. </a><a href="#name-sr-policy-sub-tlvs" class="section-name selfRef">SR Policy Sub-TLVs</a>
        </h3>
<p id="section-2.4-1">This section specifies the sub-TLVs defined for encoding the
        information about the SR Policy Candidate Path.<a href="#section-2.4-1" class="pilcrow">¶</a></p>
<p id="section-2.4-2">Preference, Binding SID, SRv6 Binding SID, Segment-List, Priority,
        SR Policy Name, SR Policy Candidate Path Name, and Explicit NULL Label
        Policy are all optional sub-TLVs introduced for the BGP Tunnel
        Encapsulation Attribute <span>[<a href="#RFC9012" class="cite xref">RFC9012</a>]</span> being defined in this
        section.<a href="#section-2.4-2" class="pilcrow">¶</a></p>
<p id="section-2.4-3">Weight and Segment are sub-TLVs of the Segment-List sub-TLV
        mentioned above.<a href="#section-2.4-3" class="pilcrow">¶</a></p>
<p id="section-2.4-4">An early draft version of this document included only the Binding SID
        sub-TLV that could be used for both SR-MPLS and SRv6 BSIDs. The
        SRv6 Binding SID TLV was introduced in later versions to support the
        advertisement of additional SRv6 capabilities without affecting
        backward compatibility for early implementations.<a href="#section-2.4-4" class="pilcrow">¶</a></p>
<p id="section-2.4-5">The fault management and error handling in the encoding of the
        sub-TLVs defined in this section are specified in <a href="#ERROR" class="auto internal xref">Section 5</a>. For the TLVs/sub-TLVs that are specified as single
        instance, only the first instance of that TLV/sub-TLV is used: the
        other instances <span class="bcp14">MUST</span> be ignored and <span class="bcp14">MUST NOT</span> considered to be
        malformed.<a href="#section-2.4-5" class="pilcrow">¶</a></p>
<p id="section-2.4-6">None of the sub-TLVs defined in the following subsections have any
        effect on the BGP best-path selection or propagation procedures. These
        sub-TLVs are not used by the BGP path selection process and are
        instead passed on to SRPM as SR Policy Candidate Path information for
        further processing as described in <span><a href="https://rfc-editor.org/rfc/rfc9256#section-2" class="relref">Section 2</a> of [<a href="#RFC9256" class="cite xref">RFC9256</a>]</span>.<a href="#section-2.4-6" class="pilcrow">¶</a></p>
<p id="section-2.4-7">The use of SR Policy sub-TLVs is applicable only for the AFI/SAFI
        pairs of (1/73, 2/73). Future documents may extend their applicability
        to other AFI/SAFI.<a href="#section-2.4-7" class="pilcrow">¶</a></p>
<div id="PREFTLV">
<section id="section-2.4.1">
          <h4 id="name-preference-sub-tlv">
<a href="#section-2.4.1" class="section-number selfRef">2.4.1. </a><a href="#name-preference-sub-tlv" class="section-name selfRef">Preference Sub-TLV</a>
          </h4>
<p id="section-2.4.1-1">The Preference sub-TLV is used to carry the Preference of an SR
          Policy CP. The contents of this sub-TLV are used by the
          SRPM as described in <span><a href="https://rfc-editor.org/rfc/rfc9256#section-2.7" class="relref">Section 2.7</a> of [<a href="#RFC9256" class="cite xref">RFC9256</a>]</span>.<a href="#section-2.4.1-1" class="pilcrow">¶</a></p>
<p id="section-2.4.1-2">The Preference sub-TLV is <span class="bcp14">OPTIONAL</span>; it <span class="bcp14">MUST NOT</span> appear more
          than once in the SR Policy encoding.<a href="#section-2.4.1-2" class="pilcrow">¶</a></p>
<p id="section-2.4.1-3">The Preference sub-TLV has the following format:<a href="#section-2.4.1-3" class="pilcrow">¶</a></p>
<span id="name-preference-sub-tlv-2"></span><figure id="figure-3">
            <div class="alignLeft art-text artwork" id="section-2.4.1-4.1">
<pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     Type      |   Length      |     Flags     |   RESERVED    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                      Preference (4 octets)                    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a>:
<a href="#name-preference-sub-tlv-2" class="selfRef">Preference Sub-TLV</a>
            </figcaption></figure>
<p id="section-2.4.1-5">Where:<a href="#section-2.4.1-5" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-2.4.1-6">
            <dt id="section-2.4.1-6.1">Type:</dt>
            <dd style="margin-left: 1.5em" id="section-2.4.1-6.2">12<a href="#section-2.4.1-6.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-2.4.1-6.3">Length:</dt>
            <dd style="margin-left: 1.5em" id="section-2.4.1-6.4">Specifies the length of the value field (i.e., not
              including Type and Length fields) in terms of octets. The value
              <span class="bcp14">MUST</span> be 6.<a href="#section-2.4.1-6.4" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-2.4.1-6.5">Flags:</dt>
            <dd style="margin-left: 1.5em" id="section-2.4.1-6.6">1 octet of flags. No flags are defined in this
              document. The Flags field <span class="bcp14">MUST</span> be set to zero on transmission
              and <span class="bcp14">MUST</span> be ignored on receipt.<a href="#section-2.4.1-6.6" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-2.4.1-6.7">RESERVED:</dt>
            <dd style="margin-left: 1.5em" id="section-2.4.1-6.8">1 octet of reserved bits. This field <span class="bcp14">MUST</span> be set to
              zero on transmission and <span class="bcp14">MUST</span> be ignored on receipt.<a href="#section-2.4.1-6.8" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-2.4.1-6.9">Preference:</dt>
            <dd style="margin-left: 1.5em" id="section-2.4.1-6.10">a 4-octet value indicating the Preference of the
              SR Policy CP as described in <span><a href="https://rfc-editor.org/rfc/rfc9256#section-2.7" class="relref">Section 2.7</a> of [<a href="#RFC9256" class="cite xref">RFC9256</a>]</span>.<a href="#section-2.4.1-6.10" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
<div id="BINDINGSIDTLV">
<section id="section-2.4.2">
          <h4 id="name-binding-sid-sub-tlv">
<a href="#section-2.4.2" class="section-number selfRef">2.4.2. </a><a href="#name-binding-sid-sub-tlv" class="section-name selfRef">Binding SID Sub-TLV</a>
          </h4>
<p id="section-2.4.2-1">The Binding SID sub-TLV is used to signal the BSID-related
          information of the SR Policy CP. The contents of this
          sub-TLV are used by the SRPM as described in <span><a href="https://rfc-editor.org/rfc/rfc9256#section-6" class="relref">Section 6</a> of [<a href="#RFC9256" class="cite xref">RFC9256</a>]</span>.<a href="#section-2.4.2-1" class="pilcrow">¶</a></p>
<p id="section-2.4.2-2">The Binding SID sub-TLV is <span class="bcp14">OPTIONAL</span>; it <span class="bcp14">MUST NOT</span> appear more
          than once in the SR Policy encoding.<a href="#section-2.4.2-2" class="pilcrow">¶</a></p>
<p id="section-2.4.2-3">When the Binding SID sub-TLV is used to signal an SRv6 SID, the
          selection of the corresponding SRv6 Endpoint Behavior <span>[<a href="#RFC8986" class="cite xref">RFC8986</a>]</span> to be instantiated is determined by the headend
          node. It is <span class="bcp14">RECOMMENDED</span> that the SRv6 Binding SID sub-TLV, as
          defined in <a href="#SRV6BINDINGSIDTLV" class="auto internal xref">Section 2.4.3</a>, be used when signaling an SRv6 BSID
          for an SR Policy CP. The support for the use of this
          Binding SID sub-TLV for the signaling of an SRv6 BSID is retained
          primarily for backward compatibility with implementations that
          followed early draft versions of this document that had not defined the
          SRv6 Binding SID sub-TLV.<a href="#section-2.4.2-3" class="pilcrow">¶</a></p>
<p id="section-2.4.2-4">The Binding SID sub-TLV has the following format:<a href="#section-2.4.2-4" class="pilcrow">¶</a></p>
<span id="name-binding-sid-sub-tlv-2"></span><figure id="figure-4">
            <div class="alignLeft art-text artwork" id="section-2.4.2-5.1">
<pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     Type      |   Length      |     Flags     |   RESERVED    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|              Binding SID (variable, optional)                 |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-4" class="selfRef">Figure 4</a>:
<a href="#name-binding-sid-sub-tlv-2" class="selfRef">Binding SID Sub-TLV</a>
            </figcaption></figure>
<p id="section-2.4.2-6">Where:<a href="#section-2.4.2-6" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-2.4.2-7">
            <dt id="section-2.4.2-7.1">Type:</dt>
            <dd style="margin-left: 1.5em" id="section-2.4.2-7.2">13<a href="#section-2.4.2-7.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-2.4.2-7.3">Length:</dt>
            <dd style="margin-left: 1.5em" id="section-2.4.2-7.4">Specifies the length of the value field (i.e., not
              including Type and Length fields) in terms of octets. The value
              <span class="bcp14">MUST</span> be 18 when a SRv6 BSID is present, 6 when an SR-MPLS
              BSID is present, or 2 when no BSID is present.<a href="#section-2.4.2-7.4" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-2.4.2-7.5">Flags:</dt>
            <dd style="margin-left: 1.5em" id="section-2.4.2-7.6">
              <p id="section-2.4.2-7.6.1">1 octet of flags. The following flags are defined in
              the registry "SR Policy Binding SID Flags" as described in <a href="#IANABSIDFLAGS" class="auto internal xref">Section 6.6</a>:<a href="#section-2.4.2-7.6.1" class="pilcrow">¶</a></p>
<span id="name-sr-policy-binding-sid-flags"></span><figure id="figure-5">
                <div class="alignLeft art-text artwork" id="section-2.4.2-7.6.2.1">
<pre>
 0 1 2 3 4 5 6 7
+-+-+-+-+-+-+-+-+
|S|I|           |
+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-5" class="selfRef">Figure 5</a>:
<a href="#name-sr-policy-binding-sid-flags" class="selfRef">SR Policy Binding SID Flags</a>
                </figcaption></figure>
<p id="section-2.4.2-7.6.3">Where:<a href="#section-2.4.2-7.6.3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.4.2-7.6.4.1">The S-Flag encodes the "Specified-BSID-Only"
                  behavior. It is used by SRPM as described in <span><a href="https://rfc-editor.org/rfc/rfc9256#section-6.2.3" class="relref">Section 6.2.3</a> of [<a href="#RFC9256" class="cite xref">RFC9256</a>]</span>.<a href="#section-2.4.2-7.6.4.1" class="pilcrow">¶</a>
</li>
                <li class="normal" id="section-2.4.2-7.6.4.2">The I-Flag encodes the "Drop-Upon-Invalid" 
                  behavior. It is used by SRPM as described in <span><a href="https://rfc-editor.org/rfc/rfc9256#section-8.2" class="relref">Section 8.2</a> of [<a href="#RFC9256" class="cite xref">RFC9256</a>]</span> to
                  define a specific SR Policy forwarding behavior. The flag
                  indicates that the SR Policy is to perform the "Drop-Upon-Invalid" behavior when no valid CP is
                  available for this SR Policy. In this situation, the CP with
                  the highest preference amongst those with the "Drop-Upon-Invalid" behavior is made active to drop traffic steered over
                  the SR Policy.<a href="#section-2.4.2-7.6.4.2" class="pilcrow">¶</a>
</li>
                <li class="normal" id="section-2.4.2-7.6.4.3">The unassigned bits in the Flags field <span class="bcp14">MUST</span> be set to zero
                  upon transmission and <span class="bcp14">MUST</span> be ignored upon receipt.<a href="#section-2.4.2-7.6.4.3" class="pilcrow">¶</a>
</li>
              </ul>
</dd>
            <dd class="break"></dd>
<dt id="section-2.4.2-7.7">RESERVED:</dt>
            <dd style="margin-left: 1.5em" id="section-2.4.2-7.8">1 octet of reserved bits. <span class="bcp14">MUST</span> be set to zero on
              transmission and <span class="bcp14">MUST</span> be ignored on receipt.<a href="#section-2.4.2-7.8" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-2.4.2-7.9">Binding SID:</dt>
            <dd style="margin-left: 1.5em" id="section-2.4.2-7.10">
              <p id="section-2.4.2-7.10.1">If the length is 2, then no BSID is
              present. If the length is 6, then the BSID is encoded in 4
              octets using the format below. Traffic Class (TC), S, and TTL
              (Total of 12 bits) are RESERVED and <span class="bcp14">MUST</span> be set to zero and <span class="bcp14">MUST</span>
              be ignored.<a href="#section-2.4.2-7.10.1" class="pilcrow">¶</a></p>
<span id="name-binding-sid-label-encoding"></span><figure id="figure-6">
                <div class="alignLeft art-text artwork" id="section-2.4.2-7.10.2.1">
<pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|          Label                        | TC  |S|       TTL     |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-6" class="selfRef">Figure 6</a>:
<a href="#name-binding-sid-label-encoding" class="selfRef">Binding SID Label Encoding</a>
                </figcaption></figure>
<p id="section-2.4.2-7.10.3">The Label field is validated by the SRPM but <span class="bcp14">MUST NOT</span> contain the reserved MPLS label values (0-15). If the length
              is 18, then the BSID contains a 16-octet SRv6 SID.<a href="#section-2.4.2-7.10.3" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
<div id="SRV6BINDINGSIDTLV">
<section id="section-2.4.3">
          <h4 id="name-srv6-binding-sid-sub-tlv">
<a href="#section-2.4.3" class="section-number selfRef">2.4.3. </a><a href="#name-srv6-binding-sid-sub-tlv" class="section-name selfRef">SRv6 Binding SID Sub-TLV</a>
          </h4>
<p id="section-2.4.3-1">The SRv6 Binding SID sub-TLV is used to signal the SRv6-BSID-related information of an SR Policy CP. It enables
          the specification of the SRv6 Endpoint Behavior <span>[<a href="#RFC8986" class="cite xref">RFC8986</a>]</span> to be instantiated on the
          headend node. The contents of this sub-TLV are used by the SRPM as
          described in <span><a href="https://rfc-editor.org/rfc/rfc9256#section-6" class="relref">Section 6</a> of [<a href="#RFC9256" class="cite xref">RFC9256</a>]</span>.<a href="#section-2.4.3-1" class="pilcrow">¶</a></p>
<p id="section-2.4.3-2">The SRv6 Binding SID sub-TLV is <span class="bcp14">OPTIONAL</span>. More than one SRv6
          Binding SID sub-TLV <span class="bcp14">MAY</span> be signaled in the same SR Policy encoding
          to indicate one or more SRv6 SIDs, each with potentially different
          SRv6 Endpoint Behaviors to be instantiated.<a href="#section-2.4.3-2" class="pilcrow">¶</a></p>
<p id="section-2.4.3-3">The SRv6 Binding SID sub-TLV has the following format:<a href="#section-2.4.3-3" class="pilcrow">¶</a></p>
<span id="name-srv6-binding-sid-sub-tlv-2"></span><figure id="figure-7">
            <div class="alignLeft art-text artwork" id="section-2.4.3-4.1">
<pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     Type      |   Length      |     Flags     |   RESERVED    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                 SRv6 Binding SID (16 octets)                  |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
//     SRv6 Endpoint Behavior and SID Structure (optional)     //
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-7" class="selfRef">Figure 7</a>:
<a href="#name-srv6-binding-sid-sub-tlv-2" class="selfRef">SRv6 Binding SID Sub-TLV</a>
            </figcaption></figure>
<p id="section-2.4.3-5">Where:<a href="#section-2.4.3-5" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-2.4.3-6">
            <dt id="section-2.4.3-6.1">Type:</dt>
            <dd style="margin-left: 1.5em" id="section-2.4.3-6.2">20<a href="#section-2.4.3-6.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-2.4.3-6.3">Length:</dt>
            <dd style="margin-left: 1.5em" id="section-2.4.3-6.4">Specifies the length of the value field (i.e., not
              including Type and Length fields) in terms of octets. The value
              <span class="bcp14">MUST</span> be 26 when the SRv6 Endpoint Behavior and SID Structure is
              present; else, it <span class="bcp14">MUST</span> be 18.<a href="#section-2.4.3-6.4" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-2.4.3-6.5">Flags:</dt>
            <dd style="margin-left: 1.5em" id="section-2.4.3-6.6">
              <p id="section-2.4.3-6.6.1">1 octet of flags. The following flags are defined in
              the registry "SR Policy SRv6 Binding SID Flags" as described in
              <a href="#IANASRV6BSIDFLAGS" class="auto internal xref">Section 6.7</a>:<a href="#section-2.4.3-6.6.1" class="pilcrow">¶</a></p>
<span id="name-sr-policy-srv6-binding-sid-"></span><figure id="figure-8">
                <div class="alignLeft art-text artwork" id="section-2.4.3-6.6.2.1">
<pre>
 0 1 2 3 4 5 6 7
+-+-+-+-+-+-+-+-+
|S|I|B|         |
+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-8" class="selfRef">Figure 8</a>:
<a href="#name-sr-policy-srv6-binding-sid-" class="selfRef">SR Policy SRv6 Binding SID Flags</a>
                </figcaption></figure>
<p id="section-2.4.3-6.6.3">Where:<a href="#section-2.4.3-6.6.3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.4.3-6.6.4.1">The S-Flag encodes the "Specified-BSID-Only"
                  behavior. It is used by SRPM as described
                  in <span><a href="https://rfc-editor.org/rfc/rfc9256#section-6.2.3" class="relref">Section 6.2.3</a> of [<a href="#RFC9256" class="cite xref">RFC9256</a>]</span>.<a href="#section-2.4.3-6.6.4.1" class="pilcrow">¶</a>
</li>
                <li class="normal" id="section-2.4.3-6.6.4.2">The I-Flag encodes the "Drop-Upon-Invalid"
                  behavior. It is used by SRPM as described in 
                  <span><a href="https://rfc-editor.org/rfc/rfc9256#section-8.2" class="relref">Section 8.2</a> of [<a href="#RFC9256" class="cite xref">RFC9256</a>]</span>.<a href="#section-2.4.3-6.6.4.2" class="pilcrow">¶</a>
</li>
                <li class="normal" id="section-2.4.3-6.6.4.3">The B-Flag, when set, indicates the presence of
                  the "SRv6 Endpoint Behavior &amp; SID Structure" encoding
                  specified in <a href="#BEHAVIORSTRUCT" class="auto internal xref">Section 2.4.4.2.4</a>.<a href="#section-2.4.3-6.6.4.3" class="pilcrow">¶</a>
</li>
                <li class="normal" id="section-2.4.3-6.6.4.4">The unassigned bits in the Flags field <span class="bcp14">MUST</span> be set to zero
                  upon transmission and <span class="bcp14">MUST</span> be ignored upon receipt.<a href="#section-2.4.3-6.6.4.4" class="pilcrow">¶</a>
</li>
              </ul>
</dd>
            <dd class="break"></dd>
<dt id="section-2.4.3-6.7">RESERVED:</dt>
            <dd style="margin-left: 1.5em" id="section-2.4.3-6.8">1 octet of reserved bits. This field <span class="bcp14">MUST</span> be set to
              zero on transmission and <span class="bcp14">MUST</span> be ignored on receipt.<a href="#section-2.4.3-6.8" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-2.4.3-6.9">SRv6 Binding SID:</dt>
            <dd style="margin-left: 1.5em" id="section-2.4.3-6.10">Contains a 16-octet SRv6 SID. The value 0
              <span class="bcp14">MAY</span> be used when the controller wants to indicate the desired
              SRv6 Endpoint Behavior, SID Structure, or flags without
              specifying the BSID.<a href="#section-2.4.3-6.10" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-2.4.3-6.11">SRv6 Endpoint Behavior and SID Structure:</dt>
            <dd style="margin-left: 1.5em" id="section-2.4.3-6.12">Optional, as
              defined in <a href="#BEHAVIORSTRUCT" class="auto internal xref">Section 2.4.4.2.4</a>. The SRv6 Endpoint
              Behavior and SID Structure <span class="bcp14">MUST NOT</span> be included when the SRv6
              SID has not been included.<a href="#section-2.4.3-6.12" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
<div id="SLTLV">
<section id="section-2.4.4">
          <h4 id="name-segment-list-sub-tlv">
<a href="#section-2.4.4" class="section-number selfRef">2.4.4. </a><a href="#name-segment-list-sub-tlv" class="section-name selfRef">Segment List Sub-TLV</a>
          </h4>
<p id="section-2.4.4-1">The Segment List sub-TLV encodes a single explicit path towards
          the Endpoint as described in <span><a href="https://rfc-editor.org/rfc/rfc9256#section-5.1" class="relref">Section 5.1</a> of [<a href="#RFC9256" class="cite xref">RFC9256</a>]</span>. The Segment List sub-TLV
          includes the elements of the paths (i.e., segments) as well as an
          optional Weight sub-TLV.<a href="#section-2.4.4-1" class="pilcrow">¶</a></p>
<p id="section-2.4.4-2">The Segment List sub-TLV may exceed 255 bytes in length due to a
          large number of segments. A 2-octet length is thus required.
          According to <span><a href="https://rfc-editor.org/rfc/rfc9012#section-2" class="relref">Section 2</a> of [<a href="#RFC9012" class="cite xref">RFC9012</a>]</span>, the sub-TLV type
          defines the size of the Length field. Therefore, for the Segment
          List sub-TLV, a code point of 128 or higher is used.<a href="#section-2.4.4-2" class="pilcrow">¶</a></p>
<p id="section-2.4.4-3">The Segment List sub-TLV is <span class="bcp14">OPTIONAL</span> and <span class="bcp14">MAY</span> appear multiple
          times in the SR Policy encoding. The ordering of Segment List
          sub-TLVs does not matter since each sub-TLV encodes a Segment
          List.<a href="#section-2.4.4-3" class="pilcrow">¶</a></p>
<p id="section-2.4.4-4">The Segment List sub-TLV contains zero or more Segment sub-TLVs
          and <span class="bcp14">MAY</span> contain a Weight sub-TLV.<a href="#section-2.4.4-4" class="pilcrow">¶</a></p>
<p id="section-2.4.4-5">The Segment List sub-TLV has the following format:<a href="#section-2.4.4-5" class="pilcrow">¶</a></p>
<span id="name-segment-list-sub-tlv-2"></span><figure id="figure-9">
            <div class="alignLeft art-text artwork" id="section-2.4.4-6.1">
<pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     Type      |             Length            |   RESERVED    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
//                           sub-TLVs                          //
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-9" class="selfRef">Figure 9</a>:
<a href="#name-segment-list-sub-tlv-2" class="selfRef">Segment List Sub-TLV</a>
            </figcaption></figure>
<p id="section-2.4.4-7">Where:<a href="#section-2.4.4-7" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-2.4.4-8">
            <dt id="section-2.4.4-8.1">Type:</dt>
            <dd style="margin-left: 1.5em" id="section-2.4.4-8.2">128<a href="#section-2.4.4-8.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-2.4.4-8.3">Length:</dt>
            <dd style="margin-left: 1.5em" id="section-2.4.4-8.4">The total length (not including the Type and Length
              fields) of the sub-TLVs encoded within the Segment List sub-TLV
              in terms of octets.<a href="#section-2.4.4-8.4" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-2.4.4-8.5">RESERVED:</dt>
            <dd style="margin-left: 1.5em" id="section-2.4.4-8.6">1 octet of reserved bits. This field <span class="bcp14">MUST</span> be set to
              zero on transmission and <span class="bcp14">MUST</span> be ignored on receipt.<a href="#section-2.4.4-8.6" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-2.4.4-8.7">sub-TLVs currently defined: </dt>
            <dd style="margin-left: 1.5em" id="section-2.4.4-8.8">
              <ul class="normal">
<li class="normal" id="section-2.4.4-8.8.1.1">
                  <p id="section-2.4.4-8.8.1.1.1">An optional single Weight sub-TLV<a href="#section-2.4.4-8.8.1.1.1" class="pilcrow">¶</a></p>
</li>
                <li class="normal" id="section-2.4.4-8.8.1.2">
                  <p id="section-2.4.4-8.8.1.2.1">Zero or more Segment sub-TLVs<a href="#section-2.4.4-8.8.1.2.1" class="pilcrow">¶</a></p>
</li>
              </ul>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-2.4.4-9">Validation of an explicit path encoded by the Segment List
          sub-TLV is beyond the scope of BGP and performed by the SRPM as
          described in <span><a href="https://rfc-editor.org/rfc/rfc9256#section-5" class="relref">Section 5</a> of [<a href="#RFC9256" class="cite xref">RFC9256</a>]</span>.<a href="#section-2.4.4-9" class="pilcrow">¶</a></p>
<div id="WEIGHTTLV">
<section id="section-2.4.4.1">
            <h5 id="name-weight-sub-tlv">
<a href="#section-2.4.4.1" class="section-number selfRef">2.4.4.1. </a><a href="#name-weight-sub-tlv" class="section-name selfRef">Weight Sub-TLV</a>
            </h5>
<p id="section-2.4.4.1-1">The Weight sub-TLV specifies the weight associated with a given
            segment list. The contents of this sub-TLV are used only by the
            SRPM as described in <span><a href="https://rfc-editor.org/rfc/rfc9256#section-2.11" class="relref">Section 2.11</a> of [<a href="#RFC9256" class="cite xref">RFC9256</a>]</span>.<a href="#section-2.4.4.1-1" class="pilcrow">¶</a></p>
<p id="section-2.4.4.1-2">The Weight sub-TLV is <span class="bcp14">OPTIONAL</span>; it <span class="bcp14">MUST NOT</span> appear more than
            once inside the Segment List sub-TLV.<a href="#section-2.4.4.1-2" class="pilcrow">¶</a></p>
<p id="section-2.4.4.1-3">The Weight sub-TLV has the following format:<a href="#section-2.4.4.1-3" class="pilcrow">¶</a></p>
<span id="name-weight-sub-tlv-2"></span><figure id="figure-10">
              <div class="alignLeft art-text artwork" id="section-2.4.4.1-4.1">
<pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     Type      |   Length      |     Flags     |   RESERVED    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                              Weight                           |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-10" class="selfRef">Figure 10</a>:
<a href="#name-weight-sub-tlv-2" class="selfRef">Weight Sub-TLV</a>
              </figcaption></figure>
<p id="section-2.4.4.1-5">Where:<a href="#section-2.4.4.1-5" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-2.4.4.1-6">
              <dt id="section-2.4.4.1-6.1">Type:</dt>
              <dd style="margin-left: 1.5em" id="section-2.4.4.1-6.2">9<a href="#section-2.4.4.1-6.2" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-2.4.4.1-6.3">Length:</dt>
              <dd style="margin-left: 1.5em" id="section-2.4.4.1-6.4">Specifies the length of the value field (i.e., not
                including Type and Length fields) in terms of octets. The
                value <span class="bcp14">MUST</span> be 6.<a href="#section-2.4.4.1-6.4" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-2.4.4.1-6.5">Flags:</dt>
              <dd style="margin-left: 1.5em" id="section-2.4.4.1-6.6">1 octet of flags. No flags are defined in this
                document. The Flags field <span class="bcp14">MUST</span> be set to zero on transmission
                and <span class="bcp14">MUST</span> be ignored on receipt.<a href="#section-2.4.4.1-6.6" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-2.4.4.1-6.7">RESERVED:</dt>
              <dd style="margin-left: 1.5em" id="section-2.4.4.1-6.8">1 octet of reserved bits. This field <span class="bcp14">MUST</span> be set
                to zero on transmission and <span class="bcp14">MUST</span> be ignored on receipt.<a href="#section-2.4.4.1-6.8" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-2.4.4.1-6.9">Weight:</dt>
              <dd style="margin-left: 1.5em" id="section-2.4.4.1-6.10">4 octets carrying an unsigned integer value indicating the
                weight associated with a segment list as described in
                <span><a href="https://rfc-editor.org/rfc/rfc9256#section-2.11" class="relref">Section 2.11</a> of [<a href="#RFC9256" class="cite xref">RFC9256</a>]</span>. A weight value of zero is
                invalid.<a href="#section-2.4.4.1-6.10" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
</dl>
</section>
</div>
<div id="SEGMENTTLV">
<section id="section-2.4.4.2">
            <h5 id="name-segment-sub-tlvs">
<a href="#section-2.4.4.2" class="section-number selfRef">2.4.4.2. </a><a href="#name-segment-sub-tlvs" class="section-name selfRef">Segment Sub-TLVs</a>
            </h5>
<p id="section-2.4.4.2-1">A Segment sub-TLV describes a single segment in a segment list
            (i.e., a single element of the explicit path). One or more Segment
            sub-TLVs constitute an explicit path of the SR Policy CP. The contents of these sub-TLVs are used only by the SRPM as
            described in <span><a href="https://rfc-editor.org/rfc/rfc9256#section-4" class="relref">Section 4</a> of [<a href="#RFC9256" class="cite xref">RFC9256</a>]</span>.<a href="#section-2.4.4.2-1" class="pilcrow">¶</a></p>
<p id="section-2.4.4.2-2">The Segment sub-TLVs are <span class="bcp14">OPTIONAL</span> and <span class="bcp14">MAY</span> appear multiple times
            in the Segment List sub-TLV.<a href="#section-2.4.4.2-2" class="pilcrow">¶</a></p>
<p id="section-2.4.4.2-3"><span><a href="https://rfc-editor.org/rfc/rfc9256#section-4" class="relref">Section 4</a> of [<a href="#RFC9256" class="cite xref">RFC9256</a>]</span> defines several Segment
            Types:<a href="#section-2.4.4.2-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-2.4.4.2-4">
              <dt id="section-2.4.4.2-4.1">Type A:</dt>
              <dd style="margin-left: 1.5em" id="section-2.4.4.2-4.2">SR-MPLS Label<a href="#section-2.4.4.2-4.2" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-2.4.4.2-4.3">Type B:</dt>
              <dd style="margin-left: 1.5em" id="section-2.4.4.2-4.4">SRv6 SID<a href="#section-2.4.4.2-4.4" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-2.4.4.2-4.5">Type C:</dt>
              <dd style="margin-left: 1.5em" id="section-2.4.4.2-4.6">IPv4 Prefix with optional SR Algorithm<a href="#section-2.4.4.2-4.6" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-2.4.4.2-4.7">Type D:</dt>
              <dd style="margin-left: 1.5em" id="section-2.4.4.2-4.8">IPv6 Global Prefix with optional SR Algorithm for SR-MPLS<a href="#section-2.4.4.2-4.8" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-2.4.4.2-4.9">Type E:</dt>
              <dd style="margin-left: 1.5em" id="section-2.4.4.2-4.10">IPv4 Prefix with Local Interface ID<a href="#section-2.4.4.2-4.10" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-2.4.4.2-4.11">Type F:</dt>
              <dd style="margin-left: 1.5em" id="section-2.4.4.2-4.12">IPv4 Addresses for link endpoints as Local, Remote pair<a href="#section-2.4.4.2-4.12" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-2.4.4.2-4.13">Type G:</dt>
              <dd style="margin-left: 1.5em" id="section-2.4.4.2-4.14">IPv6 Prefix and Interface ID for link endpoints as Local, Remote pair for SR-MPLS<a href="#section-2.4.4.2-4.14" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-2.4.4.2-4.15">Type H:</dt>
              <dd style="margin-left: 1.5em" id="section-2.4.4.2-4.16">IPv6 Addresses for link endpoints as Local, Remote pair for SR-MPLS<a href="#section-2.4.4.2-4.16" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-2.4.4.2-4.17">Type I:</dt>
              <dd style="margin-left: 1.5em" id="section-2.4.4.2-4.18">IPv6 Global Prefix with optional SR Algorithm for SRv6<a href="#section-2.4.4.2-4.18" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-2.4.4.2-4.19">Type J:</dt>
              <dd style="margin-left: 1.5em" id="section-2.4.4.2-4.20">IPv6 Prefix and Interface ID for link endpoints as Local, Remote pair for SRv6<a href="#section-2.4.4.2-4.20" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-2.4.4.2-4.21">Type K:</dt>
              <dd style="margin-left: 1.5em" id="section-2.4.4.2-4.22">IPv6 Addresses for link endpoints as Local, Remote pair for SRv6<a href="#section-2.4.4.2-4.22" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
</dl>
<p id="section-2.4.4.2-5">The following subsections specify the sub-TLVs used for
            Segment Types A and B. The other segment types are specified in
            <span>[<a href="#RFC9831" class="cite xref">RFC9831</a>]</span>. As specified in
            <span><a href="https://rfc-editor.org/rfc/rfc9256#section-5.1" class="relref">Section 5.1</a> of [<a href="#RFC9256" class="cite xref">RFC9256</a>]</span>, a mix of SR-MPLS and SRv6
            segments make the segment-list invalid.<a href="#section-2.4.4.2-5" class="pilcrow">¶</a></p>
<div id="TYPEA">
<section id="section-2.4.4.2.1">
              <h6 id="name-segment-type-a">
<a href="#section-2.4.4.2.1" class="section-number selfRef">2.4.4.2.1. </a><a href="#name-segment-type-a" class="section-name selfRef">Segment Type A</a>
              </h6>
<p id="section-2.4.4.2.1-1">The Type A Segment sub-TLV encodes a single SR-MPLS SID. The
              format is as follows and is used to encode MPLS Label fields as
              specified in <span>[<a href="#RFC3032" class="cite xref">RFC3032</a>]</span> and <span>[<a href="#RFC5462" class="cite xref">RFC5462</a>]</span>:<a href="#section-2.4.4.2.1-1" class="pilcrow">¶</a></p>
<span id="name-type-a-segment-sub-tlv"></span><figure id="figure-11">
                <div class="alignLeft art-text artwork" id="section-2.4.4.2.1-2.1">
<pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     Type      |   Length      |     Flags     |   RESERVED    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|          Label                        | TC  |S|       TTL     |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-11" class="selfRef">Figure 11</a>:
<a href="#name-type-a-segment-sub-tlv" class="selfRef">Type A Segment Sub-TLV</a>
                </figcaption></figure>
<p id="section-2.4.4.2.1-3">Where:<a href="#section-2.4.4.2.1-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-2.4.4.2.1-4">
                <dt id="section-2.4.4.2.1-4.1">Type:</dt>
                <dd style="margin-left: 1.5em" id="section-2.4.4.2.1-4.2">1<a href="#section-2.4.4.2.1-4.2" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-2.4.4.2.1-4.3">Length:</dt>
                <dd style="margin-left: 1.5em" id="section-2.4.4.2.1-4.4">Specifies the length of the value field (i.e.,
                  not including Type and Length fields) in terms of octets.
                  The value <span class="bcp14">MUST</span> be 6.<a href="#section-2.4.4.2.1-4.4" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-2.4.4.2.1-4.5">Flags:</dt>
                <dd style="margin-left: 1.5em" id="section-2.4.4.2.1-4.6">1 octet of flags as defined in <a href="#SEGMENTFLAGS" class="auto internal xref">Section 2.4.4.2.3</a>.<a href="#section-2.4.4.2.1-4.6" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-2.4.4.2.1-4.7">RESERVED:</dt>
                <dd style="margin-left: 1.5em" id="section-2.4.4.2.1-4.8">1 octet of reserved bits. This field <span class="bcp14">MUST</span> be
                  set to zero on transmission and <span class="bcp14">MUST</span> be ignored on
                  receipt.<a href="#section-2.4.4.2.1-4.8" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-2.4.4.2.1-4.9">Label:</dt>
                <dd style="margin-left: 1.5em" id="section-2.4.4.2.1-4.10">20 bits of label value.<a href="#section-2.4.4.2.1-4.10" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-2.4.4.2.1-4.11">TC:</dt>
                <dd style="margin-left: 1.5em" id="section-2.4.4.2.1-4.12">3 bits of traffic class.<a href="#section-2.4.4.2.1-4.12" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-2.4.4.2.1-4.13">S:</dt>
                <dd style="margin-left: 1.5em" id="section-2.4.4.2.1-4.14">1 bit of bottom-of-stack.<a href="#section-2.4.4.2.1-4.14" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-2.4.4.2.1-4.15">TTL:</dt>
                <dd style="margin-left: 1.5em" id="section-2.4.4.2.1-4.16">1 octet of TTL.<a href="#section-2.4.4.2.1-4.16" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
</dl>
<p id="section-2.4.4.2.1-5">The following applies to the Type-1 Segment sub-TLV:<a href="#section-2.4.4.2.1-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.4.4.2.1-6.1">
                  <p id="section-2.4.4.2.1-6.1.1">The S bit <span class="bcp14">MUST</span> be zero upon transmission and <span class="bcp14">MUST</span> be
                  ignored upon reception.<a href="#section-2.4.4.2.1-6.1.1" class="pilcrow">¶</a></p>
</li>
                <li class="normal" id="section-2.4.4.2.1-6.2">
                  <p id="section-2.4.4.2.1-6.2.1">If the originator wants the receiver to choose the TC
                  value, it sets the TC field to zero.<a href="#section-2.4.4.2.1-6.2.1" class="pilcrow">¶</a></p>
</li>
                <li class="normal" id="section-2.4.4.2.1-6.3">
                  <p id="section-2.4.4.2.1-6.3.1">If the originator wants the receiver to choose the TTL
                  value, it sets the TTL field to 255.<a href="#section-2.4.4.2.1-6.3.1" class="pilcrow">¶</a></p>
</li>
                <li class="normal" id="section-2.4.4.2.1-6.4">
                  <p id="section-2.4.4.2.1-6.4.1">If the originator wants to recommend a value for these
                  fields, it puts those values in the TC and/or TTL
                  fields.<a href="#section-2.4.4.2.1-6.4.1" class="pilcrow">¶</a></p>
</li>
                <li class="normal" id="section-2.4.4.2.1-6.5">
                  <p id="section-2.4.4.2.1-6.5.1">The receiver <span class="bcp14">MAY</span> override the originator's values for
                  these fields. This would be determined by local policy at
                  the receiver. One possible policy would be to override the
                  fields only if the fields have the default values specified
                  above.<a href="#section-2.4.4.2.1-6.5.1" class="pilcrow">¶</a></p>
</li>
              </ul>
</section>
</div>
<div id="TYPEB">
<section id="section-2.4.4.2.2">
              <h6 id="name-segment-type-b">
<a href="#section-2.4.4.2.2" class="section-number selfRef">2.4.4.2.2. </a><a href="#name-segment-type-b" class="section-name selfRef">Segment Type B</a>
              </h6>
<p id="section-2.4.4.2.2-1">The Type B Segment sub-TLV encodes a single SRv6 SID. The
              format is as follows:<a href="#section-2.4.4.2.2-1" class="pilcrow">¶</a></p>
<span id="name-type-b-segment-sub-tlv"></span><figure id="figure-12">
                <div class="alignLeft art-text artwork" id="section-2.4.4.2.2-2.1">
<pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     Type      |   Length      |     Flags     |   RESERVED    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
//                       SRv6 SID (16 octets)                  //
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
//           SRv6 Endpoint Behavior and SID Structure          //
//                    (optional, 8 octets)                     //
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-12" class="selfRef">Figure 12</a>:
<a href="#name-type-b-segment-sub-tlv" class="selfRef">Type B Segment Sub-TLV</a>
                </figcaption></figure>
<p id="section-2.4.4.2.2-3">Where:<a href="#section-2.4.4.2.2-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-2.4.4.2.2-4">
                <dt id="section-2.4.4.2.2-4.1">Type:</dt>
                <dd style="margin-left: 1.5em" id="section-2.4.4.2.2-4.2">13<a href="#section-2.4.4.2.2-4.2" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-2.4.4.2.2-4.3">Length:</dt>
                <dd style="margin-left: 1.5em" id="section-2.4.4.2.2-4.4">Specifies the length of the value field (i.e.,
                  not including Type and Length fields) in terms of octets.
                  The value <span class="bcp14">MUST</span> be 26 when the SRv6 Endpoint Behavior and SID
                  Structure is present; else, it <span class="bcp14">MUST</span> be 18.<a href="#section-2.4.4.2.2-4.4" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-2.4.4.2.2-4.5">Flags:</dt>
                <dd style="margin-left: 1.5em" id="section-2.4.4.2.2-4.6">1 octet of flags as defined in <a href="#SEGMENTFLAGS" class="auto internal xref">Section 2.4.4.2.3</a>.<a href="#section-2.4.4.2.2-4.6" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-2.4.4.2.2-4.7">RESERVED:</dt>
                <dd style="margin-left: 1.5em" id="section-2.4.4.2.2-4.8">1 octet of reserved bits. This field <span class="bcp14">MUST</span> be
                  set to zero on transmission and <span class="bcp14">MUST</span> be ignored on
                  receipt.<a href="#section-2.4.4.2.2-4.8" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-2.4.4.2.2-4.9">SRv6 SID:</dt>
                <dd style="margin-left: 1.5em" id="section-2.4.4.2.2-4.10">16 octets of IPv6 address.<a href="#section-2.4.4.2.2-4.10" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-2.4.4.2.2-4.11">SRv6 Endpoint Behavior and SID Structure:</dt>
                <dd style="margin-left: 1.5em" id="section-2.4.4.2.2-4.12">Optional, as
                  defined in <a href="#BEHAVIORSTRUCT" class="auto internal xref">Section 2.4.4.2.4</a>. The SRv6
                  Endpoint Behavior and SID Structure <span class="bcp14">MUST NOT</span> be included
                  when the SRv6 SID has not been included.<a href="#section-2.4.4.2.2-4.12" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
</dl>
<p id="section-2.4.4.2.2-5">The sub-TLV code point 2 defined for the advertisement of
              Segment Type B in the earlier draft versions of this document has been
              deprecated to avoid backward compatibility issues.<a href="#section-2.4.4.2.2-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="SEGMENTFLAGS">
<section id="section-2.4.4.2.3">
              <h6 id="name-sr-policy-segment-flags">
<a href="#section-2.4.4.2.3" class="section-number selfRef">2.4.4.2.3. </a><a href="#name-sr-policy-segment-flags" class="section-name selfRef">SR Policy Segment Flags</a>
              </h6>
<p id="section-2.4.4.2.3-1">The Segment Type sub-TLVs described above may contain the
              following SR Policy Segment Flags in their Flags field. Also
              refer to <a href="#IANASIDFLAGS" class="auto internal xref">Section 6.8</a>:<a href="#section-2.4.4.2.3-1" class="pilcrow">¶</a></p>
<span id="name-sr-policy-segment-flags-2"></span><figure id="figure-13">
                <div class="alignLeft art-text artwork" id="section-2.4.4.2.3-2.1">
<pre>
 0 1 2 3 4 5 6 7
+-+-+-+-+-+-+-+-+
|V|   |B|       |
+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-13" class="selfRef">Figure 13</a>:
<a href="#name-sr-policy-segment-flags-2" class="selfRef">SR Policy Segment Flags</a>
                </figcaption></figure>
<p id="section-2.4.4.2.3-3">Where:<a href="#section-2.4.4.2.3-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.4.4.2.3-4.1"> When the V-Flag is set, it is used by SRPM for "SID
                  verification" as described in <span><a href="https://rfc-editor.org/rfc/rfc9256#section-5.1" class="relref">Section 5.1</a> of [<a href="#RFC9256" class="cite xref">RFC9256</a>]</span>.<a href="#section-2.4.4.2.3-4.1" class="pilcrow">¶</a>
</li>
                <li class="normal" id="section-2.4.4.2.3-4.2">When the B-Flag is set, it indicates the presence of
                  the "SRv6 Endpoint Behavior &amp; SID Structure" encoding
                  specified in <a href="#BEHAVIORSTRUCT" class="auto internal xref">Section 2.4.4.2.4</a>.<a href="#section-2.4.4.2.3-4.2" class="pilcrow">¶</a>
</li>
                <li class="normal" id="section-2.4.4.2.3-4.3">The unassigned bits in the Flags field <span class="bcp14">MUST</span> be set to zero
                  upon transmission and <span class="bcp14">MUST</span> be ignored upon receipt.<a href="#section-2.4.4.2.3-4.3" class="pilcrow">¶</a>
</li>
              </ul>
<p id="section-2.4.4.2.3-5">The following applies to the Segment Flags:<a href="#section-2.4.4.2.3-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.4.4.2.3-6.1">
                  V-Flag applies to all Segment Types.<a href="#section-2.4.4.2.3-6.1" class="pilcrow">¶</a>
</li>
                <li class="normal" id="section-2.4.4.2.3-6.2">
                  B-Flag applies to Segment Type B. If B-Flag appears with
                  Segment Type A, it <span class="bcp14">MUST</span> be ignored.<a href="#section-2.4.4.2.3-6.2" class="pilcrow">¶</a>
</li>
              </ul>
</section>
</div>
<div id="BEHAVIORSTRUCT">
<section id="section-2.4.4.2.4">
              <h6 id="name-srv6-endpoint-behavior-and-">
<a href="#section-2.4.4.2.4" class="section-number selfRef">2.4.4.2.4. </a><a href="#name-srv6-endpoint-behavior-and-" class="section-name selfRef">SRv6 Endpoint Behavior and SID Structure</a>
              </h6>
<p id="section-2.4.4.2.4-1">The Segment Type sub-TLVs described above <span class="bcp14">MAY</span> contain the
              SRv6 Endpoint Behavior and SID Structure <span>[<a href="#RFC8986" class="cite xref">RFC8986</a>]</span> encoding as described below:<a href="#section-2.4.4.2.4-1" class="pilcrow">¶</a></p>
<span id="name-srv6-endpoint-behavior-and-s"></span><figure id="figure-14">
                <div class="alignLeft art-text artwork" id="section-2.4.4.2.4-2.1">
<pre>
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|       Endpoint Behavior       |            Reserved           |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|    LB Length  |  LN Length    | Fun. Length   |  Arg. Length  |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-14" class="selfRef">Figure 14</a>:
<a href="#name-srv6-endpoint-behavior-and-s" class="selfRef">SRv6 Endpoint Behavior and SID Structure</a>
                </figcaption></figure>
<p id="section-2.4.4.2.4-3">Where:<a href="#section-2.4.4.2.4-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-2.4.4.2.4-4">
                <dt id="section-2.4.4.2.4-4.1">Endpoint Behavior:</dt>
                <dd style="margin-left: 1.5em" id="section-2.4.4.2.4-4.2">2 octets. It carries the SRv6 Endpoint
                  Behavior code point for this SRv6 SID as defined in <span><a href="https://rfc-editor.org/rfc/rfc8986#section-10.2" class="relref">Section 10.2</a> of [<a href="#RFC8986" class="cite xref">RFC8986</a>]</span>. When
                  set with the value 0xFFFF (i.e., Opaque), the choice of SRv6
                  Endpoint Behavior is left to the headend.<a href="#section-2.4.4.2.4-4.2" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-2.4.4.2.4-4.3">Reserved:</dt>
                <dd style="margin-left: 1.5em" id="section-2.4.4.2.4-4.4">2 octets of reserved bits. This field <span class="bcp14">MUST</span> be
                  set to zero on transmission and <span class="bcp14">MUST</span> be ignored on
                  receipt.<a href="#section-2.4.4.2.4-4.4" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-2.4.4.2.4-4.5">Locator Block Length:</dt>
                <dd style="margin-left: 1.5em" id="section-2.4.4.2.4-4.6">1 octet. SRv6 SID Locator Block
                  length in bits.<a href="#section-2.4.4.2.4-4.6" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-2.4.4.2.4-4.7">Locator Node Length:</dt>
                <dd style="margin-left: 1.5em" id="section-2.4.4.2.4-4.8">1 octet. SRv6 SID Locator Node
                  length in bits.<a href="#section-2.4.4.2.4-4.8" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-2.4.4.2.4-4.9">Function Length:</dt>
                <dd style="margin-left: 1.5em" id="section-2.4.4.2.4-4.10">1 octet. SRv6 SID Function length in
                  bits.<a href="#section-2.4.4.2.4-4.10" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-2.4.4.2.4-4.11">Argument Length:</dt>
                <dd style="margin-left: 1.5em" id="section-2.4.4.2.4-4.12">1 octet. SRv6 SID Arguments length in
                  bits.<a href="#section-2.4.4.2.4-4.12" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
</dl>
<p id="section-2.4.4.2.4-5">The total of the locator block, locator node, function, and
              argument lengths <span class="bcp14">MUST</span> be less than or equal to 128.<a href="#section-2.4.4.2.4-5" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="ENLPTLV">
<section id="section-2.4.5">
          <h4 id="name-explicit-null-label-policy-">
<a href="#section-2.4.5" class="section-number selfRef">2.4.5. </a><a href="#name-explicit-null-label-policy-" class="section-name selfRef">Explicit NULL Label Policy Sub-TLV</a>
          </h4>
<p id="section-2.4.5-1">To steer an unlabeled IP packet into an SR Policy for the MPLS
          data plane, it is necessary to push a label stack of one or more
          labels on that packet.<a href="#section-2.4.5-1" class="pilcrow">¶</a></p>
<p id="section-2.4.5-2">The Explicit NULL Label Policy (ENLP) sub-TLV is used to indicate
          whether an Explicit NULL Label <span>[<a href="#RFC3032" class="cite xref">RFC3032</a>]</span> must be
          pushed on an unlabeled IP packet before any other labels.<a href="#section-2.4.5-2" class="pilcrow">¶</a></p>
<p id="section-2.4.5-3">If an ENLP sub-TLV is not present, the decision of whether to
          push an Explicit NULL label on a given packet is a matter of local
          configuration.<a href="#section-2.4.5-3" class="pilcrow">¶</a></p>
<p id="section-2.4.5-4">The ENLP sub-TLV is <span class="bcp14">OPTIONAL</span>; it <span class="bcp14">MUST NOT</span> appear more than
          once in the SR Policy encoding.<a href="#section-2.4.5-4" class="pilcrow">¶</a></p>
<p id="section-2.4.5-5">The contents of this sub-TLV are used by the SRPM as described in
          <span><a href="https://rfc-editor.org/rfc/rfc9256#section-4.1" class="relref">Section 4.1</a> of [<a href="#RFC9256" class="cite xref">RFC9256</a>]</span>.<a href="#section-2.4.5-5" class="pilcrow">¶</a></p>
<span id="name-enlp-sub-tlv"></span><figure id="figure-15">
            <div class="alignLeft art-text artwork" id="section-2.4.5-6.1">
<pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     Type      |   Length      |     Flags     |   RESERVED    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     ENLP      |
+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-15" class="selfRef">Figure 15</a>:
<a href="#name-enlp-sub-tlv" class="selfRef">ENLP Sub-TLV</a>
            </figcaption></figure>
<p id="section-2.4.5-7">Where:<a href="#section-2.4.5-7" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-2.4.5-8">
            <dt id="section-2.4.5-8.1">Type:</dt>
            <dd style="margin-left: 1.5em" id="section-2.4.5-8.2">14<a href="#section-2.4.5-8.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-2.4.5-8.3">Length:</dt>
            <dd style="margin-left: 1.5em" id="section-2.4.5-8.4">Specifies the length of the value field (i.e., not
              including Type and Length fields) in terms of octets. The value
              <span class="bcp14">MUST</span> be 3.<a href="#section-2.4.5-8.4" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-2.4.5-8.5">Flags:</dt>
            <dd style="margin-left: 1.5em" id="section-2.4.5-8.6">1 octet of flags. No flags are defined in this
              document. The Flags field <span class="bcp14">MUST</span> be set to zero on transmission
              and <span class="bcp14">MUST</span> be ignored on receipt.<a href="#section-2.4.5-8.6" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-2.4.5-8.7">RESERVED:</dt>
            <dd style="margin-left: 1.5em" id="section-2.4.5-8.8">1 octet of reserved bits. This field <span class="bcp14">MUST</span> be set to
              zero on transmission and <span class="bcp14">MUST</span> be ignored on receipt.<a href="#section-2.4.5-8.8" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-2.4.5-8.9">ENLP (Explicit NULL Label Policy):</dt>
            <dd style="margin-left: 1.5em" id="section-2.4.5-8.10">
              <p id="section-2.4.5-8.10.1">Indicates whether Explicit
              NULL labels are to be pushed on unlabeled IP packets that are
              being steered into a given SR Policy. The following values have
              been currently defined for this field:<a href="#section-2.4.5-8.10.1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-2.4.5-8.10.2">
                <dt id="section-2.4.5-8.10.2.1">1:</dt>
                <dd style="margin-left: 3.0em" id="section-2.4.5-8.10.2.2">Push an IPv4 Explicit NULL label on an unlabeled IPv4
                  packet but do not push an IPv6 Explicit NULL label on an
                  unlabeled IPv6 packet.<a href="#section-2.4.5-8.10.2.2" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-2.4.5-8.10.2.3">2:</dt>
                <dd style="margin-left: 3.0em" id="section-2.4.5-8.10.2.4">Push an IPv6 Explicit NULL label on an unlabeled IPv6
                  packet but do not push an IPv4 Explicit NULL label on an
                  unlabeled IPv4 packet.<a href="#section-2.4.5-8.10.2.4" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-2.4.5-8.10.2.5">3:</dt>
                <dd style="margin-left: 3.0em" id="section-2.4.5-8.10.2.6">Push an IPv4 Explicit NULL label on an unlabeled IPv4
                  packet and push an IPv6 Explicit NULL label on an unlabeled
                  IPv6 packet.<a href="#section-2.4.5-8.10.2.6" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-2.4.5-8.10.2.7">4:</dt>
                <dd style="margin-left: 3.0em" id="section-2.4.5-8.10.2.8">Do not push an Explicit NULL label.<a href="#section-2.4.5-8.10.2.8" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
</dl>
<p id="section-2.4.5-8.10.3">This field can have one of the values as specified in <a href="#IANAENLP" class="auto internal xref">Section 6.10</a>. The ENLP unassigned values
              may be used for future extensions. Implementations adhering to
              this document <span class="bcp14">MUST</span> ignore the ENLP sub-TLV with
              unrecognized values (viz. other than 1 through 4). The behavior
              signaled in this sub-TLV <span class="bcp14">MAY</span> be overridden by
              local configuration by the network operator based on their
              deployment requirements. <span><a href="https://rfc-editor.org/rfc/rfc9256#section-4.1" class="relref">Section 4.1</a> of [<a href="#RFC9256" class="cite xref">RFC9256</a>]</span> describes the behavior on the
              headend for the handling of the Explicit NULL label.<a href="#section-2.4.5-8.10.3" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
<div id="POLICYPRIORITY">
<section id="section-2.4.6">
          <h4 id="name-sr-policy-priority-sub-tlv">
<a href="#section-2.4.6" class="section-number selfRef">2.4.6. </a><a href="#name-sr-policy-priority-sub-tlv" class="section-name selfRef">SR Policy Priority Sub-TLV</a>
          </h4>
<p id="section-2.4.6-1">An operator <span class="bcp14">MAY</span> set the SR Policy Priority sub-TLV to indicate the
          order in which the SR policies are recomputed upon topological
          change. The contents of this sub-TLV are used by the SRPM as
          described in <span><a href="https://rfc-editor.org/rfc/rfc9256#section-2.12" class="relref">Section 2.12</a> of [<a href="#RFC9256" class="cite xref">RFC9256</a>]</span>.<a href="#section-2.4.6-1" class="pilcrow">¶</a></p>
<p id="section-2.4.6-2">The Priority sub-TLV is <span class="bcp14">OPTIONAL</span>; it <span class="bcp14">MUST NOT</span> appear more than
          once in the SR Policy encoding.<a href="#section-2.4.6-2" class="pilcrow">¶</a></p>
<p id="section-2.4.6-3">The Priority sub-TLV has the following format:<a href="#section-2.4.6-3" class="pilcrow">¶</a></p>
<span id="name-priority-sub-tlv"></span><figure id="figure-16">
            <div class="alignLeft art-text artwork" id="section-2.4.6-4.1">
<pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     Type      |   Length      |  Priority     |   RESERVED    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-16" class="selfRef">Figure 16</a>:
<a href="#name-priority-sub-tlv" class="selfRef">Priority Sub-TLV</a>
            </figcaption></figure>
<p id="section-2.4.6-5">Where:<a href="#section-2.4.6-5" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-2.4.6-6">
            <dt id="section-2.4.6-6.1">Type:</dt>
            <dd style="margin-left: 1.5em" id="section-2.4.6-6.2">15<a href="#section-2.4.6-6.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-2.4.6-6.3">Length:</dt>
            <dd style="margin-left: 1.5em" id="section-2.4.6-6.4">Specifies the length of the value field (i.e., not
              including Type and Length fields) in terms of octets.  The value
              <span class="bcp14">MUST</span> be 2.<a href="#section-2.4.6-6.4" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-2.4.6-6.5">Priority:</dt>
            <dd style="margin-left: 1.5em" id="section-2.4.6-6.6">A 1-octet value indicating the priority as
              specified in <span><a href="https://rfc-editor.org/rfc/rfc9256#section-2.12" class="relref">Section 2.12</a> of [<a href="#RFC9256" class="cite xref">RFC9256</a>]</span>.<a href="#section-2.4.6-6.6" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-2.4.6-6.7">RESERVED:</dt>
            <dd style="margin-left: 1.5em" id="section-2.4.6-6.8">1 octet of reserved bits. This field <span class="bcp14">MUST</span> be set to
              zero on transmission and <span class="bcp14">MUST</span> be ignored on receipt.<a href="#section-2.4.6-6.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
<div id="POLICYCPNAME">
<section id="section-2.4.7">
          <h4 id="name-sr-policy-candidate-path-na">
<a href="#section-2.4.7" class="section-number selfRef">2.4.7. </a><a href="#name-sr-policy-candidate-path-na" class="section-name selfRef">SR Policy Candidate Path Name Sub-TLV</a>
          </h4>
<p id="section-2.4.7-1">An operator <span class="bcp14">MAY</span> set the SR Policy Candidate Path Name sub-TLV to
          attach a symbolic name to the SR Policy CP.<a href="#section-2.4.7-1" class="pilcrow">¶</a></p>
<p id="section-2.4.7-2">Usage of the SR Policy Candidate Path Name sub-TLV is described in
          <span><a href="https://rfc-editor.org/rfc/rfc9256#section-2.6" class="relref">Section 2.6</a> of [<a href="#RFC9256" class="cite xref">RFC9256</a>]</span>.<a href="#section-2.4.7-2" class="pilcrow">¶</a></p>
<p id="section-2.4.7-3">The SR Policy Candidate Path Name sub-TLV may exceed 255 bytes in
          length due to a long name. A 2-octet length is thus required.
          According to <span><a href="https://rfc-editor.org/rfc/rfc9012#section-2" class="relref">Section 2</a> of [<a href="#RFC9012" class="cite xref">RFC9012</a>]</span>, the sub-TLV type
          defines the size of the Length field. Therefore, for the SR Policy
          Candidate Path Name sub-TLV, a code point of 128 or higher is
          used.<a href="#section-2.4.7-3" class="pilcrow">¶</a></p>
<p id="section-2.4.7-4">It is <span class="bcp14">RECOMMENDED</span> that the size of the symbolic name for the
          CP be limited to 255 bytes. Implementations <span class="bcp14">MAY</span> choose
          to truncate long names to 255 bytes when signaling via BGP.<a href="#section-2.4.7-4" class="pilcrow">¶</a></p>
<p id="section-2.4.7-5">The SR Policy Candidate Path Name sub-TLV is <span class="bcp14">OPTIONAL</span>; it <span class="bcp14">MUST NOT</span> appear more than once in the SR Policy encoding.<a href="#section-2.4.7-5" class="pilcrow">¶</a></p>
<p id="section-2.4.7-6">The SR Policy Candidate Path Name sub-TLV has the following format:<a href="#section-2.4.7-6" class="pilcrow">¶</a></p>
<span id="name-sr-policy-candidate-path-nam"></span><figure id="figure-17">
            <div class="alignLeft art-text artwork" id="section-2.4.7-7.1">
<pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     Type      |   Length                      |   RESERVED    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
//            SR Policy Candidate Path Name                     //
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-17" class="selfRef">Figure 17</a>:
<a href="#name-sr-policy-candidate-path-nam" class="selfRef">SR Policy Candidate Path Name Sub-TLV</a>
            </figcaption></figure>
<p id="section-2.4.7-8">Where:<a href="#section-2.4.7-8" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-2.4.7-9">
            <dt id="section-2.4.7-9.1">Type:</dt>
            <dd style="margin-left: 1.5em" id="section-2.4.7-9.2">129<a href="#section-2.4.7-9.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-2.4.7-9.3">Length:</dt>
            <dd style="margin-left: 1.5em" id="section-2.4.7-9.4">Specifies the length of the value field (i.e., not
              including Type and Length fields) in terms of octets. The value
              is variable.<a href="#section-2.4.7-9.4" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-2.4.7-9.5">RESERVED:</dt>
            <dd style="margin-left: 1.5em" id="section-2.4.7-9.6">1 octet of reserved bits. This field <span class="bcp14">MUST</span> be set to
              zero on transmission and <span class="bcp14">MUST</span> be ignored on receipt.<a href="#section-2.4.7-9.6" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-2.4.7-9.7">SR Policy Candidate Path Name:</dt>
            <dd style="margin-left: 1.5em" id="section-2.4.7-9.8">Symbolic name for the SR Policy
              CP without a NULL terminator with encoding as
              specified in <span><a href="https://rfc-editor.org/rfc/rfc9256#section-2.6" class="relref">Section 2.6</a> of [<a href="#RFC9256" class="cite xref">RFC9256</a>]</span>.<a href="#section-2.4.7-9.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
<div id="POLICYNAME">
<section id="section-2.4.8">
          <h4 id="name-sr-policy-name-sub-tlv">
<a href="#section-2.4.8" class="section-number selfRef">2.4.8. </a><a href="#name-sr-policy-name-sub-tlv" class="section-name selfRef">SR Policy Name Sub-TLV</a>
          </h4>
<p id="section-2.4.8-1">An operator <span class="bcp14">MAY</span> set the SR Policy Name sub-TLV to associate a
          symbolic name with the SR Policy for which the CP is
          being advertised via the SR Policy NLRI.<a href="#section-2.4.8-1" class="pilcrow">¶</a></p>
<p id="section-2.4.8-2">Usage of the SR Policy Name sub-TLV is described in <span><a href="https://rfc-editor.org/rfc/rfc9256#section-2.1" class="relref">Section 2.1</a> of [<a href="#RFC9256" class="cite xref">RFC9256</a>]</span>.<a href="#section-2.4.8-2" class="pilcrow">¶</a></p>
<p id="section-2.4.8-3">The SR Policy Name sub-TLV may exceed 255 bytes in length due to a
          long SR Policy name. A 2-octet length is thus required. According to
          <span><a href="https://rfc-editor.org/rfc/rfc9012#section-2" class="relref">Section 2</a> of [<a href="#RFC9012" class="cite xref">RFC9012</a>]</span>, the sub-TLV
          type defines the size of the Length field. Therefore, for the SR Policy
          Name sub-TLV, a code point of 128 or higher is used.<a href="#section-2.4.8-3" class="pilcrow">¶</a></p>
<p id="section-2.4.8-4">It is <span class="bcp14">RECOMMENDED</span> that the size of the symbolic name for the SR
          Policy be limited to 255 bytes. Implementations <span class="bcp14">MAY</span> choose to
          truncate long names to 255 bytes when signaling via BGP.<a href="#section-2.4.8-4" class="pilcrow">¶</a></p>
<p id="section-2.4.8-5">The SR Policy Name sub-TLV is <span class="bcp14">OPTIONAL</span>; it <span class="bcp14">MUST NOT</span> appear more
          than once in the SR Policy encoding.<a href="#section-2.4.8-5" class="pilcrow">¶</a></p>
<p id="section-2.4.8-6">The SR Policy Name sub-TLV has the following format:<a href="#section-2.4.8-6" class="pilcrow">¶</a></p>
<span id="name-sr-policy-name-sub-tlv-2"></span><figure id="figure-18">
            <div class="alignLeft art-text artwork" id="section-2.4.8-7.1">
<pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     Type      |   Length                      |   RESERVED    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
//                      SR Policy Name                          //
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-18" class="selfRef">Figure 18</a>:
<a href="#name-sr-policy-name-sub-tlv-2" class="selfRef">SR Policy Name Sub-TLV</a>
            </figcaption></figure>
<p id="section-2.4.8-8">Where:<a href="#section-2.4.8-8" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-2.4.8-9">
            <dt id="section-2.4.8-9.1">Type:</dt>
            <dd style="margin-left: 1.5em" id="section-2.4.8-9.2">130<a href="#section-2.4.8-9.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-2.4.8-9.3">Length:</dt>
            <dd style="margin-left: 1.5em" id="section-2.4.8-9.4">Specifies the length of the value field (i.e., not
              including Type and Length fields) in terms of octets. The value
              is variable.<a href="#section-2.4.8-9.4" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-2.4.8-9.5">RESERVED:</dt>
            <dd style="margin-left: 1.5em" id="section-2.4.8-9.6">1 octet of reserved bits. This field <span class="bcp14">MUST</span> be set to
              zero on transmission and <span class="bcp14">MUST</span> be ignored on receipt.<a href="#section-2.4.8-9.6" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-2.4.8-9.7">SR Policy Name:</dt>
            <dd style="margin-left: 1.5em" id="section-2.4.8-9.8">Symbolic name for the SR Policy without a NULL
              terminator with encoding as specified in <span><a href="https://rfc-editor.org/rfc/rfc9256#section-2.1" class="relref">Section 2.1</a> of [<a href="#RFC9256" class="cite xref">RFC9256</a>]</span>.<a href="#section-2.4.8-9.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="EXTCOLOR">
<section id="section-3">
      <h2 id="name-color-extended-community">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-color-extended-community" class="section-name selfRef">Color Extended Community</a>
      </h2>
<p id="section-3-1">The Color Extended Community <span>[<a href="#RFC9012" class="cite xref">RFC9012</a>]</span> is used to
      steer traffic corresponding to BGP routes into an SR Policy with
      matching Color value. The Color Extended Community <span class="bcp14">MAY</span> be carried in any
      BGP UPDATE message whose AFI/SAFI is 1/1 (IPv4 Unicast), 2/1 (IPv6
      Unicast), 1/4 (IPv4 Labeled Unicast), 2/4 (IPv6 Labeled Unicast), 1/128
      (VPN-IPv4 Labeled Unicast), 2/128 (VPN-IPv6 Labeled Unicast), or 25/70
      (Ethernet VPN, usually known as EVPN). Use of the Color Extended
      Community in BGP UPDATE messages of other AFI/SAFIs is not covered by
      <span>[<a href="#RFC9012" class="cite xref">RFC9012</a>]</span>; hence, it is outside the scope of this document
      as well.<a href="#section-3-1" class="pilcrow">¶</a></p>
<p id="section-3-2">Two bits from the Flags field of the Color Extended Community are
      used as follows to support the requirements of Color-Only steering as
      specified in <span><a href="https://rfc-editor.org/rfc/rfc9256#section-8.8" class="relref">Section 8.8</a> of [<a href="#RFC9256" class="cite xref">RFC9256</a>]</span>:<a href="#section-3-2" class="pilcrow">¶</a></p>
<span id="name-color-extended-community-fl"></span><figure id="figure-19">
        <div class="alignLeft art-text artwork" id="section-3-3.1">
<pre>
                     1
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|C O|        Unassigned         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-19" class="selfRef">Figure 19</a>:
<a href="#name-color-extended-community-fl" class="selfRef">Color Extended Community Flags</a>
        </figcaption></figure>
<p id="section-3-4">The C and O bits together form the Color-Only Type field, which
      indicates the various matching criteria between the BGP Next Hop (NH) and the SR Policy
      Endpoint in addition to the matching of the Color value. The following types
      are defined:<a href="#section-3-4" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-3-5">
        <dt id="section-3-5.1">Type 0 (bits 00):</dt>
        <dd style="margin-left: 1.5em" id="section-3-5.2">Specific Endpoint Match. Request a match for the
          Endpoint that is the BGP NH.<a href="#section-3-5.2" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-5.3">Type 1 (bits 01):</dt>
        <dd style="margin-left: 1.5em" id="section-3-5.4">Specific or Null Endpoint Match. Request a match
          for either the Endpoint that is the BGP NH or a null Endpoint (e.g.,
          a default gateway).<a href="#section-3-5.4" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-5.5">Type 2 (bits 10):</dt>
        <dd style="margin-left: 1.5em" id="section-3-5.6">Specific, Null, or Any Endpoint Match. Request
          a match for either the Endpoint that is the BGP NH or a null or
          any Endpoint.<a href="#section-3-5.6" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-5.7">Type 3 (bits 11):</dt>
        <dd style="margin-left: 1.5em" id="section-3-5.8">Reserved for future use and <span class="bcp14">SHOULD NOT</span> be used.
          Upon reception, an implementation <span class="bcp14">MUST</span> treat it like Type 0.<a href="#section-3-5.8" class="pilcrow">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
<p id="section-3-6">The details of the SR Policy steering mechanisms based on these
      Color-Only types are specified in <span><a href="https://rfc-editor.org/rfc/rfc9256#section-8.8" class="relref">Section 8.8</a> of [<a href="#RFC9256" class="cite xref">RFC9256</a>]</span>.<a href="#section-3-6" class="pilcrow">¶</a></p>
<p id="section-3-7">One or more Color Extended Communities <span class="bcp14">MAY</span> be
      associated with a BGP route update. Sections <a href="https://rfc-editor.org/rfc/rfc9256#section-8.4.1" class="relref">8.4.1</a>, <a href="https://rfc-editor.org/rfc/rfc9256#section-8.5.1" class="relref">8.5.1</a>, and <a href="https://rfc-editor.org/rfc/rfc9256#section-8.8.2" class="relref">8.8.2</a> of <span>[<a href="#RFC9256" class="cite xref">RFC9256</a>]</span> specify the steering behaviors over SR Policies when
      multiple Color Extended Communities are associated with a BGP route.<a href="#section-3-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="OPERATIONS">
<section id="section-4">
      <h2 id="name-sr-policy-operations">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-sr-policy-operations" class="section-name selfRef">SR Policy Operations</a>
      </h2>
<p id="section-4-1">As mentioned in <a href="#INTRO" class="auto internal xref">Section 1</a>, BGP is not the actual
      consumer of an SR Policy NLRI. BGP is in charge of the origination and
      propagation of the SR Policy NLRI, but its installation and use are
      outside the scope of BGP. The details of SR Policy installation and use
      are specified in <span>[<a href="#RFC9256" class="cite xref">RFC9256</a>]</span>.<a href="#section-4-1" class="pilcrow">¶</a></p>
<div id="CONFIG">
<section id="section-4.1">
        <h3 id="name-advertisement-of-sr-policie">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-advertisement-of-sr-policie" class="section-name selfRef">Advertisement of SR Policies</a>
        </h3>
<p id="section-4.1-1">Typically, but not limited to, an SR Policy is computed by a
        controller or a Path Computation Engine (PCE) and originated by a BGP
        speaker on its behalf.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1-2">Multiple SR Policy NLRIs may be present with the same &lt;Color,
        Endpoint&gt; tuple but with different distinguishers when these SR
        policies are intended for different headends.<a href="#section-4.1-2" class="pilcrow">¶</a></p>
<p id="section-4.1-3">The distinguisher of each SR Policy NLRI prevents undesired BGP
        route selection among these SR Policy NLRIs and allows their
        propagation across RRs <span>[<a href="#RFC4456" class="cite xref">RFC4456</a>]</span>.<a href="#section-4.1-3" class="pilcrow">¶</a></p>
<p id="section-4.1-4">Moreover, one or more route targets <span class="bcp14">SHOULD</span> be attached to the
        advertisement, where each route target identifies one or more intended
        headends for the advertised SR Policy update.<a href="#section-4.1-4" class="pilcrow">¶</a></p>
<p id="section-4.1-5">If no route target is attached to the SR Policy NLRI, then it is
        assumed that the originator sends the SR Policy update directly (e.g.,
        through a BGP session) to the intended receiver. In such a case, the
        NO_ADVERTISE community <span>[<a href="#RFC1997" class="cite xref">RFC1997</a>]</span> <span class="bcp14">MUST</span> be attached to
        the SR Policy update (see further details in <a href="#PROPAGATE" class="auto internal xref">Section 4.2.3</a>).<a href="#section-4.1-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="RECEPT">
<section id="section-4.2">
        <h3 id="name-reception-of-an-sr-policy-n">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-reception-of-an-sr-policy-n" class="section-name selfRef">Reception of an SR Policy NLRI</a>
        </h3>
<p id="section-4.2-1">On reception of an SR Policy NLRI, a BGP speaker first determines
        if it is valid as described in <a href="#ACCEPT" class="auto internal xref">Section 4.2.1</a>; then, the BGP speaker performs the decision process for
        selection of the best route (<span><a href="https://rfc-editor.org/rfc/rfc4271#section-9.1" class="relref">Section 9.1</a> of [<a href="#RFC4271" class="cite xref">RFC4271</a>]</span>). The key difference from the base BGP decision
        process is that BGP does not download the selected best routes of the SR
        Policy SAFI into the forwarding; instead, it considers them "usable"
        for passing on to the SRPM for further processing as described in
        <a href="#USABLE" class="auto internal xref">Section 4.2.2</a>. The selected best route is
        "propagated" (<span><a href="https://rfc-editor.org/rfc/rfc4271#section-9.1.3" class="relref">Section 9.1.3</a> of [<a href="#RFC4271" class="cite xref">RFC4271</a>]</span>) as described in <a href="#PROPAGATE" class="auto internal xref">Section 4.2.3</a>, irrespective of its "usability" by the local
        router.<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<div id="ACCEPT">
<section id="section-4.2.1">
          <h4 id="name-validation-of-an-sr-policy-">
<a href="#section-4.2.1" class="section-number selfRef">4.2.1. </a><a href="#name-validation-of-an-sr-policy-" class="section-name selfRef">Validation of an SR Policy NLRI</a>
          </h4>
<p id="section-4.2.1-1">When a BGP speaker receives an SR Policy NLRI from a neighbor, it
          <span class="bcp14">MUST</span> first perform validation based on the following rules in
          addition to the validation described in <a href="#ERROR" class="auto internal xref">Section 5</a>:<a href="#section-4.2.1-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.2.1-2.1">
              <p id="section-4.2.1-2.1.1">The SR Policy NLRI <span class="bcp14">MUST</span> include a distinguisher, Color, and
              Endpoint field that implies that the length of the NLRI <span class="bcp14">MUST</span> be
              either 12 or 24 octets (depending on the address family of the
              Endpoint).<a href="#section-4.2.1-2.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-4.2.1-2.2">
              <p id="section-4.2.1-2.2.1">The SR Policy update <span class="bcp14">MUST</span> have either the NO_ADVERTISE
              community, at least one Route Target extended community in
              IPv4-address format, or both. If a router supporting this
              specification receives an SR Policy update with no Route Target
              extended communities and no NO_ADVERTISE community, the update
              <span class="bcp14">MUST</span> be considered to be malformed.<a href="#section-4.2.1-2.2.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-4.2.1-2.3">
              <p id="section-4.2.1-2.3.1">The Tunnel Encapsulation Attribute <span class="bcp14">MUST</span> be attached to the
              BGP UPDATE message and <span class="bcp14">MUST</span> have a Tunnel Type TLV set to SR Policy
              (code point is 15).<a href="#section-4.2.1-2.3.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="section-4.2.1-3">A router that receives an SR Policy update that is not valid
          according to these criteria <span class="bcp14">MUST</span> treat the update as malformed, and
          the SR Policy CP <span class="bcp14">MUST NOT</span> be passed to the SRPM.<a href="#section-4.2.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="USABLE">
<section id="section-4.2.2">
          <h4 id="name-eligibility-for-local-use-o">
<a href="#section-4.2.2" class="section-number selfRef">4.2.2. </a><a href="#name-eligibility-for-local-use-o" class="section-name selfRef">Eligibility for Local Use of an SR Policy NLRI</a>
          </h4>
<p id="section-4.2.2-1">An SR Policy NLRI update that does not have a Route Target extended
          community but does have the NO_ADVERTISE community is considered
          usable.<a href="#section-4.2.2-1" class="pilcrow">¶</a></p>
<p id="section-4.2.2-2">If one or more route targets are present, then at least one route
          target <span class="bcp14">MUST</span> match the BGP Identifier of the receiver for the update
          to be considered usable. The BGP Identifier is defined in <span>[<a href="#RFC4271" class="cite xref">RFC4271</a>]</span> as a 4-octet IPv4 address and is updated by <span>[<a href="#RFC6286" class="cite xref">RFC6286</a>]</span> as a 4-octet, unsigned, non-zero integer.
          Therefore, the Route Target extended community <span class="bcp14">MUST</span> be of the same
          format.<a href="#section-4.2.2-2" class="pilcrow">¶</a></p>
<p id="section-4.2.2-3">If one or more route targets are present, and none matches the
          local BGP Identifier, then, while the SR Policy NLRI is valid, the SR Policy NLRI is
          not usable on the receiver node.<a href="#section-4.2.2-3" class="pilcrow">¶</a></p>
<p id="section-4.2.2-4">When the SR Policy tunnel type includes any sub-TLV that is
          unrecognized or unsupported, the update <span class="bcp14">SHOULD NOT</span> be considered
          usable. An implementation <span class="bcp14">MAY</span> provide an option for ignoring
          unsupported sub-TLVs.<a href="#section-4.2.2-4" class="pilcrow">¶</a></p>
<p id="section-4.2.2-5">Once BGP on the receiving node has determined that the SR Policy
          NLRI is usable, it passes the SR Policy CP to the SRPM.
          Note that, along with the CP details, BGP also passes
          the originator information for breaking ties in the CP
          selection process as described in <span><a href="https://rfc-editor.org/rfc/rfc9256#section-2.4" class="relref">Section 2.4</a> of [<a href="#RFC9256" class="cite xref">RFC9256</a>]</span>.<a href="#section-4.2.2-5" class="pilcrow">¶</a></p>
<p id="section-4.2.2-6">When an update for an SR Policy NLRI results in its becoming
          unusable, BGP <span class="bcp14">MUST</span> delete its corresponding SR Policy CP
          from the SRPM.<a href="#section-4.2.2-6" class="pilcrow">¶</a></p>
<p id="section-4.2.2-7">The SRPM applies the rules defined in <span><a href="https://rfc-editor.org/rfc/rfc9256#section-2" class="relref">Section 2</a> of [<a href="#RFC9256" class="cite xref">RFC9256</a>]</span> to determine whether the SR Policy
          CP is valid and to select the active CP for
          a given SR Policy.<a href="#section-4.2.2-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="PROPAGATE">
<section id="section-4.2.3">
          <h4 id="name-propagation-of-an-sr-policy">
<a href="#section-4.2.3" class="section-number selfRef">4.2.3. </a><a href="#name-propagation-of-an-sr-policy" class="section-name selfRef">Propagation of an SR Policy</a>
          </h4>
<p id="section-4.2.3-1">SR Policy NLRIs that have the NO_ADVERTISE community attached to
          them <span class="bcp14">MUST NOT</span> be propagated.<a href="#section-4.2.3-1" class="pilcrow">¶</a></p>
<p id="section-4.2.3-2">By default, a BGP node receiving an SR Policy NLRI <span class="bcp14">MUST NOT</span>
          propagate it to any External BGP (EBGP) neighbor. An implementation <span class="bcp14">MAY</span> provide an
          explicit configuration to override this and enable the propagation
          of valid SR Policy NLRIs to specific EBGP neighbors where the SR
          domain comprises multiple ASes within a single service provider
          domain (see <a href="#Security" class="auto internal xref">Section 7</a> for details).<a href="#section-4.2.3-2" class="pilcrow">¶</a></p>
<p id="section-4.2.3-3">A BGP node advertises a received SR Policy NLRI to its Internal BGP (IBGP)
          neighbors according to normal IBGP propagation rules.<a href="#section-4.2.3-3" class="pilcrow">¶</a></p>
<p id="section-4.2.3-4">By default, a BGP node receiving an SR Policy NLRI <span class="bcp14">SHOULD NOT</span>
          remove the Route Target extended community before propagation. An
          implementation <span class="bcp14">MAY</span> provide support for configuration to filter
          and/or remove the Route Target extended community before
          propagation.<a href="#section-4.2.3-4" class="pilcrow">¶</a></p>
<p id="section-4.2.3-5">A BGP node <span class="bcp14">MUST NOT</span> alter the SR Policy information carried in
          the Tunnel Encapsulation Attribute during propagation.<a href="#section-4.2.3-5" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="ERROR">
<section id="section-5">
      <h2 id="name-error-handling-and-fault-ma">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-error-handling-and-fault-ma" class="section-name selfRef">Error Handling and Fault Management</a>
      </h2>
<p id="section-5-1">This section describes the error-handling actions, as described in
      <span>[<a href="#RFC7606" class="cite xref">RFC7606</a>]</span>, that are to be performed for the handling of
      the BGP UPDATE messages for the BGP SR Policy SAFI.<a href="#section-5-1" class="pilcrow">¶</a></p>
<p id="section-5-2">A BGP speaker <span class="bcp14">MUST</span> perform the following syntactic validation of the
      SR Policy NLRI to determine if it is malformed. This includes the
      validation of the length of each NLRI and the total length of the
      MP_REACH_NLRI and MP_UNREACH_NLRI attributes. It also includes the
      validation of the consistency of the NLRI length with the AFI and the
      endpoint address as specified in <a href="#SRPOLICYSAFI" class="auto internal xref">Section 2.1</a>.<a href="#section-5-2" class="pilcrow">¶</a></p>
<p id="section-5-3">When the error determined allows for the router to skip the malformed
      NLRI(s) and continue the processing of the rest of the BGP UPDATE message,
      then it <span class="bcp14">MUST</span> handle such malformed NLRIs as 'treat-as-withdraw'. In
      other cases, where the error in the NLRI encoding results in the
      inability to process the BGP UPDATE message (e.g., length-related
      encoding errors), then the router <span class="bcp14">SHOULD</span> handle such malformed NLRIs as
      "AFI/SAFI disable" when other AFI/SAFIs besides SR Policy are being
      advertised over the same session. Alternately, the router <span class="bcp14">MUST</span> perform
      "session reset" when the session is only being used for SR Policy or
      when a "AFI/SAFI disable" action is not possible.<a href="#section-5-3" class="pilcrow">¶</a></p>
<p id="section-5-4">The validation of the TLVs/sub-TLVs introduced in this document and
      defined in their respective subsections of <a href="#SRPOLICYTLV" class="auto internal xref">Section 2.4</a>
        <span class="bcp14">MUST</span> be performed to determine if they are malformed or invalid. The
      validation of the Tunnel Encapsulation Attribute itself and the other
      TLVs/sub-TLVs specified in <span><a href="https://rfc-editor.org/rfc/rfc9012#section-13" class="relref">Section 13</a> of [<a href="#RFC9012" class="cite xref">RFC9012</a>]</span> <span class="bcp14">MUST</span>
      be done as described in that document. In case of any error detected,
      either at the attribute or its TLV/sub-TLV level, the
      "treat-as-withdraw" strategy <span class="bcp14">MUST</span> be applied. This is because an SR
      Policy update without a valid Tunnel Encapsulation Attribute (comprised
      of all valid TLVs/sub-TLVs) is not usable.<a href="#section-5-4" class="pilcrow">¶</a></p>
<p id="section-5-5">An SR Policy update that is determined not to be valid (and, therefore,
      malformed) based on the rules described in <a href="#ACCEPT" class="auto internal xref">Section 4.2.1</a> <span class="bcp14">MUST</span> be
      handled by the "treat-as-withdraw" strategy.<a href="#section-5-5" class="pilcrow">¶</a></p>
<p id="section-5-6">The validation of the individual fields of the TLVs/sub-TLVs defined
      in <a href="#SRPOLICYTLV" class="auto internal xref">Section 2.4</a> are beyond the scope of BGP as they are
      handled by the SRPM as described in the individual TLV/sub-TLV
      subsections. A BGP implementation <span class="bcp14">MUST NOT</span> perform semantic
      verification of such fields nor consider the SR Policy update to be
      invalid or not usable based on such validation.<a href="#section-5-6" class="pilcrow">¶</a></p>
<p id="section-5-7">An implementation <span class="bcp14">SHOULD</span> log any errors found during the above
      validation for further analysis.<a href="#section-5-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="IANA">
<section id="section-6">
      <h2 id="name-iana-considerations">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-6-1">This document uses code point allocations from the following existing
      registries in the "Subsequent Address Family Identifiers (SAFI) Parameters" registry group:<a href="#section-6-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6-2.1">
          <p id="section-6-2.1.1">The "SAFI Values" registry<a href="#section-6-2.1.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="section-6-3">This document uses code point allocations from the following existing registries in the "Border Gateway Protocol (BGP) Tunnel Encapsulation" registry group:<a href="#section-6-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6-4.1">
          <p id="section-6-4.1.1">The "BGP Tunnel Encapsulation Attribute Tunnel Types" registry<a href="#section-6-4.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-6-4.2">
          <p id="section-6-4.2.1">The "BGP Tunnel Encapsulation Attribute Sub-TLVs" registry<a href="#section-6-4.2.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-6-4.3">
          <p id="section-6-4.3.1">The "Color Extended Community Flags" registry<a href="#section-6-4.3.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="section-6-5">This document creates the following new
      registries in the "Border Gateway Protocol (BGP) Tunnel Encapsulation" registry group:<a href="#section-6-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6-6.1">
          <p id="section-6-6.1.1">The "SR Policy Segment List Sub-TLVs" registry<a href="#section-6-6.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-6-6.2">
          <p id="section-6-6.2.1">The "SR Policy Binding SID Flags" registry<a href="#section-6-6.2.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-6-6.3">
          <p id="section-6-6.3.1">The "SR Policy SRv6 Binding SID Flags" registry<a href="#section-6-6.3.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-6-6.4">
          <p id="section-6-6.4.1">The "SR Policy Segment Flags" registry<a href="#section-6-6.4.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-6-6.5">
          <p id="section-6-6.5.1">The "Color Extended Community Color-Only Types" registry<a href="#section-6-6.5.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="section-6-7">This document creates the following new registry in the "Segment Routing" registry group:<a href="#section-6-7" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6-8.1">
          <p id="section-6-8.1.1">The "SR Policy ENLP Values" registry<a href="#section-6-8.1.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<div id="IANASAFI">
<section id="section-6.1">
        <h3 id="name-subsequent-address-family-i">
<a href="#section-6.1" class="section-number selfRef">6.1. </a><a href="#name-subsequent-address-family-i" class="section-name selfRef">Subsequent Address Family Identifiers (SAFI) Parameters</a>
        </h3>
<p id="section-6.1-1">This document registers a SAFI code point in the "SAFI Values" registry of the "Subsequent Address
        Family Identifiers (SAFI) Parameters" registry group as follows:<a href="#section-6.1-1" class="pilcrow">¶</a></p>
<span id="name-bgp-safi-code-point"></span><table class="center" id="table-1">
          <caption>
<a href="#table-1" class="selfRef">Table 1</a>:
<a href="#name-bgp-safi-code-point" class="selfRef">BGP SAFI Code Point</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Value</th>
              <th class="text-left" rowspan="1" colspan="1">Description</th>
              <th class="text-left" rowspan="1" colspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">73</td>
              <td class="text-left" rowspan="1" colspan="1">SR Policy SAFI</td>
              <td class="text-left" rowspan="1" colspan="1">RFC 9830</td>
            </tr>
          </tbody>
        </table>
</section>
</div>
<div id="IANATUNNEL">
<section id="section-6.2">
        <h3 id="name-bgp-tunnel-encapsulation-at">
<a href="#section-6.2" class="section-number selfRef">6.2. </a><a href="#name-bgp-tunnel-encapsulation-at" class="section-name selfRef">BGP Tunnel Encapsulation Attribute Tunnel Types</a>
        </h3>
<p id="section-6.2-1">This document registers a Tunnel Type code point in the "BGP Tunnel
        Encapsulation Attribute Tunnel Types" registry under the "Border Gateway Protocol (BGP) Tunnel Encapsulation" registry group.<a href="#section-6.2-1" class="pilcrow">¶</a></p>
<span id="name-tunnel-type-code-point"></span><table class="center" id="table-2">
          <caption>
<a href="#table-2" class="selfRef">Table 2</a>:
<a href="#name-tunnel-type-code-point" class="selfRef">Tunnel Type Code Point</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Value</th>
              <th class="text-left" rowspan="1" colspan="1">Description</th>
              <th class="text-left" rowspan="1" colspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">15</td>
              <td class="text-left" rowspan="1" colspan="1">SR Policy</td>
              <td class="text-left" rowspan="1" colspan="1">RFC 9830</td>
            </tr>
          </tbody>
        </table>
</section>
</div>
<div id="IANATUNNSUBTLV">
<section id="section-6.3">
        <h3 id="name-bgp-tunnel-encapsulation-att">
<a href="#section-6.3" class="section-number selfRef">6.3. </a><a href="#name-bgp-tunnel-encapsulation-att" class="section-name selfRef">BGP Tunnel Encapsulation Attribute Sub-TLVs</a>
        </h3>
<p id="section-6.3-1">This document defines sub-TLVs in the "BGP Tunnel
        Encapsulation Attribute Sub-TLVs" registry under the "Border Gateway Protocol (BGP) Tunnel Encapsulation" registry group.<a href="#section-6.3-1" class="pilcrow">¶</a></p>
<span id="name-bgp-tunnel-encapsulation-attr"></span><table class="center" id="table-3">
          <caption>
<a href="#table-3" class="selfRef">Table 3</a>:
<a href="#name-bgp-tunnel-encapsulation-attr" class="selfRef">BGP Tunnel Encapsulation Attribute Sub-TLV Code Points</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Value</th>
              <th class="text-left" rowspan="1" colspan="1">Description</th>
              <th class="text-left" rowspan="1" colspan="1">Reference</th>
              <th class="text-left" rowspan="1" colspan="1">Change Controller</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">12</td>
              <td class="text-left" rowspan="1" colspan="1">Preference sub-TLV</td>
              <td class="text-left" rowspan="1" colspan="1">RFC 9830</td>
              <td class="text-left" rowspan="1" colspan="1">IETF</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">13</td>
              <td class="text-left" rowspan="1" colspan="1">Binding SID sub-TLV</td>
              <td class="text-left" rowspan="1" colspan="1">RFC 9830</td>
              <td class="text-left" rowspan="1" colspan="1">IETF</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">14</td>
              <td class="text-left" rowspan="1" colspan="1">ENLP sub-TLV</td>
              <td class="text-left" rowspan="1" colspan="1">RFC 9830</td>
              <td class="text-left" rowspan="1" colspan="1">IETF</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">15</td>
              <td class="text-left" rowspan="1" colspan="1">Priority sub-TLV</td>
              <td class="text-left" rowspan="1" colspan="1">RFC 9830</td>
              <td class="text-left" rowspan="1" colspan="1">IETF</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">20</td>
              <td class="text-left" rowspan="1" colspan="1">SRv6 Binding SID sub-TLV</td>
              <td class="text-left" rowspan="1" colspan="1">RFC 9830</td>
              <td class="text-left" rowspan="1" colspan="1">IETF</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">128</td>
              <td class="text-left" rowspan="1" colspan="1">Segment List sub-TLV</td>
              <td class="text-left" rowspan="1" colspan="1">RFC 9830</td>
              <td class="text-left" rowspan="1" colspan="1">IETF</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">129</td>
              <td class="text-left" rowspan="1" colspan="1">SR Policy Candidate Path Name sub-TLV</td>
              <td class="text-left" rowspan="1" colspan="1">RFC 9830</td>
              <td class="text-left" rowspan="1" colspan="1">IETF</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">130</td>
              <td class="text-left" rowspan="1" colspan="1">SR Policy Name sub-TLV</td>
              <td class="text-left" rowspan="1" colspan="1">RFC 9830</td>
              <td class="text-left" rowspan="1" colspan="1">IETF</td>
            </tr>
          </tbody>
        </table>
</section>
</div>
<div id="IANAEXTCOM">
<section id="section-6.4">
        <h3 id="name-color-extended-community-fla">
<a href="#section-6.4" class="section-number selfRef">6.4. </a><a href="#name-color-extended-community-fla" class="section-name selfRef">Color Extended Community Flags</a>
        </h3>
<p id="section-6.4-1">This document defines the use of 2 bits in the
        "Color Extended Community Flags" registry under the "Border Gateway Protocol (BGP) Tunnel Encapsulation"
        registry group.<a href="#section-6.4-1" class="pilcrow">¶</a></p>
<span id="name-color-extended-community-flag"></span><table class="center" id="table-4">
          <caption>
<a href="#table-4" class="selfRef">Table 4</a>:
<a href="#name-color-extended-community-flag" class="selfRef">Color Extended Community Flag Bits</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Bit Position</th>
              <th class="text-left" rowspan="1" colspan="1">Description</th>
              <th class="text-left" rowspan="1" colspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">0-1</td>
              <td class="text-left" rowspan="1" colspan="1">Color-only Types Field</td>
              <td class="text-left" rowspan="1" colspan="1">RFC 9830</td>
            </tr>
          </tbody>
        </table>
</section>
</div>
<div id="IANASIDLIST">
<section id="section-6.5">
        <h3 id="name-sr-policy-segment-list-sub-">
<a href="#section-6.5" class="section-number selfRef">6.5. </a><a href="#name-sr-policy-segment-list-sub-" class="section-name selfRef">SR Policy Segment List Sub-TLVs</a>
        </h3>
<p id="section-6.5-1">This document creates a new registry called "SR
        Policy Segment List Sub-TLVs" under the "Border Gateway Protocol (BGP) Tunnel Encapsulation"
        registry group. The registration policy of this registry is "IETF Review"
        (see <span>[<a href="#RFC8126" class="cite xref">RFC8126</a>]</span>).<a href="#section-6.5-1" class="pilcrow">¶</a></p>
<p id="section-6.5-2">The following initial sub-TLV code points are assigned by this
        document:<a href="#section-6.5-2" class="pilcrow">¶</a></p>
<span id="name-sr-policy-segment-list-sub-t"></span><table class="center" id="table-5">
          <caption>
<a href="#table-5" class="selfRef">Table 5</a>:
<a href="#name-sr-policy-segment-list-sub-t" class="selfRef">SR Policy Segment List Sub-TLV Code Points</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Value</th>
              <th class="text-left" rowspan="1" colspan="1">Description</th>
              <th class="text-left" rowspan="1" colspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">0</td>
              <td class="text-left" rowspan="1" colspan="1">Reserved</td>
              <td class="text-left" rowspan="1" colspan="1">RFC 9830</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">1</td>
              <td class="text-left" rowspan="1" colspan="1">Type A Segment sub-TLV</td>
              <td class="text-left" rowspan="1" colspan="1">RFC 9830</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">2</td>
              <td class="text-left" rowspan="1" colspan="1">Deprecated</td>
              <td class="text-left" rowspan="1" colspan="1">RFC 9830</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">3-8</td>
              <td class="text-left" rowspan="1" colspan="2">Unassigned</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">9</td>
              <td class="text-left" rowspan="1" colspan="1">Weight sub-TLV</td>
              <td class="text-left" rowspan="1" colspan="1">RFC 9830</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">10</td>
              <td class="text-left" rowspan="1" colspan="1">Deprecated</td>
              <td class="text-left" rowspan="1" colspan="1">RFC 9830</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">11</td>
              <td class="text-left" rowspan="1" colspan="1">Deprecated</td>
              <td class="text-left" rowspan="1" colspan="1">RFC 9830</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">12</td>
              <td class="text-left" rowspan="1" colspan="1">Deprecated</td>
              <td class="text-left" rowspan="1" colspan="1">RFC 9830</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">13</td>
              <td class="text-left" rowspan="1" colspan="1">Type B Segment sub-TLV</td>
              <td class="text-left" rowspan="1" colspan="1">RFC 9830</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">14-255</td>
              <td class="text-left" rowspan="1" colspan="2">Unassigned</td>
            </tr>
          </tbody>
        </table>
</section>
</div>
<div id="IANABSIDFLAGS">
<section id="section-6.6">
        <h3 id="name-sr-policy-binding-sid-flags-2">
<a href="#section-6.6" class="section-number selfRef">6.6. </a><a href="#name-sr-policy-binding-sid-flags-2" class="section-name selfRef">SR Policy Binding SID Flags</a>
        </h3>
<p id="section-6.6-1">This document creates a new registry called "SR
        Policy Binding SID Flags" under the "Border Gateway Protocol (BGP) Tunnel Encapsulation"
        registry group. The registration policy of this registry is "Standards Action"
        (see <span>[<a href="#RFC8126" class="cite xref">RFC8126</a>]</span>).<a href="#section-6.6-1" class="pilcrow">¶</a></p>
<p id="section-6.6-2">The following flags are defined:<a href="#section-6.6-2" class="pilcrow">¶</a></p>
<span id="name-sr-policy-binding-sid-flags-3"></span><table class="center" id="table-6">
          <caption>
<a href="#table-6" class="selfRef">Table 6</a>:
<a href="#name-sr-policy-binding-sid-flags-3" class="selfRef">SR Policy Binding SID Flags</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Bit</th>
              <th class="text-left" rowspan="1" colspan="1">Description</th>
              <th class="text-left" rowspan="1" colspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">0</td>
              <td class="text-left" rowspan="1" colspan="1">Specified-BSID-Only Flag (S-Flag)</td>
              <td class="text-left" rowspan="1" colspan="1">RFC 9830</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">1</td>
              <td class="text-left" rowspan="1" colspan="1">Drop-Upon-Invalid Flag (I-Flag)</td>
              <td class="text-left" rowspan="1" colspan="1">RFC 9830</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">2-7</td>
              <td class="text-left" rowspan="1" colspan="2">Unassigned</td>
            </tr>
          </tbody>
        </table>
</section>
</div>
<div id="IANASRV6BSIDFLAGS">
<section id="section-6.7">
        <h3 id="name-sr-policy-srv6-binding-sid-f">
<a href="#section-6.7" class="section-number selfRef">6.7. </a><a href="#name-sr-policy-srv6-binding-sid-f" class="section-name selfRef">SR Policy SRv6 Binding SID Flags</a>
        </h3>
<p id="section-6.7-1">This document creates a new registry called "SR
        Policy SRv6 Binding SID Flags" under the "Border Gateway Protocol (BGP) Tunnel Encapsulation"
        registry group. The registration policy of this registry is "Standards Action"
        (see <span>[<a href="#RFC8126" class="cite xref">RFC8126</a>]</span>).<a href="#section-6.7-1" class="pilcrow">¶</a></p>
<p id="section-6.7-2">The following flags are defined:<a href="#section-6.7-2" class="pilcrow">¶</a></p>
<span id="name-sr-policy-srv6-binding-sid-fl"></span><table class="center" id="table-7">
          <caption>
<a href="#table-7" class="selfRef">Table 7</a>:
<a href="#name-sr-policy-srv6-binding-sid-fl" class="selfRef">SR Policy SRv6 Binding SID Flags</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Bit</th>
              <th class="text-left" rowspan="1" colspan="1">Description</th>
              <th class="text-left" rowspan="1" colspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">0</td>
              <td class="text-left" rowspan="1" colspan="1">Specified-BSID-Only Flag (S-Flag)</td>
              <td class="text-left" rowspan="1" colspan="1">RFC 9830</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">1</td>
              <td class="text-left" rowspan="1" colspan="1">Drop-Upon-Invalid Flag (I-Flag)</td>
              <td class="text-left" rowspan="1" colspan="1">RFC 9830</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">2</td>
              <td class="text-left" rowspan="1" colspan="1">SRv6 Endpoint Behavior &amp; SID Structure Flag (B-Flag)</td>
              <td class="text-left" rowspan="1" colspan="1">RFC 9830</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">3-7</td>
              <td class="text-left" rowspan="1" colspan="2">Unassigned</td>
            </tr>
          </tbody>
        </table>
</section>
</div>
<div id="IANASIDFLAGS">
<section id="section-6.8">
        <h3 id="name-sr-policy-segment-flags-3">
<a href="#section-6.8" class="section-number selfRef">6.8. </a><a href="#name-sr-policy-segment-flags-3" class="section-name selfRef">SR Policy Segment Flags</a>
        </h3>
<p id="section-6.8-1">This document creates a new registry called "SR
        Policy Segment Flags" under the "Border Gateway Protocol (BGP) Tunnel Encapsulation" registry group.
        The registration policy of this registry is "IETF Review" (see <span>[<a href="#RFC8126" class="cite xref">RFC8126</a>]</span>).<a href="#section-6.8-1" class="pilcrow">¶</a></p>
<p id="section-6.8-2">The following flags are defined:<a href="#section-6.8-2" class="pilcrow">¶</a></p>
<span id="name-sr-policy-segment-flags-4"></span><table class="center" id="table-8">
          <caption>
<a href="#table-8" class="selfRef">Table 8</a>:
<a href="#name-sr-policy-segment-flags-4" class="selfRef">SR Policy Segment Flags</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Bit</th>
              <th class="text-left" rowspan="1" colspan="1">Description</th>
              <th class="text-left" rowspan="1" colspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">0</td>
              <td class="text-left" rowspan="1" colspan="1">Segment Verification Flag (V-Flag)</td>
              <td class="text-left" rowspan="1" colspan="1">RFC 9830</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">1-2</td>
              <td class="text-left" rowspan="1" colspan="2">Unassigned</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">3</td>
              <td class="text-left" rowspan="1" colspan="1">SRv6 Endpoint Behavior &amp; SID Structure Flag (B-Flag)</td>
              <td class="text-left" rowspan="1" colspan="1">RFC 9830</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">4-7</td>
              <td class="text-left" rowspan="1" colspan="2">Unassigned</td>
            </tr>
          </tbody>
        </table>
</section>
</div>
<div id="IANAEXTCOMCOFIELD">
<section id="section-6.9">
        <h3 id="name-color-extended-community-co">
<a href="#section-6.9" class="section-number selfRef">6.9. </a><a href="#name-color-extended-community-co" class="section-name selfRef">Color Extended Community Color-Only Types</a>
        </h3>
<p id="section-6.9-1">This document creates a new registry called "Color
        Extended Community Color-Only Types" under the "Border Gateway Protocol (BGP) Tunnel
        Encapsulation" registry group for assignment of code points (values 0 through
        3) in the Color-Only Type field of the Color Extended Community Flags
        field. The registration policy of this registry is "Standards Action"
        (see <span>[<a href="#RFC8126" class="cite xref">RFC8126</a>]</span>).<a href="#section-6.9-1" class="pilcrow">¶</a></p>
<p id="section-6.9-2">The following types are defined:<a href="#section-6.9-2" class="pilcrow">¶</a></p>
<span id="name-color-extended-community-col"></span><table class="center" id="table-9">
          <caption>
<a href="#table-9" class="selfRef">Table 9</a>:
<a href="#name-color-extended-community-col" class="selfRef">Color Extended Community Color-Only Types</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Type</th>
              <th class="text-left" rowspan="1" colspan="1">Description</th>
              <th class="text-left" rowspan="1" colspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">0</td>
              <td class="text-left" rowspan="1" colspan="1">Specific Endpoint Match</td>
              <td class="text-left" rowspan="1" colspan="1">RFC 9830</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">1</td>
              <td class="text-left" rowspan="1" colspan="1">Specific or Null Endpoint Match</td>
              <td class="text-left" rowspan="1" colspan="1">RFC 9830</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">2</td>
              <td class="text-left" rowspan="1" colspan="1">Specific, Null, or Any Endpoint Match</td>
              <td class="text-left" rowspan="1" colspan="1">RFC 9830</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">3</td>
              <td class="text-left" rowspan="1" colspan="1">Unassigned</td>
              <td class="text-left" rowspan="1" colspan="1">RFC 9830</td>
            </tr>
          </tbody>
        </table>
</section>
</div>
<div id="IANAENLP">
<section id="section-6.10">
        <h3 id="name-sr-policy-enlp-values">
<a href="#section-6.10" class="section-number selfRef">6.10. </a><a href="#name-sr-policy-enlp-values" class="section-name selfRef">SR Policy ENLP Values</a>
        </h3>
<p id="section-6.10-1">IANA will maintain a new registry under the
        "Segment Routing" registry group with the registration policy of
        "Standards Action" (see <span>[<a href="#RFC8126" class="cite xref">RFC8126</a>]</span>). The new registry is
        called "SR Policy ENLP Values" and contains the code points allocated
        to the ENLP field defined in <a href="#ENLPTLV" class="auto internal xref">Section 2.4.5</a>. The registry
        contains the following code points:<a href="#section-6.10-1" class="pilcrow">¶</a></p>
<span id="name-sr-policy-enlp-values-2"></span><table class="center" id="table-10">
          <caption>
<a href="#table-10" class="selfRef">Table 10</a>:
<a href="#name-sr-policy-enlp-values-2" class="selfRef">SR Policy ENLP Values</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Code Point</th>
              <th class="text-left" rowspan="1" colspan="1">Description</th>
              <th class="text-left" rowspan="1" colspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">0</td>
              <td class="text-left" rowspan="1" colspan="1">Reserved</td>
              <td class="text-left" rowspan="1" colspan="1">RFC 9830</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">1</td>
              <td class="text-left" rowspan="1" colspan="1">Push an IPv4 Explicit NULL label on an unlabeled IPv4 packet but do not push an IPv6 Explicit NULL label on an unlabeled IPv6 packet</td>
              <td class="text-left" rowspan="1" colspan="1">RFC 9830</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">2</td>
              <td class="text-left" rowspan="1" colspan="1">Push an IPv6 Explicit NULL label on an unlabeled IPv6 packet but do not push an IPv4 Explicit NULL label on an unlabeled IPv4 packet</td>
              <td class="text-left" rowspan="1" colspan="1">RFC 9830</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">3</td>
              <td class="text-left" rowspan="1" colspan="1">Push an IPv6 Explicit NULL label on an unlabeled IPv6 packet and push an IPv4 Explicit NULL label on an unlabeled IPv4 packet</td>
              <td class="text-left" rowspan="1" colspan="1">RFC 9830</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">4</td>
              <td class="text-left" rowspan="1" colspan="1">Do not push an Explicit NULL label</td>
              <td class="text-left" rowspan="1" colspan="1">RFC 9830</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">5-255</td>
              <td class="text-left" rowspan="1" colspan="2">Unassigned</td>
            </tr>
          </tbody>
        </table>
</section>
</div>
</section>
</div>
<div id="Security">
<section id="section-7">
      <h2 id="name-security-considerations">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-7-1">The security mechanisms of the base BGP security model apply to the
      extensions described in this document as well. See the Security
      Considerations section of <span>[<a href="#RFC4271" class="cite xref">RFC4271</a>]</span> for a discussion of
      BGP security. Also, refer to <span>[<a href="#RFC4272" class="cite xref">RFC4272</a>]</span> and <span>[<a href="#RFC6952" class="cite xref">RFC6952</a>]</span> for analysis of security issues for BGP.<a href="#section-7-1" class="pilcrow">¶</a></p>
<p id="section-7-2">The BGP SR Policy extensions specified in this document enable
      traffic engineering and service programming use cases within an SR
      domain as described in <span>[<a href="#RFC9256" class="cite xref">RFC9256</a>]</span>. SR operates within a
      trusted SR domain <span>[<a href="#RFC8402" class="cite xref">RFC8402</a>]</span>; its security
      considerations also apply to BGP sessions when carrying SR Policy
      information. The SR Policies distributed by BGP are expected to be used
      entirely within this trusted SR domain, which comprises a single AS or
      multiple ASes / domains within a single provider network. Therefore,
      precaution is necessary to ensure that the SR Policy information
      advertised via BGP sessions is limited to nodes in a secure manner
      within this trusted SR domain. BGP peering sessions for address families
      other than those that use the SR Policy SAFI may be set up to routers outside the SR
      domain. The isolation of BGP SR Policy SAFI peering sessions may be used
      to ensure that the SR Policy information is not advertised by accident
      or in error to an EBGP peering session outside the SR domain.<a href="#section-7-2" class="pilcrow">¶</a></p>
<p id="section-7-3">Additionally, it may be a consideration that the export of SR Policy
      information, as described in this document, constitutes a risk to
      confidentiality of mission-critical or commercially sensitive
      information about the network (more specifically endpoint/node
      addresses, SR SIDs, and the SR Policies deployed). BGP peerings are not
      automatic and require configuration; thus, it is the responsibility of
      the network operator to ensure that only trusted nodes (that include
      both routers and controller applications) within the SR domain are
      configured to receive such information.<a href="#section-7-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="Manageability">
<section id="section-8">
      <h2 id="name-manageability-consideration">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-manageability-consideration" class="section-name selfRef">Manageability Considerations</a>
      </h2>
<p id="section-8-1">The specification of BGP models is an ongoing work based on <span>[<a href="#I-D.ietf-idr-bgp-model" class="cite xref">BGP-YANG-MODEL</a>]</span>; its future extensions are expected
      to cover the SR Policy SAFI. Existing BGP operational procedures also
      apply to the SAFI specified in this document. The management,
      operations, and monitoring of BGP speakers and the SR Policy SAFI
      sessions between them are not very different from other BGP sessions and
      can be managed using the same data models.<a href="#section-8-1" class="pilcrow">¶</a></p>
<p id="section-8-2">The YANG data model for the operation and management of SR Policies <span>[<a href="#I-D.ietf-spring-sr-policy-yang" class="cite xref">SR-POLICY-YANG</a>]</span> reports the SR Policies
      provisioned via BGP SR Policy SAFI along with their operational
      states.<a href="#section-8-2" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-9">
      <h2 id="name-references">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-9.1">
        <h3 id="name-normative-references">
<a href="#section-9.1" class="section-number selfRef">9.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC1997">[RFC1997]</dt>
        <dd>
<span class="refAuthor">Chandra, R.</span>, <span class="refAuthor">Traina, P.</span>, and <span class="refAuthor">T. Li</span>, <span class="refTitle">"BGP Communities Attribute"</span>, <span class="seriesInfo">RFC 1997</span>, <span class="seriesInfo">DOI 10.17487/RFC1997</span>, <time datetime="1996-08" class="refDate">August 1996</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc1997">https://www.rfc-editor.org/info/rfc1997</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2545">[RFC2545]</dt>
        <dd>
<span class="refAuthor">Marques, P.</span> and <span class="refAuthor">F. Dupont</span>, <span class="refTitle">"Use of BGP-4 Multiprotocol Extensions for IPv6 Inter-Domain Routing"</span>, <span class="seriesInfo">RFC 2545</span>, <span class="seriesInfo">DOI 10.17487/RFC2545</span>, <time datetime="1999-03" class="refDate">March 1999</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2545">https://www.rfc-editor.org/info/rfc2545</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3032">[RFC3032]</dt>
        <dd>
<span class="refAuthor">Rosen, E.</span>, <span class="refAuthor">Tappan, D.</span>, <span class="refAuthor">Fedorkow, G.</span>, <span class="refAuthor">Rekhter, Y.</span>, <span class="refAuthor">Farinacci, D.</span>, <span class="refAuthor">Li, T.</span>, and <span class="refAuthor">A. Conta</span>, <span class="refTitle">"MPLS Label Stack Encoding"</span>, <span class="seriesInfo">RFC 3032</span>, <span class="seriesInfo">DOI 10.17487/RFC3032</span>, <time datetime="2001-01" class="refDate">January 2001</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3032">https://www.rfc-editor.org/info/rfc3032</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4271">[RFC4271]</dt>
        <dd>
<span class="refAuthor">Rekhter, Y., Ed.</span>, <span class="refAuthor">Li, T., Ed.</span>, and <span class="refAuthor">S. Hares, Ed.</span>, <span class="refTitle">"A Border Gateway Protocol 4 (BGP-4)"</span>, <span class="seriesInfo">RFC 4271</span>, <span class="seriesInfo">DOI 10.17487/RFC4271</span>, <time datetime="2006-01" class="refDate">January 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4271">https://www.rfc-editor.org/info/rfc4271</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4360">[RFC4360]</dt>
        <dd>
<span class="refAuthor">Sangli, S.</span>, <span class="refAuthor">Tappan, D.</span>, and <span class="refAuthor">Y. Rekhter</span>, <span class="refTitle">"BGP Extended Communities Attribute"</span>, <span class="seriesInfo">RFC 4360</span>, <span class="seriesInfo">DOI 10.17487/RFC4360</span>, <time datetime="2006-02" class="refDate">February 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4360">https://www.rfc-editor.org/info/rfc4360</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4760">[RFC4760]</dt>
        <dd>
<span class="refAuthor">Bates, T.</span>, <span class="refAuthor">Chandra, R.</span>, <span class="refAuthor">Katz, D.</span>, and <span class="refAuthor">Y. Rekhter</span>, <span class="refTitle">"Multiprotocol Extensions for BGP-4"</span>, <span class="seriesInfo">RFC 4760</span>, <span class="seriesInfo">DOI 10.17487/RFC4760</span>, <time datetime="2007-01" class="refDate">January 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4760">https://www.rfc-editor.org/info/rfc4760</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5462">[RFC5462]</dt>
        <dd>
<span class="refAuthor">Andersson, L.</span> and <span class="refAuthor">R. Asati</span>, <span class="refTitle">"Multiprotocol Label Switching (MPLS) Label Stack Entry: "EXP" Field Renamed to "Traffic Class" Field"</span>, <span class="seriesInfo">RFC 5462</span>, <span class="seriesInfo">DOI 10.17487/RFC5462</span>, <time datetime="2009-02" class="refDate">February 2009</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5462">https://www.rfc-editor.org/info/rfc5462</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6286">[RFC6286]</dt>
        <dd>
<span class="refAuthor">Chen, E.</span> and <span class="refAuthor">J. Yuan</span>, <span class="refTitle">"Autonomous-System-Wide Unique BGP Identifier for BGP-4"</span>, <span class="seriesInfo">RFC 6286</span>, <span class="seriesInfo">DOI 10.17487/RFC6286</span>, <time datetime="2011-06" class="refDate">June 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6286">https://www.rfc-editor.org/info/rfc6286</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7606">[RFC7606]</dt>
        <dd>
<span class="refAuthor">Chen, E., Ed.</span>, <span class="refAuthor">Scudder, J., Ed.</span>, <span class="refAuthor">Mohapatra, P.</span>, and <span class="refAuthor">K. Patel</span>, <span class="refTitle">"Revised Error Handling for BGP UPDATE Messages"</span>, <span class="seriesInfo">RFC 7606</span>, <span class="seriesInfo">DOI 10.17487/RFC7606</span>, <time datetime="2015-08" class="refDate">August 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7606">https://www.rfc-editor.org/info/rfc7606</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8126">[RFC8126]</dt>
        <dd>
<span class="refAuthor">Cotton, M.</span>, <span class="refAuthor">Leiba, B.</span>, and <span class="refAuthor">T. Narten</span>, <span class="refTitle">"Guidelines for Writing an IANA Considerations Section in RFCs"</span>, <span class="seriesInfo">BCP 26</span>, <span class="seriesInfo">RFC 8126</span>, <span class="seriesInfo">DOI 10.17487/RFC8126</span>, <time datetime="2017-06" class="refDate">June 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8126">https://www.rfc-editor.org/info/rfc8126</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8402">[RFC8402]</dt>
        <dd>
<span class="refAuthor">Filsfils, C., Ed.</span>, <span class="refAuthor">Previdi, S., Ed.</span>, <span class="refAuthor">Ginsberg, L.</span>, <span class="refAuthor">Decraene, B.</span>, <span class="refAuthor">Litkowski, S.</span>, and <span class="refAuthor">R. Shakir</span>, <span class="refTitle">"Segment Routing Architecture"</span>, <span class="seriesInfo">RFC 8402</span>, <span class="seriesInfo">DOI 10.17487/RFC8402</span>, <time datetime="2018-07" class="refDate">July 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8402">https://www.rfc-editor.org/info/rfc8402</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8660">[RFC8660]</dt>
        <dd>
<span class="refAuthor">Bashandy, A., Ed.</span>, <span class="refAuthor">Filsfils, C., Ed.</span>, <span class="refAuthor">Previdi, S.</span>, <span class="refAuthor">Decraene, B.</span>, <span class="refAuthor">Litkowski, S.</span>, and <span class="refAuthor">R. Shakir</span>, <span class="refTitle">"Segment Routing with the MPLS Data Plane"</span>, <span class="seriesInfo">RFC 8660</span>, <span class="seriesInfo">DOI 10.17487/RFC8660</span>, <time datetime="2019-12" class="refDate">December 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8660">https://www.rfc-editor.org/info/rfc8660</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8754">[RFC8754]</dt>
        <dd>
<span class="refAuthor">Filsfils, C., Ed.</span>, <span class="refAuthor">Dukes, D., Ed.</span>, <span class="refAuthor">Previdi, S.</span>, <span class="refAuthor">Leddy, J.</span>, <span class="refAuthor">Matsushima, S.</span>, and <span class="refAuthor">D. Voyer</span>, <span class="refTitle">"IPv6 Segment Routing Header (SRH)"</span>, <span class="seriesInfo">RFC 8754</span>, <span class="seriesInfo">DOI 10.17487/RFC8754</span>, <time datetime="2020-03" class="refDate">March 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8754">https://www.rfc-editor.org/info/rfc8754</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8986">[RFC8986]</dt>
        <dd>
<span class="refAuthor">Filsfils, C., Ed.</span>, <span class="refAuthor">Camarillo, P., Ed.</span>, <span class="refAuthor">Leddy, J.</span>, <span class="refAuthor">Voyer, D.</span>, <span class="refAuthor">Matsushima, S.</span>, and <span class="refAuthor">Z. Li</span>, <span class="refTitle">"Segment Routing over IPv6 (SRv6) Network Programming"</span>, <span class="seriesInfo">RFC 8986</span>, <span class="seriesInfo">DOI 10.17487/RFC8986</span>, <time datetime="2021-02" class="refDate">February 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8986">https://www.rfc-editor.org/info/rfc8986</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9012">[RFC9012]</dt>
        <dd>
<span class="refAuthor">Patel, K.</span>, <span class="refAuthor">Van de Velde, G.</span>, <span class="refAuthor">Sangli, S.</span>, and <span class="refAuthor">J. Scudder</span>, <span class="refTitle">"The BGP Tunnel Encapsulation Attribute"</span>, <span class="seriesInfo">RFC 9012</span>, <span class="seriesInfo">DOI 10.17487/RFC9012</span>, <time datetime="2021-04" class="refDate">April 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9012">https://www.rfc-editor.org/info/rfc9012</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9256">[RFC9256]</dt>
      <dd>
<span class="refAuthor">Filsfils, C.</span>, <span class="refAuthor">Talaulikar, K., Ed.</span>, <span class="refAuthor">Voyer, D.</span>, <span class="refAuthor">Bogdanov, A.</span>, and <span class="refAuthor">P. Mattes</span>, <span class="refTitle">"Segment Routing Policy Architecture"</span>, <span class="seriesInfo">RFC 9256</span>, <span class="seriesInfo">DOI 10.17487/RFC9256</span>, <time datetime="2022-07" class="refDate">July 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9256">https://www.rfc-editor.org/info/rfc9256</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-9.2">
        <h3 id="name-informative-references">
<a href="#section-9.2" class="section-number selfRef">9.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="I-D.ietf-idr-bgp-ls-sr-policy">[BGP-LS-SR-POLICY]</dt>
        <dd>
<span class="refAuthor">Previdi, S.</span>, <span class="refAuthor">Talaulikar, K., Ed.</span>, <span class="refAuthor">Dong, J.</span>, <span class="refAuthor">Gredler, H.</span>, and <span class="refAuthor">J. Tantsura</span>, <span class="refTitle">"Advertisement of Segment Routing Policies using BGP Link-State"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-idr-bgp-ls-sr-policy-17</span>, <time datetime="2025-03-06" class="refDate">6 March 2025</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-idr-bgp-ls-sr-policy-17">https://datatracker.ietf.org/doc/html/draft-ietf-idr-bgp-ls-sr-policy-17</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-idr-bgp-model">[BGP-YANG-MODEL]</dt>
        <dd>
<span class="refAuthor">Jethanandani, M.</span>, <span class="refAuthor">Patel, K.</span>, <span class="refAuthor">Hares, S.</span>, and <span class="refAuthor">J. Haas</span>, <span class="refTitle">"YANG Model for Border Gateway Protocol (BGP-4)"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-idr-bgp-model-18</span>, <time datetime="2024-10-21" class="refDate">21 October 2024</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-idr-bgp-model-18">https://datatracker.ietf.org/doc/html/draft-ietf-idr-bgp-model-18</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4272">[RFC4272]</dt>
        <dd>
<span class="refAuthor">Murphy, S.</span>, <span class="refTitle">"BGP Security Vulnerabilities Analysis"</span>, <span class="seriesInfo">RFC 4272</span>, <span class="seriesInfo">DOI 10.17487/RFC4272</span>, <time datetime="2006-01" class="refDate">January 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4272">https://www.rfc-editor.org/info/rfc4272</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4456">[RFC4456]</dt>
        <dd>
<span class="refAuthor">Bates, T.</span>, <span class="refAuthor">Chen, E.</span>, and <span class="refAuthor">R. Chandra</span>, <span class="refTitle">"BGP Route Reflection: An Alternative to Full Mesh Internal BGP (IBGP)"</span>, <span class="seriesInfo">RFC 4456</span>, <span class="seriesInfo">DOI 10.17487/RFC4456</span>, <time datetime="2006-04" class="refDate">April 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4456">https://www.rfc-editor.org/info/rfc4456</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6952">[RFC6952]</dt>
        <dd>
<span class="refAuthor">Jethanandani, M.</span>, <span class="refAuthor">Patel, K.</span>, and <span class="refAuthor">L. Zheng</span>, <span class="refTitle">"Analysis of BGP, LDP, PCEP, and MSDP Issues According to the Keying and Authentication for Routing Protocols (KARP) Design Guide"</span>, <span class="seriesInfo">RFC 6952</span>, <span class="seriesInfo">DOI 10.17487/RFC6952</span>, <time datetime="2013-05" class="refDate">May 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6952">https://www.rfc-editor.org/info/rfc6952</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9552">[RFC9552]</dt>
        <dd>
<span class="refAuthor">Talaulikar, K., Ed.</span>, <span class="refTitle">"Distribution of Link-State and Traffic Engineering Information Using BGP"</span>, <span class="seriesInfo">RFC 9552</span>, <span class="seriesInfo">DOI 10.17487/RFC9552</span>, <time datetime="2023-12" class="refDate">December 2023</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9552">https://www.rfc-editor.org/info/rfc9552</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9831">[RFC9831]</dt>
        <dd>
<span class="refAuthor">Talaulikar, K., Ed.</span>, <span class="refAuthor">Filsfils, C.</span>, <span class="refAuthor">Previdi, S.</span>, <span class="refAuthor">Mattes, P.</span>, and <span class="refAuthor">D. Jain</span>, <span class="refTitle">"Segment Type Extensions for BGP Segment Routing (SR) Policy"</span>, <span class="seriesInfo">RFC 9831</span>, <span class="seriesInfo">DOI 10.17487/RFC9831</span>, <time datetime="2025-09" class="refDate">September 2025</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9831">https://www.rfc-editor.org/info/rfc9831</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-spring-sr-policy-yang">[SR-POLICY-YANG]</dt>
      <dd>
<span class="refAuthor">Raza, K., Ed.</span>, <span class="refAuthor">Saleh, T.</span>, <span class="refAuthor">Shunwan, Z.</span>, <span class="refAuthor">Voyer, D.</span>, <span class="refAuthor">Durrani, M.</span>, <span class="refAuthor">Matsushima, S.</span>, and <span class="refAuthor">V. Beeram</span>, <span class="refTitle">"YANG Data Model for Segment Routing Policy"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-spring-sr-policy-yang-05</span>, <time datetime="2025-05-25" class="refDate">25 May 2025</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-spring-sr-policy-yang-05">https://datatracker.ietf.org/doc/html/draft-ietf-spring-sr-policy-yang-05</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<section id="appendix-A">
      <h2 id="name-acknowledgments">
<a href="#name-acknowledgments" class="section-name selfRef">Acknowledgments</a>
      </h2>
<p id="appendix-A-1">The authors of this document would like to thank <span class="contact-name">Shyam Sethuram</span>, <span class="contact-name">John Scudder</span>,
      <span class="contact-name">Przemyslaw Krol</span>, <span class="contact-name">Alex id      Bogdanov</span>, <span class="contact-name">Nandan Saha</span>, <span class="contact-name">Bruno       Decraene</span>, <span class="contact-name">Gurusiddesh Nidasesi</span>, <span class="contact-name">Kausik Majumdar</span>, <span class="contact-name">Zafar Ali</span>, <span class="contact-name">Swadesh Agarwal</span>, <span class="contact-name">Jakob Heitz</span>,
      <span class="contact-name">Viral Patel</span>, <span class="contact-name">Peng Shaofu</span>,
      <span class="contact-name">Cheng Li</span>, <span class="contact-name">Martin Vigoureux</span>,
      <span class="contact-name">John Scudder</span>, <span class="contact-name">Vincent Roca</span>,
      <span class="contact-name">Brian Haberman</span>, <span class="contact-name">Mohamed       Boucadair</span>, <span class="contact-name">Shunwan Zhuang</span>, <span class="contact-name">Andrew Alston</span>, <span class="contact-name">Jeffrey (Zhaohui)       Zhang</span>, <span class="contact-name">Nagendra Nainar</span>, <span class="contact-name">Rajesh Melarcode Venkateswaran</span>, <span class="contact-name">Nat       Kao</span>, <span class="contact-name">Boris Hassanov</span>, <span class="contact-name">Vincent       Roca</span>, <span class="contact-name">Russ Housley</span>, and <span class="contact-name">Dan       Romascanu</span> for their comments and review of this document. The authors
      would like to thank <span class="contact-name">Susan Hares</span> for her detailed
      shepherd review that helped in improving the document.<a href="#appendix-A-1" class="pilcrow">¶</a></p>
</section>
<div id="Contributors">
<section id="appendix-B">
      <h2 id="name-contributors">
<a href="#name-contributors" class="section-name selfRef">Contributors</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Eric Rosen</span></div>
<div dir="auto" class="left"><span class="org">Juniper Networks</span></div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:erosen@juniper.net" class="email">erosen@juniper.net</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Arjun Sreekantiah</span></div>
<div dir="auto" class="left"><span class="org">Cisco Systems</span></div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:asreekan@cisco.com" class="email">asreekan@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Acee Lindem</span></div>
<div dir="auto" class="left"><span class="org">Cisco Systems</span></div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:acee@cisco.com" class="email">acee@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Siva Sivabalan</span></div>
<div dir="auto" class="left"><span class="org">Cisco Systems</span></div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:msiva@cisco.com" class="email">msiva@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Imtiyaz Mohammad</span></div>
<div dir="auto" class="left"><span class="org">Arista Networks</span></div>
<div dir="auto" class="left"><span class="country-name">India</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:imtiyaz@arista.com" class="email">imtiyaz@arista.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Gaurav Dawra</span></div>
<div dir="auto" class="left"><span class="org">Cisco Systems</span></div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:gdawra.ietf@gmail.com" class="email">gdawra.ietf@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Peng Shaofu</span></div>
<div dir="auto" class="left"><span class="org">ZTE Corporation</span></div>
<div dir="auto" class="left"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:peng.shaofu@zte.com.cn" class="email">peng.shaofu@zte.com.cn</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Steven Lin</span></div>
<div dir="auto" class="left"><span class="org">Calix</span></div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:steven.lin@calix.com" class="email">steven.lin@calix.com</a>
</div>
</address>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-C">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Stefano Previdi</span></div>
<div dir="auto" class="left"><span class="org">Huawei Technologies</span></div>
<div dir="auto" class="left"><span class="country-name">Italy</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:stefano@previdi.net" class="email">stefano@previdi.net</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Clarence Filsfils</span></div>
<div dir="auto" class="left"><span class="org">Cisco Systems</span></div>
<div dir="auto" class="left"><span class="locality">Brussels</span></div>
<div dir="auto" class="left"><span class="country-name">Belgium</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:cfilsfil@cisco.com" class="email">cfilsfil@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Ketan Talaulikar (<span class="role">editor</span>)</span></div>
<div dir="auto" class="left"><span class="org">Cisco Systems</span></div>
<div dir="auto" class="left"><span class="country-name">India</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:ketant.ietf@gmail.com" class="email">ketant.ietf@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Paul Mattes</span></div>
<div dir="auto" class="left"><span class="org">Microsoft</span></div>
<div dir="auto" class="left"><span class="street-address">One Microsoft Way</span></div>
<div dir="auto" class="left">
<span class="locality">Redmond</span>, <span class="region">WA</span> <span class="postal-code">98052</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:pamattes@microsoft.com" class="email">pamattes@microsoft.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Dhanendra Jain</span></div>
<div dir="auto" class="left"><span class="org">Google</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:dhanendra.ietf@gmail.com" class="email">dhanendra.ietf@gmail.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
