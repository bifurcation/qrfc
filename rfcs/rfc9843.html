<!DOCTYPE html>
<html lang="en" class="RFC">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>RFC 9843: IGP Flexible Algorithms: Bandwidth, Delay, Metrics, and Constraints</title>
<meta content="Shraddha Hegde" name="author">
<meta content="William Britto" name="author">
<meta content="Rajesh Shetty" name="author">
<meta content="Bruno Decraene" name="author">
<meta content="Peter Psenak" name="author">
<meta content="Tony Li" name="author">
<meta content="
       
    Many networks configure the IGP link metric relative to the link capacity, and high
    bandwidth traffic gets routed per the link capacity. Flexible
    Algorithms provide mechanisms to create constraint-based paths in an IGP.
    This specification documents a generic metric-type and a
    set of bandwidth-related constraints to be used in Flexible Algorithms.
       
       This document updates RFC 9350. 
    " name="description">
<meta content="xml2rfc 3.30.2" name="generator">
<meta content="AS" name="keyword">
<meta content="IGP" name="keyword">
<meta content="9843" name="rfc.number">
<!-- Generator version information:
  xml2rfc 3.30.2
    Python 3.9.15
    ConfigArgParse 1.5.3
    google-i18n-address 3.0.0
    intervaltree 3.1.0
    Jinja2 3.1.2
    lxml 5.3.0
    platformdirs 3.8.0
    pycountry 22.3.5
    PyYAML 6.0
    requests 2.28.0
    setuptools 44.1.1
    six 1.16.0
    wcwidth 0.2.5
    weasyprint 65.0
-->
<link href="rfc9843.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necessary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

:root {
  --font-sans: 'Noto Sans', Arial, Helvetica, sans-serif;
  --font-serif: 'Noto Serif', 'Times', 'Times New Roman', serif;
  --font-mono: 'Roboto Mono', Courier, 'Courier New', monospace;
}

@viewport {
  zoom: 1.0;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: var(--font-sans);
  line-height: 1.6;
  scroll-behavior: smooth;
  overflow-wrap: break-word;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
@media print {
  svg {
    max-height: 850px;
    max-width: 660px;
  }
}
svg[font-family~="serif" i], svg [font-family~="serif" i] {
  font-family: var(--font-serif);
}
svg[font-family~="sans-serif" i], svg [font-family~="sans-serif" i] {
  font-family: var(--font-sans);
}
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  display: table;
  border: none;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre {
  background-color: #f9f9f9;
  font-family: var(--font-mono);
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
blockquote > *:last-child {
  margin-bottom: 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}
.xref {
  overflow-wrap: normal;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    max-width: 100%;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.refSubseries {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: var(--font-sans);
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  .breakable pre {
    break-inside: auto;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The following is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
.sourcecode pre,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .artwork > pre,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: upper-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background slightly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr {
  break-inside: avoid;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottom margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code, dt tt, dt code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the compact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > blockquote:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div.sourcecode:first-child,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type:only-child {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<link href="https://datatracker.ietf.org/doc/draft-ietf-lsr-flex-algo-bw-con-22" rel="prev">
  <link href="https://dx.doi.org/10.17487/rfc9843" rel="alternate">
  <link href="urn:issn:2070-1721" rel="alternate">
  </head>
<body class="xml2rfc">
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 9843</td>
<td class="center">IGP Flex-Algorithms: Bandwidth, Delay, a</td>
<td class="right">September 2025</td>
</tr></thead>
<tfoot><tr>
<td class="left">Hegde, et al.</td>
<td class="center">Standards Track</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Engineering Task Force (IETF)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a href="https://www.rfc-editor.org/rfc/rfc9843" class="eref">9843</a></dd>
<dt class="label-updates">Updates:</dt>
<dd class="updates">
<a href="https://www.rfc-editor.org/rfc/rfc9350" class="eref">9350</a> </dd>
<dt class="label-category">Category:</dt>
<dd class="category">Standards Track</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2025-09" class="published">September 2025</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">S. Hegde</div>
<div class="org">Juniper Networks Inc.</div>
</div>
<div class="author">
      <div class="author-name">W. Britto</div>
<div class="org">Juniper Networks Inc.</div>
</div>
<div class="author">
      <div class="author-name">R. Shetty</div>
<div class="org">Juniper Networks Inc.</div>
</div>
<div class="author">
      <div class="author-name">B. Decraene</div>
<div class="org">Orange</div>
</div>
<div class="author">
      <div class="author-name">P. Psenak</div>
<div class="org">Cisco Systems</div>
</div>
<div class="author">
      <div class="author-name">T. Li</div>
<div class="org">Juniper Networks Inc.</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 9843</h1>
<h1 id="title">IGP Flexible Algorithms: Bandwidth, Delay, Metrics, and Constraints</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">
    Many networks configure the IGP link metric relative to the link capacity, and high
    bandwidth traffic gets routed per the link capacity. Flexible
    Algorithms provide mechanisms to create constraint-based paths in an IGP.
    This specification documents a generic metric-type and a
    set of bandwidth-related constraints to be used in Flexible Algorithms.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
<p id="section-abstract-2">This document updates RFC 9350.<a href="#section-abstract-2" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This is an Internet Standards Track document.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc9843">https://www.rfc-editor.org/info/rfc9843</a></span>.<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2025 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="auto internal xref">1</a>.  <a href="#name-introduction" class="internal xref">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p id="section-toc.1-1.1.2.1.1" class="keepWithNext"><a href="#section-1.1" class="auto internal xref">1.1</a>.  <a href="#name-requirements-language" class="internal xref">Requirements Language</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a href="#section-2" class="auto internal xref">2</a>.  <a href="#name-generic-metric-advertisemen" class="internal xref">Generic Metric Advertisement</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1" class="keepWithNext"><a href="#section-2.1" class="auto internal xref">2.1</a>.  <a href="#name-is-is-generic-metric-sub-tl" class="internal xref">IS-IS Generic Metric Sub-TLV</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.2">
                <p id="section-toc.1-1.2.2.2.1"><a href="#section-2.2" class="auto internal xref">2.2</a>.  <a href="#name-ospf-generic-metric-sub-tlv" class="internal xref">OSPF Generic Metric Sub-TLV</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3">
                <p id="section-toc.1-1.2.2.3.1"><a href="#section-2.3" class="auto internal xref">2.3</a>.  <a href="#name-generic-metric-applicabilit" class="internal xref">Generic Metric Applicability to Flexible Algorithm Multi-Domain/Multi-Area Networks</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="auto internal xref">3</a>.  <a href="#name-fad-constraint-sub-tlvs" class="internal xref">FAD Constraint Sub-TLVs</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a href="#section-3.1" class="auto internal xref">3.1</a>.  <a href="#name-is-is-fad-constraint-sub-tl" class="internal xref">IS-IS FAD Constraint Sub-TLVs</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1.2.1">
                    <p id="section-toc.1-1.3.2.1.2.1.1"><a href="#section-3.1.1" class="auto internal xref">3.1.1</a>.  <a href="#name-is-is-exclude-minimum-bandw" class="internal xref">IS-IS Exclude Minimum Bandwidth Sub-TLV</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1.2.2">
                    <p id="section-toc.1-1.3.2.1.2.2.1"><a href="#section-3.1.2" class="auto internal xref">3.1.2</a>.  <a href="#name-is-is-exclude-maximum-delay" class="internal xref">IS-IS Exclude Maximum Delay Sub-TLV</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="auto internal xref">3.2</a>.  <a href="#name-ospf-fad-constraint-sub-tlv" class="internal xref">OSPF FAD Constraint Sub-TLVs</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2.2.1">
                    <p id="section-toc.1-1.3.2.2.2.1.1"><a href="#section-3.2.1" class="auto internal xref">3.2.1</a>.  <a href="#name-ospf-exclude-minimum-bandwi" class="internal xref">OSPF Exclude Minimum Bandwidth Sub-TLV</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2.2.2">
                    <p id="section-toc.1-1.3.2.2.2.2.1"><a href="#section-3.2.2" class="auto internal xref">3.2.2</a>.  <a href="#name-ospf-exclude-maximum-delay-" class="internal xref">OSPF Exclude Maximum Delay Sub-TLV</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="auto internal xref">4</a>.  <a href="#name-bandwidth-metric-advertisem" class="internal xref">Bandwidth Metric Advertisement</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="auto internal xref">4.1</a>.  <a href="#name-automatic-metric-calculatio" class="internal xref">Automatic Metric Calculation</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.1">
                    <p id="section-toc.1-1.4.2.1.2.1.1"><a href="#section-4.1.1" class="auto internal xref">4.1.1</a>.  <a href="#name-automatic-metric-calculation" class="internal xref">Automatic Metric Calculation Modes</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.2">
                    <p id="section-toc.1-1.4.2.1.2.2.1"><a href="#section-4.1.2" class="auto internal xref">4.1.2</a>.  <a href="#name-automatic-metric-calculation-" class="internal xref">Automatic Metric Calculation Methods</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.3">
                    <p id="section-toc.1-1.4.2.1.2.3.1"><a href="#section-4.1.3" class="auto internal xref">4.1.3</a>.  <a href="#name-is-is-fad-constraint-sub-tlv" class="internal xref">IS-IS FAD Constraint Sub-TLVs for Automatic Metric Calculation</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.4">
                    <p id="section-toc.1-1.4.2.1.2.4.1"><a href="#section-4.1.4" class="auto internal xref">4.1.4</a>.  <a href="#name-ospf-fad-constraint-sub-tlvs" class="internal xref">OSPF FAD Constraint Sub-TLVs for Automatic Metric Calculation</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="auto internal xref">5</a>.  <a href="#name-bandwidth-metric-considerat" class="internal xref">Bandwidth Metric Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="auto internal xref">6</a>.  <a href="#name-calculation-of-flex-algorit" class="internal xref">Calculation of Flex-Algorithm Paths</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="auto internal xref">7</a>.  <a href="#name-backward-compatibility" class="internal xref">Backward Compatibility</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="auto internal xref">8</a>.  <a href="#name-security-considerations" class="internal xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="auto internal xref">9</a>.  <a href="#name-operational-considerations" class="internal xref">Operational Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="auto internal xref">10</a>. <a href="#name-iana-considerations" class="internal xref">IANA Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a href="#section-10.1" class="auto internal xref">10.1</a>.  <a href="#name-igp-metric-type-registry" class="internal xref">IGP Metric-Type Registry</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a href="#section-10.2" class="auto internal xref">10.2</a>.  <a href="#name-is-is-sub-sub-tlvs-for-flex" class="internal xref">IS-IS Sub-Sub-TLVs for Flexible Algorithm Definition Sub-TLV</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.3">
                <p id="section-toc.1-1.10.2.3.1"><a href="#section-10.3" class="auto internal xref">10.3</a>.  <a href="#name-ospf-sub-tlvs-for-flexible-" class="internal xref">OSPF Sub-TLVs for Flexible Algorithm Definition Sub-TLV</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.4">
                <p id="section-toc.1-1.10.2.4.1"><a href="#section-10.4" class="auto internal xref">10.4</a>.  <a href="#name-is-is-sub-tlvs-for-tlvs-adv" class="internal xref">IS-IS Sub-TLVs for TLVs Advertising Neighbor Information</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.5">
                <p id="section-toc.1-1.10.2.5.1"><a href="#section-10.5" class="auto internal xref">10.5</a>.  <a href="#name-sub-sub-tlv-codepoints-for-" class="internal xref">Sub-Sub-TLV Codepoints for Application-Specific Link Attributes</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.6">
                <p id="section-toc.1-1.10.2.6.1"><a href="#section-10.6" class="auto internal xref">10.6</a>.  <a href="#name-ospfv2-extended-link-tlv-su" class="internal xref">OSPFv2 Extended Link TLV Sub-TLVs</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.7">
                <p id="section-toc.1-1.10.2.7.1"><a href="#section-10.7" class="auto internal xref">10.7</a>.  <a href="#name-types-for-sub-tlvs-of-te-li" class="internal xref">Types for Sub-TLVs of TE Link TLV (Value 2)</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.8">
                <p id="section-toc.1-1.10.2.8.1"><a href="#section-10.8" class="auto internal xref">10.8</a>.  <a href="#name-ospfv3-extended-lsa-sub-tlv" class="internal xref">OSPFv3 Extended-LSA Sub-TLVs</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="auto internal xref">11</a>. <a href="#name-references" class="internal xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1">
                <p id="section-toc.1-1.11.2.1.1"><a href="#section-11.1" class="auto internal xref">11.1</a>.  <a href="#name-normative-references" class="internal xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.2">
                <p id="section-toc.1-1.11.2.2.1"><a href="#section-11.2" class="auto internal xref">11.2</a>.  <a href="#name-informative-references" class="internal xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#appendix-A" class="auto internal xref">Appendix A</a>.  <a href="#name-updated-list-of-rules-for-p" class="internal xref">Updated List of Rules for Pruning Links in Flex-Algorithm Topology</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#appendix-B" class="auto internal xref"></a><a href="#name-acknowledgements" class="internal xref">Acknowledgements</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a href="#appendix-C" class="auto internal xref"></a><a href="#name-contributors" class="internal xref">Contributors</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15">
            <p id="section-toc.1-1.15.1"><a href="#appendix-D" class="auto internal xref"></a><a href="#name-authors-addresses" class="internal xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="sec_introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">  High bandwidth traffic such as residential Internet traffic and
   machine-to-machine elephant flows benefit from using high capacity
   links.  Accordingly, many network operators define a link's metric
   relative to its capacity to help direct traffic to higher bandwidth
   links, but this is no guarantee that lower bandwidth links will be
   avoided, especially in failure scenarios.  To ensure that elephant
   flows are only placed on high capacity links, it would be useful to
   explicitly exclude the high throughput traffic from utilizing links
   below a certain capacity. Flex-Algorithm <span>[<a href="#RFC9350" class="cite xref">RFC9350</a>]</span>
   provides a mechanism to create constrained paths by defining 
   a set of parameters consisting of
   calculation-type, metric-type, and a set of constraints.  In
   this document, we define further extensions to the Flexible Algorithm Definition (FAD) that
   will allow operators additional control over their traffic flows,
   especially with respect to bandwidth constraints.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">Historically, IGPs have done path computation by minimizing the
   sum of the link metrics along the path from source to
   destination. While the metric has been administratively defined,
   implementations have defaulted to a metric that is inversely
   proportional to link bandwidth. This has driven traffic to higher
   bandwidth links and has required manual metric manipulation to
   achieve the desired loading of the network.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">Over time, with the addition of different traffic types, the need
   for alternate types of metrics has evolved. Flex-Algorithm
   already supports using the minimum link delay and the
   administratively assigned traffic-engineering metrics in path
   computation. However, it is clear that additional metrics may be of
   interest in different situations. A network operator may seek to
   minimize their operational costs and thus may want a metric that
   reflects the actual fiscal costs of using a link.  Other traffic
   may require low jitter, leading to an entirely different set of
   metrics. With Flex-Algorithm, all of these different metrics, and
   more, could be used concurrently on the same network.<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">In some circumstances, path computation constraints, such as
   administrative groups, can be used to ensure that traffic avoids
   particular portions of the network. These strict constraints are
   appropriate when there is an absolute requirement to avoid parts of
   the topology, even in failure conditions. However, if the
   requirement is less strict, then using a high metric in a portion
   of the topology may be more appropriate.<a href="#section-1-4" class="pilcrow">¶</a></p>
<p id="section-1-5">This document defines a family of generic metrics that can advertise
      various types of administratively assigned metrics. This document introduces
   standard metric-types that have specific semantics and require 
   standardization.
   This document also specifies user-defined metric-types where specifics are
   not defined so that administrators are free to assign semantics as
      they see fit.<a href="#section-1-5" class="pilcrow">¶</a></p>
<p id="section-1-6"> <a href="#sec_fad_con" class="auto internal xref">Section 3</a> defines additional FAD <span>[<a href="#RFC9350" class="cite xref">RFC9350</a>]</span> 
   constraints that allow the network
   administrator to preclude the use of low bandwidth links or high
   delay links. <a href="#sec_bw_metric" class="auto internal xref">Section 4</a> specifies a new bandwidth-based metric-type
   to be used with Flex-Algorithm and other applications.<a href="#section-1-6" class="pilcrow">¶</a></p>
<p id="section-1-7"> <a href="#sec_auto_metric" class="auto internal xref">Section 4.1</a>
   defines mechanisms to automatically calculate link metrics based on
   the parameters defined in the FAD and the advertised Maximum Link Bandwidth
   of each link. This is advantageous because administrators can change their
   criteria for metric assignment centrally, without individual
   modification of each link metric throughout the network. The procedures
   described in this document are intended to assign a metric to a link based on
   the total link capacity, and they are not intended to update the metric based
   on actual traffic flow. Thus, the procedures described in this document are not a
   replacement to the capability of a PCE  <span>[<a href="#RFC4655" class="cite xref">RFC4655</a>]</span>, which has a dynamic view of
   the network and provides real-time bandwidth management or a distributed bandwidth
      management protocol.<a href="#section-1-7" class="pilcrow">¶</a></p>
<div id="req_lang">
<section id="section-1.1">
        <h3 id="name-requirements-language">
<a href="#section-1.1" class="section-number selfRef">1.1. </a><a href="#name-requirements-language" class="section-name selfRef">Requirements Language</a>
        </h3>
<p id="section-1.1-1">
    The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>", "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>", "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
    "<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be interpreted as
    described in BCP 14 <span>[<a href="#RFC2119" class="cite xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="cite xref">RFC8174</a>]</span> 
    when, and only when, they appear in all capitals, as shown here.<a href="#section-1.1-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="sec_generic_metric">
<section id="section-2">
      <h2 id="name-generic-metric-advertisemen">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-generic-metric-advertisemen" class="section-name selfRef">Generic Metric Advertisement</a>
      </h2>
<p id="section-2-1"> IS-IS <span>[<a href="#RFC1195" class="cite xref">RFC1195</a>]</span> and OSPF <span>[<a href="#RFC2328" class="cite xref">RFC2328</a>]</span> advertise 
a metric for each link in their respective
 link state advertisements. Multiple metric-types are  already supported.
 Administratively assigned metrics are described in the original OSPF
 and IS-IS specifications. The Traffic Engineering Default Metric
is defined in <span>[<a href="#RFC5305" class="cite xref">RFC5305</a>]</span> and <span>[<a href="#RFC3630" class="cite xref">RFC3630</a>]</span>,
and the Unidirectional Link Delay is defined in
<span>[<a href="#RFC8570" class="cite xref">RFC8570</a>]</span> and <span>[<a href="#RFC7471" class="cite xref">RFC7471</a>]</span>.
Other metrics, such as jitter, reliability, and fiscal cost may be
   helpful, depending on the traffic class. Rather than attempt to
   enumerate all possible metrics of interest, this document specifies
   a generic mechanism for advertising metrics.<a href="#section-2-1" class="pilcrow">¶</a></p>
<p id="section-2-2">
Each generic metric advertisement is on a per-link and per-metric-type
   basis.  The metric advertisement consists of a metric-type
   field and a value for the metric.  The metric-type field has been 
   assigned in the "IGP Metric-Type" IANA registry.  Metric-types
   0-127 are standard metric-types as assigned by IANA.  This document
   further specifies a user-defined metric-type space of metric-types
   128-255. They can be assigned by an operator for local use.<a href="#section-2-2" class="pilcrow">¶</a></p>
<p id="section-2-3">Implementations <span class="bcp14">MUST</span> support sending and receiving a Generic Metric
 sub-TLV in Application-Specific Link Attributes (ASLA) encodings as 
 well as in TLV 22 and Extended Link Opaque Link State Advertisements (LSAs) <span>[<a href="#RFC7684" class="cite xref">RFC7684</a>]</span> and TE-LSAs.
 The usage of a generic metric by an individual application is subject to the same
 rules that apply to other link attributes as defined in <span>[<a href="#RFC3630" class="cite xref">RFC3630</a>]</span>,
 <span>[<a href="#RFC5305" class="cite xref">RFC5305</a>]</span>, <span>[<a href="#RFC9479" class="cite xref">RFC9479</a>]</span>,  
 <span>[<a href="#RFC9492" class="cite xref">RFC9492</a>]</span>, and <span>[<a href="#RFC9350" class="cite xref">RFC9350</a>]</span>.<a href="#section-2-3" class="pilcrow">¶</a></p>
<div id="sec_isis_gen_metric">
<section id="section-2.1">
        <h3 id="name-is-is-generic-metric-sub-tl">
<a href="#section-2.1" class="section-number selfRef">2.1. </a><a href="#name-is-is-generic-metric-sub-tl" class="section-name selfRef">IS-IS Generic Metric Sub-TLV</a>
        </h3>
<p id="section-2.1-1">The IS-IS Generic Metric sub-TLV specifies the link metric for a given
   metric-type.  Typically, this metric is assigned by a
   network administrator.
   The Generic Metric sub-TLV is advertised in the TLVs/sub-TLVs below:<a href="#section-2.1-1" class="pilcrow">¶</a></p>
<ol start="1" type="a" class="normal type-a" id="section-2.1-2">
          <li id="section-2.1-2.1">TLV 22 (Extended IS reachability) <span>[<a href="#RFC5305" class="cite xref">RFC5305</a>]</span><a href="#section-2.1-2.1" class="pilcrow">¶</a>
</li>
          <li id="section-2.1-2.2">TLV 222 (MT-ISN) <span>[<a href="#RFC5120" class="cite xref">RFC5120</a>]</span><a href="#section-2.1-2.2" class="pilcrow">¶</a>
</li>
          <li id="section-2.1-2.3">TLV 23 (IS Neighbor Attribute) <span>[<a href="#RFC5311" class="cite xref">RFC5311</a>]</span><a href="#section-2.1-2.3" class="pilcrow">¶</a>
</li>
          <li id="section-2.1-2.4">TLV 223 (MT IS Neighbor Attribute) <span>[<a href="#RFC5311" class="cite xref">RFC5311</a>]</span><a href="#section-2.1-2.4" class="pilcrow">¶</a>
</li>
          <li id="section-2.1-2.5">TLV 141 (Inter-AS Reachability Information) <span>[<a href="#RFC9346" class="cite xref">RFC9346</a>]</span><a href="#section-2.1-2.5" class="pilcrow">¶</a>
</li>
          <li id="section-2.1-2.6">sub-TLV 16 (Application-Specific Link Attributes (ASLA)) of TLVs
          22/222/23/223/141 <span>[<a href="#RFC9479" class="cite xref">RFC9479</a>]</span><a href="#section-2.1-2.6" class="pilcrow">¶</a>
</li>
          <li id="section-2.1-2.7">TLV 25 (L2 Bundle Member Attributes) <span>[<a href="#RFC8668" class="cite xref">RFC8668</a>]</span>. Marked as "y(s)" (shareable among bundle
          members).<a href="#section-2.1-2.7" class="pilcrow">¶</a>
</li>
        </ol>
<span id="name-is-is-generic-metric-sub-tlv"></span><div id="isis_gen_metric_sub_tlv">
<figure id="figure-1">
          <div class="alignLeft art-text artwork" id="section-2.1-3.1">
<pre>
    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Type        |     Length    |  metric-type  |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                         Value                 |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-is-is-generic-metric-sub-tlv" class="selfRef">IS-IS Generic Metric Sub-TLV</a>
          </figcaption></figure>
</div>
<p id="section-2.1-4">
where:<a href="#section-2.1-4" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-2.1-5">
          <dt id="section-2.1-5.1">Type (1 octet):</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-5.2">An 8-bit field assigned by IANA (17).  This value
  uniquely identifies the Generic Metric TLV.<a href="#section-2.1-5.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-5.3">Length (1 octet):</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-5.4">An 8-bit field indicating the total length, in octets, of the subsequent
  fields. For this TLV, the Length is set to 4.<a href="#section-2.1-5.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-5.5">Metric-Type (1 octet):</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-5.6">An 8-bit field specifying the type of metric.  The value is taken from
  the "IGP Metric-Type" registry maintained by IANA. The metric-type may be
  any value that is indicated as allowed in the Generic Metric sub-TLV by the
  "IGP Metric-Type" registry.<a href="#section-2.1-5.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-5.7">Value (3 octets):</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-5.8">A 24-bit unsigned integer representing the metric value.  The valid
  range is from 0 to 16,777,215 (0xFFFFFF).<a href="#section-2.1-5.8" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-2.1-6">
    The Generic Metric sub-TLV <span class="bcp14">MAY</span> be advertised multiple times.
    For a particular metric-type,
    the Generic Metric sub-TLV <span class="bcp14">MUST</span> be advertised only once for a link
    when advertised in TLVs 22, 222, 23, 223, and 141.
    When the Generic Metric sub-TLV is advertised in ASLA,
    each metric-type <span class="bcp14">MUST</span> be advertised only once per-application for a link.
    If there are multiple Generic Metric sub-TLVs advertised for a link
    for the same metric-type  (and the same application in case of ASLA)
    in one or more received Link State Protocol Data Units (LSPDUs), advertisement in the lowest-numbered fragment
    <span class="bcp14">MUST</span> be used, and the subsequent instances <span class="bcp14">MUST</span> be ignored.<a href="#section-2.1-6" class="pilcrow">¶</a></p>
<p id="section-2.1-7">For a link, if the metric-type corresponds to a metric-type for
 which legacy advertisement mechanisms exist (e.g., the IGP Metric, 
 the Min Unidirectional Link Delay, or the 
    Traffic Engineering Default Metric), the legacy metric-types <span class="bcp14">MUST</span> 
 be utilized from the existing TLV or sub-TLVs. If a Generic Metric 
 advertises a legacy metric, it <span class="bcp14">MUST</span> be ignored.<a href="#section-2.1-7" class="pilcrow">¶</a></p>
<p id="section-2.1-8">A metric value of
   0xFFFFFF is considered a maximum link metric, and a link having 
   this metric value <span class="bcp14">MUST</span> be used during Flex-Algorithm calculations
   as a last resort link as described in <span><a href="https://rfc-editor.org/rfc/rfc9350#section-15.3" class="relref">Section 15.3</a> of [<a href="#RFC9350" class="cite xref">RFC9350</a>]</span>. 
   A link can be made unusable by Flex-Algorithm by leaving out Generic Metric
   advertisement of the particular metric-type that the Flex-Algorithm 
   uses, as described in <span>[<a href="#RFC9350" class="cite xref">RFC9350</a>]</span>.<a href="#section-2.1-8" class="pilcrow">¶</a></p>
<p id="section-2.1-9"> During the router maintenance activity, the Generic Metric for 
   all the links on the node <span class="bcp14">MAY</span> be set to a maximum value of 
   16,777,215 (0xFFFFFF), as it is the maximum usable link metric for the 
   Flex-Algorithm calculations.<a href="#section-2.1-9" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec_ospf_gen_metric">
<section id="section-2.2">
        <h3 id="name-ospf-generic-metric-sub-tlv">
<a href="#section-2.2" class="section-number selfRef">2.2. </a><a href="#name-ospf-generic-metric-sub-tlv" class="section-name selfRef">OSPF Generic Metric Sub-TLV</a>
        </h3>
<p id="section-2.2-1">
   The OSPF Generic Metric sub-TLV specifies the link metric for a given
   metric-type. Typically, this metric is assigned by a
   network administrator.
   The Generic Metric sub-TLV is advertised in the TLVs below:<a href="#section-2.2-1" class="pilcrow">¶</a></p>
<ol start="1" type="a" class="normal type-a" id="section-2.2-2">
     
          <li id="section-2.2-2.1">sub-TLV of TE Link TLV (type 2) of OSPF TE LSA <span>[<a href="#RFC3630" class="cite xref">RFC3630</a>]</span>.<a href="#section-2.2-2.1" class="pilcrow">¶</a>
</li>
          <li id="section-2.2-2.2">sub-TLV of TE Link TLV (type 2) of OSPFv2 Inter-AS-TE-v2 LSA <span>[<a href="#RFC5392" class="cite xref">RFC5392</a>]</span>.<a href="#section-2.2-2.2" class="pilcrow">¶</a>
</li>
          <li id="section-2.2-2.3">sub-TLV of TE Link TLV (type 2) of OSPFv3 Intra-Area-TE-LSA <span>[<a href="#RFC5329" class="cite xref">RFC5329</a>]</span>.<a href="#section-2.2-2.3" class="pilcrow">¶</a>
</li>
          <li id="section-2.2-2.4">sub-TLV of TE Link TLV (type 2) of OSPFv3 Inter-AS-TE-v3 LSA <span>[<a href="#RFC5392" class="cite xref">RFC5392</a>]</span>.<a href="#section-2.2-2.4" class="pilcrow">¶</a>
</li>
          <li id="section-2.2-2.5">sub-TLV of Application-Specific Link Attributes (ASLA) sub-TLV <span>[<a href="#RFC9492" class="cite xref">RFC9492</a>]</span> 
            of the OSPFv2 Extended Link TLV <span>[<a href="#RFC7684" class="cite xref">RFC7684</a>]</span>.<a href="#section-2.2-2.5" class="pilcrow">¶</a>
</li>
          <li id="section-2.2-2.6">sub-TLV of Application-Specific Link Attributes (ASLA) sub-TLV <span>[<a href="#RFC9492" class="cite xref">RFC9492</a>]</span>
            of the OSPFv3 Router-Link TLV <span>[<a href="#RFC8362" class="cite xref">RFC8362</a>]</span>.<a href="#section-2.2-2.6" class="pilcrow">¶</a>
</li>
          <li id="section-2.2-2.7">sub-TLV of the OSPFv2 L2 Bundle Member Attributes sub-TLV <span>[<a href="#RFC9356" class="cite xref">RFC9356</a>]</span>.<a href="#section-2.2-2.7" class="pilcrow">¶</a>
</li>
          <li id="section-2.2-2.8">sub-TLV of the OSPFv3 L2 Bundle Member Attributes sub-TLV <span>[<a href="#RFC9356" class="cite xref">RFC9356</a>]</span>.<a href="#section-2.2-2.8" class="pilcrow">¶</a>
</li>
        </ol>
<p id="section-2.2-3">The Generic Metric sub-TLV, types 25/36/34, is 8 octets in length.<a href="#section-2.2-3" class="pilcrow">¶</a></p>
<span id="name-ospf-generic-metric-sub-tlv-2"></span><div id="ospf_gen_metric_sub_tlv">
<figure id="figure-2">
          <div class="alignLeft art-text artwork" id="section-2.2-4.1">
<pre>
       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |              Type             |             Length            |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      | metric-type   |         Reserved (MBZ)                        |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                            Value                              |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-ospf-generic-metric-sub-tlv-2" class="selfRef">OSPF Generic Metric Sub-TLV</a>
          </figcaption></figure>
</div>
<p id="section-2.2-5">
  where:<a href="#section-2.2-5" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-2.2-6">
          <dt id="section-2.2-6.1">Type (2 octets):</dt>
          <dd style="margin-left: 1.5em" id="section-2.2-6.2">A 16-bit field assigned by IANA (25/36/34).
  This value uniquely identifies the Generic Metric TLV.<a href="#section-2.2-6.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-6.3">Length (2 octets):</dt>
          <dd style="margin-left: 1.5em" id="section-2.2-6.4">A 16-bit field indicating the total length, in octets, of the subsequent
  fields. For this TLV, the Length is set to 8.<a href="#section-2.2-6.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-6.5">Metric-Type (1 octet):</dt>
          <dd style="margin-left: 1.5em" id="section-2.2-6.6">An 8-bit field specifying the type of metric.  The value is taken from
  the "IGP Metric-Type" registry maintained by IANA. The metric-type may be
  any value that is indicated as allowed in the Generic Metric sub-TLV by the
  "IGP Metric-Type" registry.<a href="#section-2.2-6.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-6.7">Reserved (3 octets):</dt>
          <dd style="margin-left: 1.5em" id="section-2.2-6.8">
            <span class="bcp14">MUST</span> set to zero by the sender and <span class="bcp14">MUST</span> be ignored by the receiver.<a href="#section-2.2-6.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-6.9">Value (4 octets):</dt>
          <dd style="margin-left: 1.5em" id="section-2.2-6.10">A 32-bit unsigned integer representing the metric value.
  The valid
  range is from 0 to 4,294,967,295 (0xFFFFFFFF).<a href="#section-2.2-6.10" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-2.2-7">The Generic Metric sub-TLV <span class="bcp14">MAY</span> be advertised multiple times.
For a particular metric-type, the Generic Metric sub-TLV <span class="bcp14">MUST</span>
be advertised only once for a link when advertised as (a) through (d) above.
When the Generic Metric sub-TLV is advertised as a sub-TLV of ASLA, it
<span class="bcp14">MUST</span> be advertised only once per application for a link.  If
there are multiple Generic Metric sub-TLVs advertised for a link for the same
metric-type (and the same application in case of ASLA) in one or more received
LSAs, advertisement in the lowest-numbered LSA <span class="bcp14">MUST</span> be used, and
the subsequent instances <span class="bcp14">MUST</span> be ignored.<a href="#section-2.2-7" class="pilcrow">¶</a></p>
<p id="section-2.2-8">For a link, if the metric-type corresponds to a metric-type for 
 which legacy advertisement mechanisms exist (e.g., the IGP Metric, 
 the Min Unidirectional Link Delay, or the Traffic Engineering 
 Default Metric), the legacy metric-types <span class="bcp14">MUST</span> be utilized from 
 the existing TLV or sub-TLVs. If a Generic Metric advertises a
 legacy metric, it <span class="bcp14">MUST</span> be ignored.<a href="#section-2.2-8" class="pilcrow">¶</a></p>
<p id="section-2.2-9">A metric value of
   0xFFFFFFFF is considered a maximum link metric, and a link having 
   this metric value <span class="bcp14">MUST</span> be used during Flex-Algorithm calculations
   as a last resort link, as described in <span><a href="https://rfc-editor.org/rfc/rfc9350#section-15.3" class="relref">Section 15.3</a> of [<a href="#RFC9350" class="cite xref">RFC9350</a>]</span>.<a href="#section-2.2-9" class="pilcrow">¶</a></p>
<p id="section-2.2-10">A link can be made unusable by Flex-Algorithm by leaving out Generic Metric
   advertisement of the particular metric-type that the Flex-Algorithm 
 uses, as described in <span>[<a href="#RFC9350" class="cite xref">RFC9350</a>]</span>.<a href="#section-2.2-10" class="pilcrow">¶</a></p>
<p id="section-2.2-11"> During the router maintenance activity, the Generic Metric for 
   all the links on the node <span class="bcp14">MAY</span> be set to a maximum value of 
   4,294,967,295 (0xFFFFFFFF), as it is the maximum usable link metric for the 
   Flex-Algorithm calculations.<a href="#section-2.2-11" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec_multi_area">
<section id="section-2.3">
        <h3 id="name-generic-metric-applicabilit">
<a href="#section-2.3" class="section-number selfRef">2.3. </a><a href="#name-generic-metric-applicabilit" class="section-name selfRef">Generic Metric Applicability to Flexible Algorithm Multi-Domain/Multi-Area Networks</a>
        </h3>
<p id="section-2.3-1">Generic Metric can be used by Flex-Algorithm
 by specifying the metric-type in the
Flexible Algorithm Definitions. When Flex-Algorithm is used in a multi-area network,
<span>[<a href="#RFC9350" class="cite xref">RFC9350</a>]</span> defines the Flexible Algorithm Prefix Metric (FAPM)
 sub-TLV that carries
the Flexible-Algorithm-specific metric. Metrics carried in FAPM will be equal
to the metric to reach the prefix for that Flex-Algorithm in its
source area or domain (source area from the Area Border Router (ABR) perspective). When Flex-Algorithm uses
Generic Metric, the same procedures as described in 
<span><a href="https://rfc-editor.org/rfc/rfc9350#section-13" class="relref">Section 13</a> of [<a href="#RFC9350" class="cite xref">RFC9350</a>]</span>
are used to send and process the FAPM sub-TLV.<a href="#section-2.3-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="sec_fad_con">
<section id="section-3">
      <h2 id="name-fad-constraint-sub-tlvs">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-fad-constraint-sub-tlvs" class="section-name selfRef">FAD Constraint Sub-TLVs</a>
      </h2>
<p id="section-3-1">

   Large high throughput flows are referred to as "elephant flows".
   Directing an elephant flow
   down a low-bandwidth link might congest the link and cause other 
   critical application traffic flowing on the link to drop. Thus, in the
   context of Flex-Algorithm, it would be useful to be able to
   constrain the topology to only those links capable of supporting a
      minimum amount of bandwidth.<a href="#section-3-1" class="pilcrow">¶</a></p>
<p id="section-3-2">If the capacity of a low bandwidth link is constant, constraining the topology to avoid those links can already be achieved
   through the use of administrative groups. However, when a Layer 3
   link is actually a collection of Layer 2 links (Link Aggregation Group (LAG) / Layer 2
   Bundle), the link bandwidth will vary based on the set of active
   constituent links. This could be automated by having an
   implementation vary the advertised administrative groups based on
   bandwidth, but this seems unnecessarily complex and expressing this
   requirement as a direct constraint on the topology seems
   simpler. This is also advantageous if the minimum required
   bandwidth changes, as this constraint would provide a single
   centralized, coordinated point of control.<a href="#section-3-2" class="pilcrow">¶</a></p>
<p id="section-3-3">To satisfy this requirement, this document defines an
   Exclude Minimum Bandwidth
   constraint.  When this constraint is advertised in a FAD,
   a link will be pruned from the Flex-Algorithm topology if the
   link's advertised maximum link bandwidth value is below the FAD advertised
   minimum bandwidth value.<a href="#section-3-3" class="pilcrow">¶</a></p>
<p id="section-3-4">Similarly, this document defines an Exclude Maximum Link Delay
   constraint. Applications, such as High-Frequency Trading are sensitive 
   to link delays and may perform poorly in networks prone to delay
   variability, such as those with transparent Layer 2 link 
   recovery mechanisms or satellite links.
   Mechanisms already exist to measure the link delay dynamically and
   advertise it in the IGP.  Networks that employ dynamic link-delay
   measurement, may want to exclude links that have a delay over a
   given threshold.<a href="#section-3-4" class="pilcrow">¶</a></p>
<div id="sec_isis">
<section id="section-3.1">
        <h3 id="name-is-is-fad-constraint-sub-tl">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-is-is-fad-constraint-sub-tl" class="section-name selfRef">IS-IS FAD Constraint Sub-TLVs</a>
        </h3>
<div id="sec_isis_bw_exclusion">
<section id="section-3.1.1">
          <h4 id="name-is-is-exclude-minimum-bandw">
<a href="#section-3.1.1" class="section-number selfRef">3.1.1. </a><a href="#name-is-is-exclude-minimum-bandw" class="section-name selfRef">IS-IS Exclude Minimum Bandwidth Sub-TLV</a>
          </h4>
<p id="section-3.1.1-1">

IS-IS Flex-Algorithm Exclude Minimum Bandwidth (FAEMB) sub-TLV  is a
sub-TLV of the IS-IS FAD sub-TLV. It has the following format:<a href="#section-3.1.1-1" class="pilcrow">¶</a></p>
<span id="name-is-is-faemb-sub-tlv"></span><div id="isis_faemb_sub_tlv">
<figure id="figure-3">
            <div class="alignLeft art-text artwork" id="section-3.1.1-2.1">
<pre>
    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |      Type     |    Length     |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                     Min Bandwidth                             |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a>:
<a href="#name-is-is-faemb-sub-tlv" class="selfRef">IS-IS FAEMB Sub-TLV</a>
            </figcaption></figure>
</div>
<p id="section-3.1.1-3">where:<a href="#section-3.1.1-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-3.1.1-4">
            <dt id="section-3.1.1-4.1">Type (1 octet):</dt>
            <dd style="margin-left: 1.5em" id="section-3.1.1-4.2">An 8-bit field assigned by IANA (6).  This value
  uniquely identifies the FAEMB sub-TLV.<a href="#section-3.1.1-4.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-3.1.1-4.3">Length (1 octet):</dt>
            <dd style="margin-left: 1.5em" id="section-3.1.1-4.4">An 8-bit field indicating the total length, in octets, of the subsequent
  fields. For this sub-TLV, the Length is set to 4.<a href="#section-3.1.1-4.4" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-3.1.1-4.5">Min Bandwidth (4 octets):</dt>
            <dd style="margin-left: 1.5em" id="section-3.1.1-4.6">A 32-bit field specifying the link bandwidth encoded in IEEE floating
  point format (32 bits) <span>[<a href="#IEEE754-2019" class="cite xref">IEEE754-2019</a>]</span>.  The units are bytes per second.<a href="#section-3.1.1-4.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-3.1.1-5">The FAEMB sub-TLV <span class="bcp14">MUST</span> appear once at most in the FAD sub-TLV.
    If it appears more than once, the IS-IS FAD sub-TLV <span class="bcp14">MUST</span> be
   ignored by the receiver.<a href="#section-3.1.1-5" class="pilcrow">¶</a></p>
<p id="section-3.1.1-6">The minimum bandwidth value advertised in the FAEMB sub-TLV <span class="bcp14">MUST</span> be compared with
   maximum link bandwidth value advertised in sub-sub-TLV 9 of the ASLA sub-TLV <span>[<a href="#RFC9479" class="cite xref">RFC9479</a>]</span>.
   If the L-flag is set in the ASLA sub-TLV, the minimum bandwidth value advertised in the FAEMB
   sub-TLV <span class="bcp14">MUST</span> be compared with the maximum link bandwidth value as
   advertised in the sub-TLV 9 of the TLVs
   22/222/23/223/141 <span>[<a href="#RFC5305" class="cite xref">RFC5305</a>]</span>, as defined in <span><a href="https://rfc-editor.org/rfc/rfc9479#section-4.2" class="relref">Section 4.2</a> of [<a href="#RFC9479" class="cite xref">RFC9479</a>]</span>.<a href="#section-3.1.1-6" class="pilcrow">¶</a></p>
<p id="section-3.1.1-7">If the maximum link bandwidth value is lower than the minimum
   link bandwidth value advertised in the FAEMB sub-TLV,
   the link <span class="bcp14">MUST</span> be excluded from the Flex-Algorithm topology.

  If a link does not have the Maximum Link Bandwidth advertised but the
  FAD contains the FAEMB sub-TLV, then that link
   <span class="bcp14">MUST NOT</span> be excluded from the topology based on the Minimum
   Bandwidth constraint.<a href="#section-3.1.1-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec_isis_delay_exclusion">
<section id="section-3.1.2">
          <h4 id="name-is-is-exclude-maximum-delay">
<a href="#section-3.1.2" class="section-number selfRef">3.1.2. </a><a href="#name-is-is-exclude-maximum-delay" class="section-name selfRef">IS-IS Exclude Maximum Delay Sub-TLV</a>
          </h4>
<p id="section-3.1.2-1">

IS-IS Flex-Algorithm Exclude Maximum Delay (FAEMD) sub-TLV is a
sub-TLV of the IS-IS FAD sub-TLV. It has the following format:<a href="#section-3.1.2-1" class="pilcrow">¶</a></p>
<span id="name-is-is-faemd-sub-tlv"></span><div id="isis_faemd_sub_tlv">
<figure id="figure-4">
            <div class="alignLeft art-text artwork" id="section-3.1.2-2.1">
<pre>
    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |      Type     |    Length     |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                     Max Link Delay            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-4" class="selfRef">Figure 4</a>:
<a href="#name-is-is-faemd-sub-tlv" class="selfRef">IS-IS FAEMD Sub-TLV</a>
            </figcaption></figure>
</div>
<p id="section-3.1.2-3">where:<a href="#section-3.1.2-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-3.1.2-4">
            <dt id="section-3.1.2-4.1">Type (1 octet):</dt>
            <dd style="margin-left: 1.5em" id="section-3.1.2-4.2">An 8-bit field assigned by IANA (7).  This value
  uniquely identifies the FAEMD sub-TLV.<a href="#section-3.1.2-4.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-3.1.2-4.3">Length (1 octet):</dt>
            <dd style="margin-left: 1.5em" id="section-3.1.2-4.4">An 8-bit field indicating the total length, in octets, of the subsequent
  fields. For this sub-TLV, the Length is set to 3.<a href="#section-3.1.2-4.4" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-3.1.2-4.5">Max Link Delay (3 octets):</dt>
            <dd style="margin-left: 1.5em" id="section-3.1.2-4.6">A 24-bit field specifying the Maximum link delay in microseconds.<a href="#section-3.1.2-4.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-3.1.2-5">The FAEMD sub-TLV <span class="bcp14">MUST</span> appear only once in the FAD sub-TLV.
If it appears more than once, the IS-IS FAD sub-TLV <span class="bcp14">MUST</span> be
ignored by the receiver.<a href="#section-3.1.2-5" class="pilcrow">¶</a></p>
<p id="section-3.1.2-6">The maximum link delay value advertised in the FAEMD sub-TLV <span class="bcp14">MUST</span> be compared with
   Min Unidirectional Link Delay advertised in sub-sub-TLV 34 of the ASLA sub-TLV <span>[<a href="#RFC9479" class="cite xref">RFC9479</a>]</span>.
   If the L-flag is set in the ASLA sub-TLV, the maximum link delay value advertised in the FAEMD
   sub-TLV <span class="bcp14">MUST</span> be compared with Min Unidirectional Link Delay as
   advertised by the sub-TLV 34 of the TLVs
   22/222/23/223/141 <span>[<a href="#RFC8570" class="cite xref">RFC8570</a>]</span>, as defined in <span><a href="https://rfc-editor.org/rfc/rfc9479#section-4.2" class="relref">Section 4.2</a> of [<a href="#RFC9479" class="cite xref">RFC9479</a>]</span>.<a href="#section-3.1.2-6" class="pilcrow">¶</a></p>
<p id="section-3.1.2-7">If the  Min Unidirectional Link Delay value is higher than the
   Maximum Link Delay advertised in the FAEMD sub-TLV, the link <span class="bcp14">MUST</span> be
   excluded from the Flex-Algorithm topology.

If a link does not have the Min Unidirectional Link Delay advertised but
the FAD contains the FAEMD sub-TLV, then that link <span class="bcp14">MUST NOT</span> be
   excluded from the topology based on the Maximum Delay constraint.<a href="#section-3.1.2-7" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="sec_ospf">
<section id="section-3.2">
        <h3 id="name-ospf-fad-constraint-sub-tlv">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-ospf-fad-constraint-sub-tlv" class="section-name selfRef">OSPF FAD Constraint Sub-TLVs</a>
        </h3>
<div id="sec_ospf_bw_exclusion">
<section id="section-3.2.1">
          <h4 id="name-ospf-exclude-minimum-bandwi">
<a href="#section-3.2.1" class="section-number selfRef">3.2.1. </a><a href="#name-ospf-exclude-minimum-bandwi" class="section-name selfRef">OSPF Exclude Minimum Bandwidth Sub-TLV</a>
          </h4>
<p id="section-3.2.1-1">

OSPF Flex-Algorithm Exclude Minimum Bandwidth (FAEMB) sub-TLV is a
sub-TLV of the OSPF FAD TLV. It has the following format:<a href="#section-3.2.1-1" class="pilcrow">¶</a></p>
<span id="name-ospf-faemb-sub-tlv"></span><div id="ospf_faemb_sub_tlv">
<figure id="figure-5">
            <div class="alignLeft art-text artwork" id="section-3.2.1-2.1">
<pre>
    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |      Type                     |    Length                     |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                     Min Bandwidth                             |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-5" class="selfRef">Figure 5</a>:
<a href="#name-ospf-faemb-sub-tlv" class="selfRef">OSPF FAEMB Sub-TLV</a>
            </figcaption></figure>
</div>
<p id="section-3.2.1-3">where:<a href="#section-3.2.1-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-3.2.1-4">
            <dt id="section-3.2.1-4.1">Type (2 octets):</dt>
            <dd style="margin-left: 1.5em" id="section-3.2.1-4.2">A 16-bit field assigned by IANA (6).  This value
  uniquely identifies the OSPF FAEMB sub-TLV.<a href="#section-3.2.1-4.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-3.2.1-4.3">Length (2 octets):</dt>
            <dd style="margin-left: 1.5em" id="section-3.2.1-4.4">A 16-bit field indicating the total length, in octets, of the subsequent
  fields. For this sub-TLV, the Length is set to 4.<a href="#section-3.2.1-4.4" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-3.2.1-4.5">Min Bandwidth (4 octets):</dt>
            <dd style="margin-left: 1.5em" id="section-3.2.1-4.6">A 32-bit field specifying the link bandwidth encoded in IEEE floating
  point format (32 bits)<span>[<a href="#IEEE754-2019" class="cite xref">IEEE754-2019</a>]</span>.  The units are bytes per second.<a href="#section-3.2.1-4.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-3.2.1-5">The FAEMB sub-TLV <span class="bcp14">MUST</span> only appear once in the FAD sub-TLV.
    If it appears more than once, the OSPF FAD TLV <span class="bcp14">MUST</span> be
    ignored by the receiver.<a href="#section-3.2.1-5" class="pilcrow">¶</a></p>
<p id="section-3.2.1-6">The Maximum Link Bandwidth as advertised in the Extended Link TLV
   in the Extended Link Opaque LSA in OSPFv2 <span>[<a href="#RFC7684" class="cite xref">RFC7684</a>]</span>
   or as a sub-TLV
   of the Router-Link TLV of the E-Router-LSA Router-Link TLV in 
   OSPFv3 <span>[<a href="#RFC8362" class="cite xref">RFC8362</a>]</span> <span class="bcp14">MUST</span> be  compared against
   the Minimum Bandwidth advertised in the FAEMB sub-TLV.
   If the link bandwidth value is lower than the Minimum Bandwidth 
   advertised in the FAEMB sub-TLV, the link <span class="bcp14">MUST</span> be excluded 
   from the Flex-Algorithm topology.<a href="#section-3.2.1-6" class="pilcrow">¶</a></p>
<p id="section-3.2.1-7">If a link does not have the Maximum Link Bandwidth advertised
   but the FAD contains the FAEMB sub-TLV, then that link <span class="bcp14">MUST</span> be included in the
   topology and proceed to apply further pruning rules for the link.<a href="#section-3.2.1-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec_ospf_delay_exclusion">
<section id="section-3.2.2">
          <h4 id="name-ospf-exclude-maximum-delay-">
<a href="#section-3.2.2" class="section-number selfRef">3.2.2. </a><a href="#name-ospf-exclude-maximum-delay-" class="section-name selfRef">OSPF Exclude Maximum Delay Sub-TLV</a>
          </h4>
<p id="section-3.2.2-1">

The OSPF Flex-Algorithm Exclude Maximum Delay (FAEMD) sub-TLV is a
sub-TLV of the OSPF FAD TLV. It has the following format.<a href="#section-3.2.2-1" class="pilcrow">¶</a></p>
<span id="name-ospf-faemd-sub-tlv"></span><div id="ospf_faemd_sub_tlv">
<figure id="figure-6">
            <div class="alignLeft art-text artwork" id="section-3.2.2-2.1">
<pre>
    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |      Type                     |    Length                     |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  RESERVED     |                     Max Link Delay            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-6" class="selfRef">Figure 6</a>:
<a href="#name-ospf-faemd-sub-tlv" class="selfRef">OSPF FAEMD Sub-TLV</a>
            </figcaption></figure>
</div>
<p id="section-3.2.2-3">where:<a href="#section-3.2.2-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-3.2.2-4">
            <dt id="section-3.2.2-4.1">Type (2 octets):</dt>
            <dd style="margin-left: 1.5em" id="section-3.2.2-4.2">A 16-bit field assigned by IANA (7).  This value
  uniquely identifies the OSPF FAEMD sub-TLV.<a href="#section-3.2.2-4.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-3.2.2-4.3">Length (2 octets):</dt>
            <dd style="margin-left: 1.5em" id="section-3.2.2-4.4">A 16-bit field indicating the total length, in octets, of the subsequent
  fields. For this sub-TLV, the Length is set to 4.<a href="#section-3.2.2-4.4" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-3.2.2-4.5">Reserved (1 octet):</dt>
            <dd style="margin-left: 1.5em" id="section-3.2.2-4.6">
              <span class="bcp14">MUST</span> be set to zero by the sender and <span class="bcp14">MUST</span> be ignored by the receiver.<a href="#section-3.2.2-4.6" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-3.2.2-4.7">Max Link Delay (3 octets):</dt>
            <dd style="margin-left: 1.5em" id="section-3.2.2-4.8">A 24-bit field specifying the Maximum link delay in microseconds.<a href="#section-3.2.2-4.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-3.2.2-5"> The FAEMD sub-TLV <span class="bcp14">MUST</span> only appear once in the OSPF FAD TLV.
    If it appears more than once, the OSPF FAD TLV <span class="bcp14">MUST</span> be
   ignored by the receiver.<a href="#section-3.2.2-5" class="pilcrow">¶</a></p>
<p id="section-3.2.2-6">The Min Delay value advertised via the Min/Max Unidirectional Link Delay 
    of the ASLA sub-TLV <span>[<a href="#RFC9492" class="cite xref">RFC9492</a>]</span> <span class="bcp14">MUST</span> be compared against the Maximum Delay
    advertised in the FAEMD sub-TLV. If the Min Unidirectional Link Delay is higher
    than the Maximum Delay advertised in the FAEMD sub-TLV, the link <span class="bcp14">MUST</span> be
    excluded from the Flex-Algorithm topology. If the
    Min/Max Unidirectional Link Delay is not advertised for a link but 
 the FAD contains this sub-TLV, then that link <span class="bcp14">MUST NOT</span> be
   excluded from the topology based on the Maximum Delay constraint.<a href="#section-3.2.2-6" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="sec_bw_metric">
<section id="section-4">
      <h2 id="name-bandwidth-metric-advertisem">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-bandwidth-metric-advertisem" class="section-name selfRef">Bandwidth Metric Advertisement</a>
      </h2>
<p id="section-4-1">
   Historically, IGP implementations have made default metric
   assignments based on link bandwidth. This has proven to be useful
   but has suffered from having different defaults across
   implementations and from the rapid growth of link bandwidths. With
   Flex-Algorithm, the network administrator can define a function
   that will produce a metric for each link and have each node
   automatically compute each link's metric based on its bandwidth.<a href="#section-4-1" class="pilcrow">¶</a></p>
<p id="section-4-2">This document defines a standard metric-type for this purpose
   called the "Bandwidth Metric".  The Bandwidth Metric <span class="bcp14">MAY</span> be
   advertised in the Generic Metric sub-TLV with the metric-type set
   to "Bandwidth Metric".  IS-IS and OSPF will advertise this type
   of metric in their link advertisements. The Bandwidth Metric is a link
   attribute, and it <span class="bcp14">MUST</span> follow <span><a href="https://rfc-editor.org/rfc/rfc9350#section-12" class="relref">Section 12</a> of [<a href="#RFC9350" class="cite xref">RFC9350</a>]</span> for its advertisement and processing during Flex-Algorithm calculation.<a href="#section-4-2" class="pilcrow">¶</a></p>
<p id="section-4-3"> Flex-Algorithm uses this
   metric-type by specifying the bandwidth metric as the metric-type
   in a FAD TLV. A FAD TLV may also specify an automatic computation
   of the bandwidth metric based on a link's advertised bandwidth. An
   explicit advertisement of a link's bandwidth metric using the
   Generic Metric sub-TLV overrides this automatic computation.
   The automatic Bandwidth metric calculation sub-TLVs are advertised
   in the FAD TLV, and these parameters are applicable to applications
   such as Flex-Algorithm that make use of the FAD TLV.<a href="#section-4-3" class="pilcrow">¶</a></p>
<div id="sec_auto_metric">
<section id="section-4.1">
        <h3 id="name-automatic-metric-calculatio">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-automatic-metric-calculatio" class="section-name selfRef">Automatic Metric Calculation</a>
        </h3>
<p id="section-4.1-1"> Networks that are designed to be highly regular and that follow uniform
   metric assignment may want to simplify their operations by
   automatically calculating the bandwidth metric. When
   a FAD advertises the metric-type as Bandwidth Metric and the link does
   not have the Bandwidth Metric advertised, automatic metric derivation
   can be used with additional FAD constraint advertisement as
   described in this section.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1-2"> If a link's bandwidth changes, then the delay in learning about the
   change may create the possibility of micro-loops in the
   topology. This is no different from the IGP's susceptibility to
   micro-loops during a metric change.  The micro-loop avoidance
   procedures described in <span>[<a href="#I-D.bashandy-rtgwg-segment-routing-uloop" class="cite xref">SR-LOOP-AVOID</a>]</span>
   or any other mechanism as described in the framework <span>[<a href="#RFC5715" class="cite xref">RFC5715</a>]</span>
   can be used to avoid micro-loops when the automatic metric
   calculation is deployed.<a href="#section-4.1-2" class="pilcrow">¶</a></p>
<p id="section-4.1-3"> Computing the metric between adjacent systems based on bandwidth
   becomes more complex in the case of parallel adjacencies. If there
   are parallel adjacencies between systems, then the bandwidth
   between the systems is the sum of the bandwidth of the parallel
   links. This is somewhat more complex to deal with, so there is an
   optional mode for computing the aggregate bandwidth.<a href="#section-4.1-3" class="pilcrow">¶</a></p>
<div id="sec_auto_metric_mode">
<section id="section-4.1.1">
          <h4 id="name-automatic-metric-calculation">
<a href="#section-4.1.1" class="section-number selfRef">4.1.1. </a><a href="#name-automatic-metric-calculation" class="section-name selfRef">Automatic Metric Calculation Modes</a>
          </h4>
<div id="sec_simple">
<section id="section-4.1.1.1">
            <h5 id="name-simple-mode">
<a href="#section-4.1.1.1" class="section-number selfRef">4.1.1.1. </a><a href="#name-simple-mode" class="section-name selfRef">Simple Mode</a>
            </h5>
<p id="section-4.1.1.1-1"> In Simple Mode, the Maximum Link Bandwidth of a single Layer 3 link
   is used to derive the metric.  This mode is suitable for
   deployments that do not use parallel Layer 3 links. In this case,
   the computation of the metric is straightforward.

   If a Layer 3 link is composed of a Layer 2 bundle, then the link
   bandwidth is the sum of the bandwidths of the working components
   and may vary with Layer 2 link failures.<a href="#section-4.1.1.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec_intf_grp">
<section id="section-4.1.1.2">
            <h5 id="name-interface-group-mode">
<a href="#section-4.1.1.2" class="section-number selfRef">4.1.1.2. </a><a href="#name-interface-group-mode" class="section-name selfRef">Interface Group Mode</a>
            </h5>
<p id="section-4.1.1.2-1"> The Simple Mode of metric calculation may not work well when there
   are multiple parallel Layer 3 interfaces between two nodes.
   Ideally, the metric between two systems should be the same given
   the same bandwidth, whether the bandwidth is provided by parallel
   Layer 2 links or parallel Layer 3 links. To address this, in
   Interface Group Mode, nodes <span class="bcp14">MUST</span> compute the aggregate bandwidth of
   all parallel adjacencies, <span class="bcp14">MUST</span> derive the metric based on the
   aggregate bandwidth, and <span class="bcp14">MUST</span> apply the resulting metric to each of
   the parallel adjacencies. Note that a single elephant flow is normally
   pinned to a single Layer 3 interface. If the single Layer 3 link
   bandwidth is not sufficient for any single elephant flow, the mechanisms
   to solve this issue are outside the scope of this document.<a href="#section-4.1.1.2-1" class="pilcrow">¶</a></p>
<span id="name-parallel-interfaces"></span><div id="interface_grp">
<figure id="figure-7">
              <div class="alignLeft art-text artwork" id="section-4.1.1.2-2.1">
<pre>
        A------B====C====F====D
               |              |
                ------E-------
</pre>
</div>
<figcaption><a href="#figure-7" class="selfRef">Figure 7</a>:
<a href="#name-parallel-interfaces" class="selfRef">Parallel Interfaces</a>
              </figcaption></figure>
</div>
<p id="section-4.1.1.2-3">
   For example, in the above diagram, there are two parallel links
   between B-&gt;C, C-&gt;F, F-&gt;D.  Let us assume the link bandwidth is
   uniform 10 Gbps on all links. When bandwidth is used to derive the metric 
   for the links, the metric for each link will be
   the same. Traffic from B to D will be forwarded as B-&gt;E-&gt;D because
   the metric will be lower.  Since the
   bandwidth is higher on the B‑&gt;C-&gt;F-&gt;D path, the metric for that
   path should be lower than the B-&gt;E-&gt;D path to attract the traffic on
   the B-&gt;C-&gt;F-&gt;D path.  Interface
   Group Mode should be preferred in cases where there are parallel Layer 3
   links.<a href="#section-4.1.1.2-3" class="pilcrow">¶</a></p>
<p id="section-4.1.1.2-4">
    In the Interface Group Mode, every node  <span class="bcp14">MUST</span>
    identify the set of parallel links between a pair
    of nodes based on IGP link advertisements
    and <span class="bcp14">MUST</span> consider cumulative bandwidth of the
    parallel links while arriving at the metric of each link.<a href="#section-4.1.1.2-4" class="pilcrow">¶</a></p>
<p id="section-4.1.1.2-5">The parallel Layer 3 links between two nodes may not have the 
    same bandwidth. In such cases, the method described in Interface Group Mode will
    result in the same metric being used for all the parallel links, which may cause
    undesired load balancing on the links. In such cases, a device may locally
    apply a load-balancing factor relative to the link bandwidth on the ECMP next hops.
    The load-balancing mechanisms are outside the scope of this document.<a href="#section-4.1.1.2-5" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="sec_auto_metric_methods">
<section id="section-4.1.2">
          <h4 id="name-automatic-metric-calculation-">
<a href="#section-4.1.2" class="section-number selfRef">4.1.2. </a><a href="#name-automatic-metric-calculation-" class="section-name selfRef">Automatic Metric Calculation Methods</a>
          </h4>
<p id="section-4.1.2-1">
In automatic metric calculation for simple and Interface Group Mode,
Maximum Link Bandwidth of the links is used to derive the metric. 
There are two types of automatic metric derivation methods.<a href="#section-4.1.2-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-4.1.2-2">
            <li id="section-4.1.2-2.1">Reference bandwidth method<a href="#section-4.1.2-2.1" class="pilcrow">¶</a>
</li>
            <li id="section-4.1.2-2.2">Bandwidth thresholds method<a href="#section-4.1.2-2.2" class="pilcrow">¶</a>
</li>
          </ol>
<div id="sec_ref_bw_method">
<section id="section-4.1.2.1">
            <h5 id="name-reference-bandwidth-method">
<a href="#section-4.1.2.1" class="section-number selfRef">4.1.2.1. </a><a href="#name-reference-bandwidth-method" class="section-name selfRef">Reference Bandwidth Method</a>
            </h5>
<p id="section-4.1.2.1-1">In many networks, the metric is inversely proportional to the link
   bandwidth.  The administrator or implementation selects a reference
   bandwidth and the metric is derived by dividing the reference
   bandwidth by the advertised Maximum Link Bandwidth.  Advertising
   the reference bandwidth in the FAD constraints allows the metric
   computation to be done on every node for each link.
   The metric is computed using reference bandwidth and the advertised link bandwidth.
   Centralized control of this
   reference bandwidth simplifies management in the case where the
   reference bandwidth changes. In order to ensure that small
   bandwidth changes do not change the link metric, it is useful to
   define the granularity of the bandwidth that is of interest.  The
   link bandwidth will be truncated to this granularity before
   deriving the metric.<a href="#section-4.1.2.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1.2.1-2">For example,<a href="#section-4.1.2.1-2" class="pilcrow">¶</a></p>
<p style="margin-left: 1.5em" id="section-4.1.2.1-3">reference bandwidth = 1000G<a href="#section-4.1.2.1-3" class="pilcrow">¶</a></p>
<p style="margin-left: 1.5em" id="section-4.1.2.1-4">Granularity = 20G<a href="#section-4.1.2.1-4" class="pilcrow">¶</a></p>
<p style="margin-left: 1.5em" id="section-4.1.2.1-5">The derived metric is 10 for link bandwidth in the range 100G to 119G<a href="#section-4.1.2.1-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec_bw_threshold_method">
<section id="section-4.1.2.2">
            <h5 id="name-bandwidth-thresholds-method">
<a href="#section-4.1.2.2" class="section-number selfRef">4.1.2.2. </a><a href="#name-bandwidth-thresholds-method" class="section-name selfRef">Bandwidth Thresholds Method</a>
            </h5>
<p id="section-4.1.2.2-1"> The reference bandwidth approach described above provides a uniform
   metric value for a range of link bandwidths.  In certain cases,
   there may be a need to define non-proportional metric values for
   the varying ranges of link bandwidth.  For example, bandwidths from
   10G to 30G are assigned metric value 100, bandwidth from 30G to 70G
   are assigned a metric value of 50, and bandwidths greater than 70G have a
   metric of 10.  In order to support this, a staircase mapping based
   on bandwidth thresholds is supported in the FAD.  This
   advertisement contains a set of threshold values and associated
   metrics.<a href="#section-4.1.2.2-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="sec_auto_isis">
<section id="section-4.1.3">
          <h4 id="name-is-is-fad-constraint-sub-tlv">
<a href="#section-4.1.3" class="section-number selfRef">4.1.3. </a><a href="#name-is-is-fad-constraint-sub-tlv" class="section-name selfRef">IS-IS FAD Constraint Sub-TLVs for Automatic Metric Calculation</a>
          </h4>
<div id="sec_isis_auto_ref_bw">
<section id="section-4.1.3.1">
            <h5 id="name-reference-bandwidth-sub-tlv">
<a href="#section-4.1.3.1" class="section-number selfRef">4.1.3.1. </a><a href="#name-reference-bandwidth-sub-tlv" class="section-name selfRef">Reference Bandwidth Sub-TLV</a>
            </h5>
<p id="section-4.1.3.1-1">
This section provides FAD constraint advertisement details for the
reference bandwidth method of metric calculation, as described in
 <a href="#sec_ref_bw_method" class="auto internal xref">Section 4.1.2.1</a>.

The Flexible Algorithm Definition Reference Bandwidth (FADRB) sub-TLV is
a sub-TLV of the IS-IS FAD sub-TLV. It has the following format:<a href="#section-4.1.3.1-1" class="pilcrow">¶</a></p>
<span id="name-is-is-fadrb-sub-tlv"></span><div id="isis_fadrb_sub_tlv">
<figure id="figure-8">
              <div class="alignLeft art-text artwork" id="section-4.1.3.1-2.1">
<pre>
    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |      Type     |    Length     |     Flags     |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                      Reference Bandwidth                      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                      Granularity Bandwidth                    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-8" class="selfRef">Figure 8</a>:
<a href="#name-is-is-fadrb-sub-tlv" class="selfRef">IS-IS FADRB Sub-TLV</a>
              </figcaption></figure>
</div>
<p id="section-4.1.3.1-3">where:<a href="#section-4.1.3.1-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-4.1.3.1-4">
              <dt id="section-4.1.3.1-4.1">Type (1 octet):</dt>
              <dd style="margin-left: 1.5em" id="section-4.1.3.1-4.2">An 8-bit field assigned by IANA (8).  This value
  uniquely identifies the IS-IS FADRB sub-TLV.<a href="#section-4.1.3.1-4.2" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-4.1.3.1-4.3">Length (1 octet):</dt>
              <dd style="margin-left: 1.5em" id="section-4.1.3.1-4.4">An 8-bit field indicating the total length, in octets, of the subsequent
  fields. For this sub-TLV, the Length is set to 9.<a href="#section-4.1.3.1-4.4" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-4.1.3.1-4.5">Flags (1 octet):</dt>
              <dd style="margin-left: 1.5em" id="section-4.1.3.1-4.6">
                <p id="section-4.1.3.1-4.6.1">An 8-bit field containing flags.<a href="#section-4.1.3.1-4.6.1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.1.3.1-4.6.2">
<pre>
                 0 1 2 3 4 5 6 7
                +-+-+-+-+-+-+-+-+
                |G|             |
                +-+-+-+-+-+-+-+-+
</pre><a href="#section-4.1.3.1-4.6.2" class="pilcrow">¶</a>
</div>
</dd>
              <dd class="break"></dd>
<dt id="section-4.1.3.1-4.7">G-flag:</dt>
              <dd style="margin-left: 1.5em" id="section-4.1.3.1-4.8">When set, Interface Group Mode <span class="bcp14">MUST</span> be used to derive
  total link bandwidth.  Unassigned bits <span class="bcp14">MUST</span> be set to
  zero and <span class="bcp14">MUST</span> be ignored by the receiver.<a href="#section-4.1.3.1-4.8" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-4.1.3.1-4.9">Reference Bandwidth (4 octets):</dt>
              <dd style="margin-left: 1.5em" id="section-4.1.3.1-4.10">A 32-bit field with Bandwidth encoded in IEEE floating point format
  <span>[<a href="#IEEE754-2019" class="cite xref">IEEE754-2019</a>]</span>.  The units are bytes per second.<a href="#section-4.1.3.1-4.10" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-4.1.3.1-4.11">Granularity Bandwidth (4 octets):</dt>
              <dd style="margin-left: 1.5em" id="section-4.1.3.1-4.12">A 32-bit field with Bandwidth encoded in IEEE floating point format
  <span>[<a href="#IEEE754-2019" class="cite xref">IEEE754-2019</a>]</span>.  The units are bytes per second.<a href="#section-4.1.3.1-4.12" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
</dl>
<p id="section-4.1.3.1-5">When granularity_bw is less than or equal to Total_link_bandwidth, then:<a href="#section-4.1.3.1-5" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-4.1.3.1-6">
              <dt id="section-4.1.3.1-6.1">Metric calculation:</dt>
              <dd style="margin-left: 1.5em" id="section-4.1.3.1-6.2">(Reference_bandwidth) / (Total_link_bandwidth - (Modulus of(Total_link_bandwidth, granularity_bw)))<a href="#section-4.1.3.1-6.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
</dl>
<p id="section-4.1.3.1-7">When granularity_bw is greater than Total_link_bandwidth, then:<a href="#section-4.1.3.1-7" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-4.1.3.1-8">
              <dt id="section-4.1.3.1-8.1">Metric calculation:</dt>
              <dd style="margin-left: 1.5em" id="section-4.1.3.1-8.2">Reference_bandwidth / Total_link_bandwidth<a href="#section-4.1.3.1-8.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
</dl>
<p id="section-4.1.3.1-9">The division used here is integer division.  Modulus of operation is
defined as a remainder value when two numbers are divided.<a href="#section-4.1.3.1-9" class="pilcrow">¶</a></p>
<p id="section-4.1.3.1-10">   The Granularity Bandwidth value ensures that the metric
         does not change when there is a small
         change in the link bandwidth.
   The IS-IS FADRB sub-TLV <span class="bcp14">MUST NOT</span> appear more than once in an IS-IS FAD
   sub-TLV.  If it appears more than once, the IS-IS FAD sub-TLV <span class="bcp14">MUST</span> be ignored
   by the receiver. The value advertised in the Reference Bandwidth field <span class="bcp14">MUST</span> be non-zero.
   If a zero value is advertised in the Reference Bandwidth field in the IS-IS FADRB sub-TLV,
   the sub-TLV <span class="bcp14">MUST</span> be ignored.<a href="#section-4.1.3.1-10" class="pilcrow">¶</a></p>
<p id="section-4.1.3.1-11">If a Generic Metric sub-TLV with a Bandwidth metric-type
   is advertised for a link,
   the Flex-Algorithm calculation <span class="bcp14">MUST</span> use the advertised Bandwidth Metric
   and <span class="bcp14">MUST NOT</span> use the automatically derived metric for that link.<a href="#section-4.1.3.1-11" class="pilcrow">¶</a></p>
<p id="section-4.1.3.1-12">
  In case of Interface Group Mode, the following rules apply to parallel links:<a href="#section-4.1.3.1-12" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.1.3.1-13.1">
                <p id="section-4.1.3.1-13.1.1">If all the parallel links have been advertised with the Bandwidth Metric:<a href="#section-4.1.3.1-13.1.1" class="pilcrow">¶</a></p>
<p id="section-4.1.3.1-13.1.2">The individual link Bandwidth Metric <span class="bcp14">MUST</span> be used.<a href="#section-4.1.3.1-13.1.2" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-4.1.3.1-13.2">
                <p id="section-4.1.3.1-13.2.1">If only some links among the parallel links have advertised the Bandwidth 
  Metric:<a href="#section-4.1.3.1-13.2.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.1.3.1-13.2.2.1">The Bandwidth Metric for such links <span class="bcp14">MUST</span> be ignored.<a href="#section-4.1.3.1-13.2.2.1" class="pilcrow">¶</a>
</li>
                  <li class="normal" id="section-4.1.3.1-13.2.2.2">Automatic metric calculation <span class="bcp14">MUST</span> be used to derive the link metric.<a href="#section-4.1.3.1-13.2.2.2" class="pilcrow">¶</a>
</li>
                </ul>
</li>
            </ul>
<p id="section-4.1.3.1-14">If the calculated metric evaluates to zero, a metric of 1 <span class="bcp14">MUST</span> be used.<a href="#section-4.1.3.1-14" class="pilcrow">¶</a></p>
<p id="section-4.1.3.1-15"> If the calculated metric evaluates to a number greater than 0xFFFFFF, 
   it is set to 0xFFFFFF.<a href="#section-4.1.3.1-15" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec_isis_threshold_metric">
<section id="section-4.1.3.2">
            <h5 id="name-bandwidth-threshold-sub-tlv">
<a href="#section-4.1.3.2" class="section-number selfRef">4.1.3.2. </a><a href="#name-bandwidth-threshold-sub-tlv" class="section-name selfRef">Bandwidth Threshold Sub-TLV</a>
            </h5>
<p id="section-4.1.3.2-1">
This section provides FAD constraint advertisement details for the
Bandwidth Thresholds method of metric calculation as
described in <a href="#sec_bw_threshold_method" class="auto internal xref">Section 4.1.2.2</a>.
The Flexible Algorithm Definition Bandwidth Threshold (FADBT) sub-TLV is
a sub-TLV of the IS-IS FAD sub-TLV. It has the following format:<a href="#section-4.1.3.2-1" class="pilcrow">¶</a></p>
<span id="name-is-is-fadbt-sub-tlv"></span><div id="isis_fadbt_sub_tlv">
<figure id="figure-9">
              <div class="alignLeft art-text artwork" id="section-4.1.3.2-2.1">
<pre>
    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |      Type     |    Length     |       Flags   |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                     Bandwidth Threshold 1                     |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                     Threshold Metric 1        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                     Bandwidth Threshold 2                     |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                     Threshold Metric 2        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                     Bandwidth Threshold 3                     |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                                  .....
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                     Threshold Metric N-1      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                     Bandwidth Threshold N                     |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                     Threshold Metric N        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-9" class="selfRef">Figure 9</a>:
<a href="#name-is-is-fadbt-sub-tlv" class="selfRef">IS-IS FADBT Sub-TLV</a>
              </figcaption></figure>
</div>
<p id="section-4.1.3.2-3">where:<a href="#section-4.1.3.2-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-4.1.3.2-4">
              <dt id="section-4.1.3.2-4.1">Type (1 octet):</dt>
              <dd style="margin-left: 1.5em" id="section-4.1.3.2-4.2"> An 8-bit field assigned by IANA (9).  This value
  uniquely identifies the IS-IS FADBT sub-TLV.<a href="#section-4.1.3.2-4.2" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-4.1.3.2-4.3">Length (1 octet):</dt>
              <dd style="margin-left: 1.5em" id="section-4.1.3.2-4.4">An 8-bit field indicating the total length, in octets, of the subsequent
  fields. For this sub-TLV, the Length is calculated as (1+N*7). Here, N is
  equal to the number of Threshold Metrics specified.  N <span class="bcp14">MUST</span> be
  greater than or equal to 1.<a href="#section-4.1.3.2-4.4" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-4.1.3.2-4.5">Flags (1 octet):</dt>
              <dd style="margin-left: 1.5em" id="section-4.1.3.2-4.6">
                <div class="alignLeft art-text artwork" id="section-4.1.3.2-4.6.1">
<pre>
                 0 1 2 3 4 5 6 7
                +-+-+-+-+-+-+-+-+
                |G| | |         |
                +-+-+-+-+-+-+-+-+
</pre><a href="#section-4.1.3.2-4.6.1" class="pilcrow">¶</a>
</div>
<span class="break"></span><dl class="dlParallel" id="section-4.1.3.2-4.6.2">
                  <dt id="section-4.1.3.2-4.6.2.1">G-flag:</dt>
                  <dd style="margin-left: 1.5em" id="section-4.1.3.2-4.6.2.2">When set, Interface Group Mode <span class="bcp14">MUST</span> be
  used to derive total link bandwidth. Unassigned bits <span class="bcp14">MUST</span> be set to zero and <span class="bcp14">MUST</span> be ignored by the receiver.<a href="#section-4.1.3.2-4.6.2.2" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
</dl>
</dd>
            <dd class="break"></dd>
</dl>
<p id="section-4.1.3.2-5">Following is the staircase bandwidth threshold and associated metric values.<a href="#section-4.1.3.2-5" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-4.1.3.2-6">
              <dt id="section-4.1.3.2-6.1">Bandwidth Threshold 1 (4 octets):</dt>
              <dd style="margin-left: 1.5em" id="section-4.1.3.2-6.2">Minimum Link Bandwidth is encoded in IEEE floating point format (32
  bits)<span>[<a href="#IEEE754-2019" class="cite xref">IEEE754-2019</a>]</span>.  The units are bytes per second.<a href="#section-4.1.3.2-6.2" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-4.1.3.2-6.3">Threshold Metric 1 (3 octets):</dt>
              <dd style="margin-left: 1.5em" id="section-4.1.3.2-6.4">Metric value range (1 - 16,777,215 (0xFFFFFF))<a href="#section-4.1.3.2-6.4" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-4.1.3.2-6.5">Bandwidth Threshold N (4 octets):</dt>
              <dd style="margin-left: 1.5em" id="section-4.1.3.2-6.6">Maximum Link Bandwidth is encoded in IEEE floating point format (32
  bits)<span>[<a href="#IEEE754-2019" class="cite xref">IEEE754-2019</a>]</span>.  The units are bytes per second.<a href="#section-4.1.3.2-6.6" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-4.1.3.2-6.7">Threshold Metric N (3 octets):</dt>
              <dd style="margin-left: 1.5em" id="section-4.1.3.2-6.8">Metric value range (1 - 16,777,215 (0xFFFFFF))<a href="#section-4.1.3.2-6.8" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
</dl>
<p id="section-4.1.3.2-7">When the G-flag is set, the cumulative bandwidth of the parallel links is
computed as described in <a href="#sec_intf_grp" class="auto internal xref">Section 4.1.1.2</a>. If the
G-flag is not set, the advertised Maximum Link Bandwidth is used.<a href="#section-4.1.3.2-7" class="pilcrow">¶</a></p>
<p id="section-4.1.3.2-8">The assignment of the Bandwidth Metric based on computed link bandwidth is described below.<a href="#section-4.1.3.2-8" class="pilcrow">¶</a></p>
<p id="section-4.1.3.2-9">The Bandwidth Metric for a link during the Flex-Algorithm Shortest Path
First (SPF) calculation <span class="bcp14">MUST</span> be assigned according to the
following rules:<a href="#section-4.1.3.2-9" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-4.1.3.2-10">
     <li id="section-4.1.3.2-10.1">
                <p id="section-4.1.3.2-10.1.1">When the computed link bandwidth is less than Bandwidth Threshold 1:<a href="#section-4.1.3.2-10.1.1" class="pilcrow">¶</a></p>
<p id="section-4.1.3.2-10.1.2">The Bandwidth Metric <span class="bcp14">MUST</span> be set to the maximum metric value of 4,261,412,864.<a href="#section-4.1.3.2-10.1.2" class="pilcrow">¶</a></p>
</li>
              <li id="section-4.1.3.2-10.2">
                <p id="section-4.1.3.2-10.2.1">When the computed link bandwidth is greater than or equal to
     Bandwidth Threshold 1 and less than Bandwidth Threshold 2:<a href="#section-4.1.3.2-10.2.1" class="pilcrow">¶</a></p>
<p id="section-4.1.3.2-10.2.2">The Bandwidth Metric <span class="bcp14">MUST</span> be set to Threshold Metric 1.<a href="#section-4.1.3.2-10.2.2" class="pilcrow">¶</a></p>
</li>
              <li id="section-4.1.3.2-10.3">
                <p id="section-4.1.3.2-10.3.1">When the computed link bandwidth is greater than or equal to
     Bandwidth Threshold 2 and less than Bandwidth Threshold 3:<a href="#section-4.1.3.2-10.3.1" class="pilcrow">¶</a></p>
<p id="section-4.1.3.2-10.3.2">The Bandwidth Metric <span class="bcp14">MUST</span> be set to Threshold Metric 2.<a href="#section-4.1.3.2-10.3.2" class="pilcrow">¶</a></p>
</li>
              <li id="section-4.1.3.2-10.4">
                <p id="section-4.1.3.2-10.4.1">In general, for all integer values of X such that 1 ≤ X &lt; N:<a href="#section-4.1.3.2-10.4.1" class="pilcrow">¶</a></p>
<p id="section-4.1.3.2-10.4.2">When the computed link bandwidth is greater than or equal to Bandwidth
     Threshold X and less than Bandwidth Threshold X+1:<a href="#section-4.1.3.2-10.4.2" class="pilcrow">¶</a></p>
<p id="section-4.1.3.2-10.4.3">The Bandwidth Metric <span class="bcp14">MUST</span> be set to Threshold Metric X.<a href="#section-4.1.3.2-10.4.3" class="pilcrow">¶</a></p>
</li>
              <li id="section-4.1.3.2-10.5">
                <p id="section-4.1.3.2-10.5.1">When the computed link bandwidth is greater than or equal to Bandwidth Threshold N:<a href="#section-4.1.3.2-10.5.1" class="pilcrow">¶</a></p>
<p id="section-4.1.3.2-10.5.2">The Bandwidth Metric <span class="bcp14">MUST</span> be set to Threshold Metric N.<a href="#section-4.1.3.2-10.5.2" class="pilcrow">¶</a></p>
</li>
            </ol>
<p id="section-4.1.3.2-11">Notes:<a href="#section-4.1.3.2-11" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.1.3.2-12.1">The term "Bandwidth Threshold X" refers to a predefined threshold 
       value corresponding to the index X.<a href="#section-4.1.3.2-12.1" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-4.1.3.2-12.2">The term "Threshold Metric X" refers to the metric value 
       associated with Bandwidth Threshold X.<a href="#section-4.1.3.2-12.2" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-4.1.3.2-12.3">N represents the total number of bandwidth thresholds 
       defined in the system.<a href="#section-4.1.3.2-12.3" class="pilcrow">¶</a>
</li>
            </ul>
<p id="section-4.1.3.2-13">Implementations <span class="bcp14">MUST</span> ensure that these rules are consistently applied to 
maintain interoperability and optimal path computation 
within the network.<a href="#section-4.1.3.2-13" class="pilcrow">¶</a></p>
<p id="section-4.1.3.2-14">The IS-IS FADBT sub-TLV <span class="bcp14">MUST NOT</span> appear more than once in an IS-IS FAD
   sub-TLV.  If it appears more than once, the IS-IS FAD sub-TLV <span class="bcp14">MUST</span>
   be ignored by the receiver.<a href="#section-4.1.3.2-14" class="pilcrow">¶</a></p>
<p id="section-4.1.3.2-15">A FAD <span class="bcp14">MUST NOT</span> contain both the FADBT sub-TLV and the FADRB sub-TLV.  If both
   of these sub-TLVs are advertised in the same FAD for a Flexible
   Algorithm, the FAD <span class="bcp14">MUST</span> be ignored by the receiver.<a href="#section-4.1.3.2-15" class="pilcrow">¶</a></p>
<p id="section-4.1.3.2-16">If a Generic Metric sub-TLV with Bandwidth metric-type is advertised
   for a link, the Flex-Algorithm calculation <span class="bcp14">MUST</span> use the Bandwidth
   Metric advertised on the link and <span class="bcp14">MUST NOT</span> use the automatically
     derived metric for that link.<a href="#section-4.1.3.2-16" class="pilcrow">¶</a></p>
<p id="section-4.1.3.2-17">In case of Interface Group Mode, the following rules apply to parallel links:<a href="#section-4.1.3.2-17" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.1.3.2-18.1">
                <p id="section-4.1.3.2-18.1.1">If all the parallel links have been advertised with the Bandwidth Metric:<a href="#section-4.1.3.2-18.1.1" class="pilcrow">¶</a></p>
<p id="section-4.1.3.2-18.1.2">The individual link Bandwidth Metric <span class="bcp14">MUST</span> be used.<a href="#section-4.1.3.2-18.1.2" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-4.1.3.2-18.2">
                <p id="section-4.1.3.2-18.2.1">If only some links among the parallel links have advertised the Bandwidth Metric:<a href="#section-4.1.3.2-18.2.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.1.3.2-18.2.2.1">The Bandwidth Metric for such links <span class="bcp14">MUST</span> be ignored.<a href="#section-4.1.3.2-18.2.2.1" class="pilcrow">¶</a>
</li>
                  <li class="normal" id="section-4.1.3.2-18.2.2.2">Automatic metric calculation <span class="bcp14">MUST</span> be used to derive the link metric.<a href="#section-4.1.3.2-18.2.2.2" class="pilcrow">¶</a>
</li>
                </ul>
</li>
            </ul>
</section>
</div>
</section>
</div>
<div id="sec_auto_ospf">
<section id="section-4.1.4">
          <h4 id="name-ospf-fad-constraint-sub-tlvs">
<a href="#section-4.1.4" class="section-number selfRef">4.1.4. </a><a href="#name-ospf-fad-constraint-sub-tlvs" class="section-name selfRef">OSPF FAD Constraint Sub-TLVs for Automatic Metric Calculation</a>
          </h4>
<div id="sec_ospf_auto_ref_bw">
<section id="section-4.1.4.1">
            <h5 id="name-reference-bandwidth-sub-tlv-2">
<a href="#section-4.1.4.1" class="section-number selfRef">4.1.4.1. </a><a href="#name-reference-bandwidth-sub-tlv-2" class="section-name selfRef">Reference Bandwidth Sub-TLV</a>
            </h5>
<p id="section-4.1.4.1-1">
The Flexible Algorithm Definition Reference Bandwidth (FADRB) sub-TLV is
a sub-TLV of the OSPF FAD TLV. It has the following format:<a href="#section-4.1.4.1-1" class="pilcrow">¶</a></p>
<span id="name-ospf-fadrb-sub-tlv"></span><div id="ospf_fadrb_sub_tlv">
<figure id="figure-10">
              <div class="alignLeft art-text artwork" id="section-4.1.4.1-2.1">
<pre>
    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |      Type                     |    Length                     |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |    Flags   |     Reserved                                     |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                      Reference Bandwidth                      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                      Granularity Bandwidth                    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-10" class="selfRef">Figure 10</a>:
<a href="#name-ospf-fadrb-sub-tlv" class="selfRef">OSPF FADRB Sub-TLV</a>
              </figcaption></figure>
</div>
<p id="section-4.1.4.1-3">where:<a href="#section-4.1.4.1-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-4.1.4.1-4">
              <dt id="section-4.1.4.1-4.1">Type (2 octets):</dt>
              <dd style="margin-left: 1.5em" id="section-4.1.4.1-4.2">A 16-bit field assigned by IANA (8).  This value
  uniquely identifies the OSPF FADRB sub-TLV.<a href="#section-4.1.4.1-4.2" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-4.1.4.1-4.3">Length (2 octets):</dt>
              <dd style="margin-left: 1.5em" id="section-4.1.4.1-4.4">A 16-bit field indicating the total length, in octets, of the subsequent
  fields. For this sub-TLV, Length is set to 14.<a href="#section-4.1.4.1-4.4" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-4.1.4.1-4.5">Flags (1 octet):</dt>
              <dd style="margin-left: 1.5em" id="section-4.1.4.1-4.6">
                <div class="alignLeft art-text artwork" id="section-4.1.4.1-4.6.1">
<pre>
                 0 1 2 3 4 5 6 7
                +-+-+-+-+-+-+-+-+
                |G| | |         |
                +-+-+-+-+-+-+-+-+
</pre><a href="#section-4.1.4.1-4.6.1" class="pilcrow">¶</a>
</div>
<span class="break"></span><dl class="dlParallel" id="section-4.1.4.1-4.6.2">
                  <dt id="section-4.1.4.1-4.6.2.1">G-flag:</dt>
                  <dd style="margin-left: 1.5em" id="section-4.1.4.1-4.6.2.2">When set, Interface Group Mode <span class="bcp14">MUST</span> be
    used to derive total link bandwidth. Unassigned bits <span class="bcp14">MUST</span> be set to zero and <span class="bcp14">MUST</span> be ignored by the receiver.<a href="#section-4.1.4.1-4.6.2.2" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
</dl>
</dd>
              <dd class="break"></dd>
<dt id="section-4.1.4.1-4.7">Reference Bandwidth (4 octets):</dt>
              <dd style="margin-left: 1.5em" id="section-4.1.4.1-4.8">Bandwidth encoded in 32 bits in IEEE floating point format
  <span>[<a href="#IEEE754-2019" class="cite xref">IEEE754-2019</a>]</span>.  The units are in bytes per second.<a href="#section-4.1.4.1-4.8" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-4.1.4.1-4.9">Granularity Bandwidth (4 octets):</dt>
              <dd style="margin-left: 1.5em" id="section-4.1.4.1-4.10">Bandwidth encoded in 32 bits in IEEE floating point format
  <span>[<a href="#IEEE754-2019" class="cite xref">IEEE754-2019</a>]</span>.  The units are in bytes per second.<a href="#section-4.1.4.1-4.10" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
</dl>
<p id="section-4.1.4.1-5">When granularity_bw is less than or equal to Total_link_bandwidth, then:<a href="#section-4.1.4.1-5" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-4.1.4.1-6">
              <dt id="section-4.1.4.1-6.1">Metric calculation:</dt>
              <dd style="margin-left: 1.5em" id="section-4.1.4.1-6.2">(Reference_bandwidth) /
  (Total_link_bandwidth - (Modulus of(Total_link_bandwidth,
  granularity_bw)))<a href="#section-4.1.4.1-6.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
</dl>
<p id="section-4.1.4.1-7">When granularity_bw is greater than Total_link_bandwidth, then:<a href="#section-4.1.4.1-7" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-4.1.4.1-8">
              <dt id="section-4.1.4.1-8.1">Metric calculation:</dt>
              <dd style="margin-left: 1.5em" id="section-4.1.4.1-8.2">Reference_bandwidth/
  Total_link_bandwidth<a href="#section-4.1.4.1-8.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
</dl>
<p id="section-4.1.4.1-9">The division used here is integer division.<a href="#section-4.1.4.1-9" class="pilcrow">¶</a></p>
<p id="section-4.1.4.1-10">Modulus of operation is defined as a remainder value when two numbers are
divided.<a href="#section-4.1.4.1-10" class="pilcrow">¶</a></p>
<p id="section-4.1.4.1-11">The Granularity Bandwidth value is used to ensure that the metric does not
change when there is a small change in the link bandwidth.  The OSPF FADRB
sub-TLV <span class="bcp14">MUST NOT</span> appear more than once in an OSPF FAD TLV.  If
it appears more than once, the OSPF FAD TLV <span class="bcp14">MUST</span> be ignored by
the receiver. The value advertised in the Reference Bandwidth field
<span class="bcp14">MUST</span> be non-zero.  If a zero value is advertised in the
Reference Bandwidth field in the OSPF FADRB sub-TLV, the sub-TLV
<span class="bcp14">MUST</span> be ignored.  If a Generic Metric sub-TLV with Bandwidth
metric-type is advertised for a link, the Flex-Algorithm calculation
<span class="bcp14">MUST</span> use the advertised Bandwidth Metric on the link and
<span class="bcp14">MUST NOT</span> use the automatically derived metric for that link.
In the case of Interface Group Mode, the following procedures apply:<a href="#section-4.1.4.1-11" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.1.4.1-12.1">
                <p id="section-4.1.4.1-12.1.1"> When all parallel links have advertised the Bandwidth
                Metric: The individual link Bandwidth Metric
                <span class="bcp14">MUST</span> be used for each link.<a href="#section-4.1.4.1-12.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-4.1.4.1-12.2">
                <p id="section-4.1.4.1-12.2.1"> When only a subset of the parallel links have advertised
                the Bandwidth Metric: The Bandwidth Metric advertisements for
                those links <span class="bcp14">MUST</span> be ignored. In this scenario,
                automatic metric calculation <span class="bcp14">MUST</span> be used to
                derive the link metrics for all parallel links.<a href="#section-4.1.4.1-12.2.1" class="pilcrow">¶</a></p>
</li>
            </ul>
<p id="section-4.1.4.1-13">If the calculated metric evaluates to zero, a metric of 1 <span class="bcp14">MUST</span> be used.<a href="#section-4.1.4.1-13" class="pilcrow">¶</a></p>
<p id="section-4.1.4.1-14"> If the calculated metric evaluates to a number greater than 0xFFFFFFFF, 
     it is set to 0xFFFFFFFF.<a href="#section-4.1.4.1-14" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec_ospf_threshold_metric">
<section id="section-4.1.4.2">
            <h5 id="name-bandwidth-threshold-sub-tlv-2">
<a href="#section-4.1.4.2" class="section-number selfRef">4.1.4.2. </a><a href="#name-bandwidth-threshold-sub-tlv-2" class="section-name selfRef">Bandwidth Threshold Sub-TLV</a>
            </h5>
<p id="section-4.1.4.2-1">
The Flexible Algorithm Definition Bandwidth Threshold (FADBT) sub-TLV is
a sub-TLV of the OSPF FAD TLV. It has the following format:<a href="#section-4.1.4.2-1" class="pilcrow">¶</a></p>
<span id="name-ospf-fadbt-sub-tlv"></span><div id="ospf_fadbt_sub_tlv">
<figure id="figure-11">
              <div class="alignLeft art-text artwork" id="section-4.1.4.2-2.1">
<pre>
    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |      Type                     |    Length                     |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |    Flags   | Reserved                                         |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                     Bandwidth Threshold 1                     |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                     Threshold Metric 1                        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                     Bandwidth Threshold 2                     |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                     Threshold Metric 2                        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                     Bandwidth Threshold 3                     |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                                  .....
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                     Threshold Metric N-1                      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                     Bandwidth Threshold N                     |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                     Threshold Metric N                        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-11" class="selfRef">Figure 11</a>:
<a href="#name-ospf-fadbt-sub-tlv" class="selfRef">OSPF FADBT Sub-TLV</a>
              </figcaption></figure>
</div>
<p id="section-4.1.4.2-3">where:<a href="#section-4.1.4.2-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-4.1.4.2-4">
              <dt id="section-4.1.4.2-4.1">Type (2 octets):</dt>
              <dd style="margin-left: 1.5em" id="section-4.1.4.2-4.2">A 16-bit field assigned by IANA (9).  This value
  uniquely identifies the OSPF FADBT sub-TLV.<a href="#section-4.1.4.2-4.2" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-4.1.4.2-4.3">Length (2 octets):</dt>
              <dd style="margin-left: 1.5em" id="section-4.1.4.2-4.4">A 16-bit field indicating the total length, in octets, of the subsequent
  fields. For this sub-TLV, Length is set to 2 + N*8 octets. Here, N is equal to
  the number of Threshold Metrics specified. N <span class="bcp14">MUST</span> be greater than
  or equal to 1.<a href="#section-4.1.4.2-4.4" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-4.1.4.2-4.5">Flags (1 octet):</dt>
              <dd style="margin-left: 1.5em" id="section-4.1.4.2-4.6">
                <div class="alignLeft art-text artwork" id="section-4.1.4.2-4.6.1">
<pre>
                 0 1 2 3 4 5 6 7
                +-+-+-+-+-+-+-+-+
                |G|             |
                +-+-+-+-+-+-+-+-+
</pre><a href="#section-4.1.4.2-4.6.1" class="pilcrow">¶</a>
</div>
<span class="break"></span><dl class="dlParallel" id="section-4.1.4.2-4.6.2">
                  <dt id="section-4.1.4.2-4.6.2.1">G-flag:</dt>
                  <dd style="margin-left: 1.5em" id="section-4.1.4.2-4.6.2.2">When set, Interface Group Mode <span class="bcp14">MUST</span>
      be used to derive total link bandwidth. Unassigned bits <span class="bcp14">MUST</span> be set to zero and <span class="bcp14">MUST</span> be ignored by the receiver.<a href="#section-4.1.4.2-4.6.2.2" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
</dl>
</dd>
            <dd class="break"></dd>
</dl>
<p id="section-4.1.4.2-5">Following is the staircase bandwidth threshold and associated metric values.<a href="#section-4.1.4.2-5" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-4.1.4.2-6">
              <dt id="section-4.1.4.2-6.1">Bandwidth Threshold 1 (4 octets):</dt>
              <dd style="margin-left: 1.5em" id="section-4.1.4.2-6.2">Minimum Link Bandwidth is encoded in IEEE floating point format (32
  bits)<span>[<a href="#IEEE754-2019" class="cite xref">IEEE754-2019</a>]</span>.  The units are bytes per second.<a href="#section-4.1.4.2-6.2" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-4.1.4.2-6.3">Threshold Metric 1 (4 octets):</dt>
              <dd style="margin-left: 1.5em" id="section-4.1.4.2-6.4">Metric value range (1 - 4,294,967,296 (0xFFFFFFFF))<a href="#section-4.1.4.2-6.4" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-4.1.4.2-6.5">Bandwidth Threshold N (4 octets): </dt>
              <dd style="margin-left: 1.5em" id="section-4.1.4.2-6.6">Maximum Link Bandwidth is encoded in IEEE floating point format (32
  bits)<span>[<a href="#IEEE754-2019" class="cite xref">IEEE754-2019</a>]</span>.  The units are bytes per second.<a href="#section-4.1.4.2-6.6" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-4.1.4.2-6.7">Threshold Metric N (4 octets):</dt>
              <dd style="margin-left: 1.5em" id="section-4.1.4.2-6.8">Metric value range (1 - 4,294,967,296 (0xFFFFFFFF))<a href="#section-4.1.4.2-6.8" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
</dl>
<p id="section-4.1.4.2-7">When the G-flag is set, the cumulative bandwidth of the parallel links is
computed as described in <a href="#sec_intf_grp" class="auto internal xref">Section 4.1.1.2</a>.  If
the G-flag is not set, the advertised Maximum Link Bandwidth is used.<a href="#section-4.1.4.2-7" class="pilcrow">¶</a></p>
<p id="section-4.1.4.2-8">The assignment of the Bandwidth Metric based on computed link bandwidth is described below.<a href="#section-4.1.4.2-8" class="pilcrow">¶</a></p>
<p id="section-4.1.4.2-9">During the Flex-Algorithm SPF calculation, the Bandwidth Metric for a link  <span class="bcp14">MUST</span> be assigned according to the following rules:<a href="#section-4.1.4.2-9" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-4.1.4.2-10">
  <li id="section-4.1.4.2-10.1">
                <p id="section-4.1.4.2-10.1.1">When the computed link bandwidth is less than Bandwidth Threshold 1:<a href="#section-4.1.4.2-10.1.1" class="pilcrow">¶</a></p>
<p id="section-4.1.4.2-10.1.2">The Bandwidth Metric <span class="bcp14">MUST</span> be set to the maximum metric
  value of 4,294,967,296.<a href="#section-4.1.4.2-10.1.2" class="pilcrow">¶</a></p>
</li>
              <li id="section-4.1.4.2-10.2">
                <p id="section-4.1.4.2-10.2.1">When the computed link bandwidth is greater than or equal to
  Bandwidth Threshold 1 and less than Bandwidth Threshold 2:<a href="#section-4.1.4.2-10.2.1" class="pilcrow">¶</a></p>
<p id="section-4.1.4.2-10.2.2">The Bandwidth Metric <span class="bcp14">MUST</span> be set to Threshold Metric 1.<a href="#section-4.1.4.2-10.2.2" class="pilcrow">¶</a></p>
</li>
              <li id="section-4.1.4.2-10.3">
                <p id="section-4.1.4.2-10.3.1">When the computed link bandwidth is greater than or equal to
  Bandwidth Threshold 2 and less than Bandwidth Threshold 3:<a href="#section-4.1.4.2-10.3.1" class="pilcrow">¶</a></p>
<p id="section-4.1.4.2-10.3.2">The Bandwidth Metric <span class="bcp14">MUST</span> be set to Threshold Metric 2.<a href="#section-4.1.4.2-10.3.2" class="pilcrow">¶</a></p>
</li>
              <li id="section-4.1.4.2-10.4">
                <p id="section-4.1.4.2-10.4.1">In general, for all integer values of X where 1 ≤X &lt; N:<a href="#section-4.1.4.2-10.4.1" class="pilcrow">¶</a></p>
<p id="section-4.1.4.2-10.4.2">When the computed link bandwidth is greater than or equal to Bandwidth
  Threshold X and less than Bandwidth Threshold X+1:<a href="#section-4.1.4.2-10.4.2" class="pilcrow">¶</a></p>
<p id="section-4.1.4.2-10.4.3">The Bandwidth Metric <span class="bcp14">MUST</span> be set to Threshold Metric X.<a href="#section-4.1.4.2-10.4.3" class="pilcrow">¶</a></p>
</li>
              <li id="section-4.1.4.2-10.5">
                <p id="section-4.1.4.2-10.5.1">When the computed link bandwidth is greater than or equal to
  Bandwidth Threshold N:<a href="#section-4.1.4.2-10.5.1" class="pilcrow">¶</a></p>
<p id="section-4.1.4.2-10.5.2">The Bandwidth Metric <span class="bcp14">MUST</span> be set to Threshold Metric N.<a href="#section-4.1.4.2-10.5.2" class="pilcrow">¶</a></p>
</li>
            </ol>
<p id="section-4.1.4.2-11">Notes:<a href="#section-4.1.4.2-11" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.1.4.2-12.1">
                <p id="section-4.1.4.2-12.1.1">Bandwidth Threshold X refers to the predefined bandwidth threshold
    corresponding to index X.<a href="#section-4.1.4.2-12.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-4.1.4.2-12.2">
                <p id="section-4.1.4.2-12.2.1">Threshold Metric X is the metric value associated with Bandwidth
    Threshold X.<a href="#section-4.1.4.2-12.2.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-4.1.4.2-12.3">
                <p id="section-4.1.4.2-12.3.1">N represents the total number of bandwidth thresholds defined in the
    system.<a href="#section-4.1.4.2-12.3.1" class="pilcrow">¶</a></p>
</li>
            </ul>
<p id="section-4.1.4.2-13">Implementations <span class="bcp14">MUST</span> consistently apply these rules to ensure accurate
 path computations and maintain interoperability within the network.<a href="#section-4.1.4.2-13" class="pilcrow">¶</a></p>
<p id="section-4.1.4.2-14">The OSPF FADBT sub-TLV <span class="bcp14">MUST NOT</span> appear more than once in an OSPF FAD
   sub-TLV.  If it appears more than once, the OSPF FAD sub-TLV <span class="bcp14">MUST</span> 
   be ignored by the receiver.<a href="#section-4.1.4.2-14" class="pilcrow">¶</a></p>
<p id="section-4.1.4.2-15">A FAD <span class="bcp14">MUST NOT</span> contain both the FADBT sub-TLV and the FADRB sub-TLV.  If both
   these sub-TLVs are advertised in the same FAD for a Flexible
   Algorithm, the FAD <span class="bcp14">MUST</span> be ignored by the receiver.<a href="#section-4.1.4.2-15" class="pilcrow">¶</a></p>
<p id="section-4.1.4.2-16">If a Generic Metric sub-TLV with Bandwidth metric-type is advertised
   for a link, the Flex-Algorithm calculation <span class="bcp14">MUST</span> use the Bandwidth
   Metric advertised on the link and <span class="bcp14">MUST NOT</span> use the automatically
   derived metric for that link.<a href="#section-4.1.4.2-16" class="pilcrow">¶</a></p>
<p id="section-4.1.4.2-17"> Metric Assignment in Interface Group Mode:<a href="#section-4.1.4.2-17" class="pilcrow">¶</a></p>
<p id="section-4.1.4.2-18">When a link does not have a configured Bandwidth Metric, 
   the automatically derived metric <span class="bcp14">MUST</span> be used for that link.<a href="#section-4.1.4.2-18" class="pilcrow">¶</a></p>
<p id="section-4.1.4.2-19">In case of Interface Group Mode, the following rules apply to parallel links:<a href="#section-4.1.4.2-19" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.1.4.2-20.1">
                <p id="section-4.1.4.2-20.1.1">If all parallel links have advertised the Bandwidth Metric:<a href="#section-4.1.4.2-20.1.1" class="pilcrow">¶</a></p>
<p id="section-4.1.4.2-20.1.2">The individual link Bandwidth Metric <span class="bcp14">MUST</span> be used for each link during path computation.<a href="#section-4.1.4.2-20.1.2" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-4.1.4.2-20.2">
                <p id="section-4.1.4.2-20.2.1">If only some of the parallel links have advertised the Bandwidth Metric:<a href="#section-4.1.4.2-20.2.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.1.4.2-20.2.2.1">The Bandwidth Metric advertisements for those links <span class="bcp14">MUST</span> be ignored.<a href="#section-4.1.4.2-20.2.2.1" class="pilcrow">¶</a>
</li>
                  <li class="normal" id="section-4.1.4.2-20.2.2.2">Automatic metric calculation <span class="bcp14">MUST</span> be used to derive the link metrics for all parallel links.<a href="#section-4.1.4.2-20.2.2.2" class="pilcrow">¶</a>
</li>
                </ul>
</li>
            </ul>
<p id="section-4.1.4.2-21">This approach ensures consistent metric calculation and avoids discrepancies 
caused by partial Bandwidth Metric advertisements among parallel links.<a href="#section-4.1.4.2-21" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="sec-metric">
<section id="section-5">
      <h2 id="name-bandwidth-metric-considerat">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-bandwidth-metric-considerat" class="section-name selfRef">Bandwidth Metric Considerations</a>
      </h2>
<p id="section-5-1">
    This section specifies the rules of deriving the Bandwidth Metric if
    and only if the winning FAD for the Flex-Algorithm specifies the
    metric-type as "Bandwidth Metric".<a href="#section-5-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-5-2">
        <li id="section-5-2.1">If the Generic Metric sub-TLV with Bandwidth metric-type is
        advertised for the link as described in <a href="#sec_bw_metric" class="auto internal xref">Section 4</a>, it <span class="bcp14">MUST</span> be used during the
        Flex-Algorithm calculation.<a href="#section-5-2.1" class="pilcrow">¶</a>
</li>
        <li id="section-5-2.2">If the Generic Metric sub-TLV with Bandwidth metric-type is not
        advertised for the link and the winning FAD for the Flex-Algorithm
        does not specify the automatic Bandwidth metric calculation (as
        defined in <a href="#sec_auto_metric" class="auto internal xref">Section 4.1</a>), the
        link is treated as if the Bandwidth Metric is not available for the
        link.<a href="#section-5-2.2" class="pilcrow">¶</a>
</li>
        <li id="section-5-2.3">If the Generic Metric sub-TLV with Bandwidth metric-type is not
        advertised for the link and the winning FAD (<span><a href="https://rfc-editor.org/rfc/rfc9350#section-5.3" class="relref">Section 5.3</a> of [<a href="#RFC9350" class="cite xref">RFC9350</a>]</span>) for the Flex-Algorithm specifies
        the automatic Bandwidth metric calculation (as defined in <a href="#sec_auto_metric" class="auto internal xref">Section 4.1</a>), the Bandwidth Metric
        <span class="bcp14">MUST</span> be automatically calculated per the
        procedures defined in <a href="#sec_auto_metric" class="auto internal xref">Section 4.1</a>.  If the Link Bandwidth is not advertised for a
        link, the link <span class="bcp14">MUST</span> be pruned for the Flex-Algorithm
        calculations.<a href="#section-5-2.3" class="pilcrow">¶</a>
</li>
        <li id="section-5-2.4">In IS-IS, for Flex-Algorithm purposes, the Link Bandwidth is
        advertised as a sub-sub-TLV 9 of the Flex-Algorithm-specific ASLA
        sub-TLV.  It is also possible to advertise the link bandwidth or
        Flex-Algorithm in sub-TLV 9 of TLVs 22/222/23/223/141 <span>[<a href="#RFC5305" class="cite xref">RFC5305</a>]</span>
        together with the L-flag set in the Flex-Algorithm-specific ASLA
        advertisement. In the absence of both of these advertisements, the
        bandwidth of the link is not available for Flex-Algorithm
        purposes.<a href="#section-5-2.4" class="pilcrow">¶</a>
</li>
      </ol>
</section>
</div>
<div id="sec-calc">
<section id="section-6">
      <h2 id="name-calculation-of-flex-algorit">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-calculation-of-flex-algorit" class="section-name selfRef">Calculation of Flex-Algorithm Paths</a>
      </h2>
<p id="section-6-1">The following two new additional rules are added to the existing rules in the
      Flex-Algorithm calculations specified in <span><a href="https://rfc-editor.org/rfc/rfc9350#section-13" class="relref">Section 13</a> of [<a href="#RFC9350" class="cite xref">RFC9350</a>]</span>:<a href="#section-6-1" class="pilcrow">¶</a></p>
<blockquote id="section-6-2">
        <ol start="6" type="1" class="normal type-1" id="section-6-2.1">
        <li id="section-6-2.1.1">Check if any exclude FAEMB rule is part of the Flex-Algorithm
        definition.  If such exclude rule exists and the link has Maximum Link
        Bandwidth advertised, check if the link bandwidth satisfies the FAEMB
        rule. If the link does not satisfy the FAEMB rule, the link
        <span class="bcp14">MUST</span> be pruned from the Flex-Algorithm computation.<a href="#section-6-2.1.1" class="pilcrow">¶</a>
</li>
          <li id="section-6-2.1.2">Check if any exclude FAEMD rule is part of the Flex-Algorithm
        definition.  If such exclude rule exists and the link has Min
        Unidirectional link delay advertised, check if the link delay
        satisfies the FAEMD rule. If the link does not satisfy the FAEMD rule,
        the link <span class="bcp14">MUST</span> be pruned from the Flex-Algorithm
        computation.<a href="#section-6-2.1.2" class="pilcrow">¶</a>
</li>
        </ol>
</blockquote>
</section>
</div>
<div id="backward_compatibility">
<section id="section-7">
      <h2 id="name-backward-compatibility">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-backward-compatibility" class="section-name selfRef">Backward Compatibility</a>
      </h2>
<p id="section-7-1"> This extension brings no new backward-compatibility issues.
  This document defines new FAD constraints in Sections 
  <a href="#sec_fad_con" class="auto internal xref">3</a>, <a href="#sec_auto_isis" class="auto internal xref">4.1.3</a>, and
  <a href="#sec_auto_ospf" class="auto internal xref">4.1.4</a>. As described in  <span>[<a href="#RFC9350" class="cite xref">RFC9350</a>]</span>,
  any node that does not understand sub-TLVs in a FAD TLV stops participation in the 
  corresponding Flex-Algorithm. The new extensions can be deployed among the nodes that are
  upgraded to understand the new extensions without affecting the nodes that are not upgraded.
  This document also defines a new metric advertisement as described in 
  <a href="#sec_generic_metric" class="auto internal xref">Section 2</a>. As per <span><a href="https://rfc-editor.org/rfc/rfc9350#section-13" class="relref">Section 13</a> of [<a href="#RFC9350" class="cite xref">RFC9350</a>]</span>,
  when the links do not advertise the metric-type specified by the selected FAD, 
  the link is pruned from Flex-Algorithm calculations. The new metric-types and 
         Flex-Algorithms using the new metric-types can be deployed in the network without affecting 
         existing deployment.<a href="#section-7-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec-con">
<section id="section-8">
      <h2 id="name-security-considerations">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-8-1">This document inherits security considerations from <span>[<a href="#RFC9350" class="cite xref">RFC9350</a>]</span>.<a href="#section-8-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec-ops">
<section id="section-9">
      <h2 id="name-operational-considerations">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-operational-considerations" class="section-name selfRef">Operational Considerations</a>
      </h2>
<p id="section-9-1">Operational considerations defined in <span>[<a href="#RFC9350" class="cite xref">RFC9350</a>]</span> generally apply to
 the extensions defined in this document as well. This document defines a metric-type
 range for user-defined metrics. When user-defined metrics are used in an inter-area or
 inter-level network, all the domains should assign same meaning to the particular
 metric-type. The YANG data models for Flex-Algorithm extensions are defined in 
 documents <span>[<a href="#I-D.ietf-lsr-ospf-yang-augmentation-v1" class="cite xref">OSPF-AUGMENTATION</a>]</span> and 
 <span>[<a href="#I-D.ietf-lsr-isis-yang-augmentation-v1" class="cite xref">ISIS-AUGMENTATION</a>]</span>.<a href="#section-9-1" class="pilcrow">¶</a></p>
<p id="section-9-2">Before the router goes into maintenance activity, the traffic needs to be diverted away
    from the router. This is achieved by setting the overload bit or setting link metrics on the
    router to a high value. In case of Generic Metric, the link metrics can be set to a Maximum
    usable metric for OSPF and IS-IS. The traffic will be diverted away from the router to a shorter
    available path. If there are no alternate paths available, traffic will stay on the router as
    the links are not removed from the Flex-Algorithm calculation when they are set to a maximum metric per 
    <span>[<a href="#RFC9350" class="cite xref">RFC9350</a>]</span>.<a href="#section-9-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="IANA">
<section id="section-10">
      <h2 id="name-iana-considerations">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<div id="igp_metric_type">
<section id="section-10.1">
        <h3 id="name-igp-metric-type-registry">
<a href="#section-10.1" class="section-number selfRef">10.1. </a><a href="#name-igp-metric-type-registry" class="section-name selfRef">IGP Metric-Type Registry</a>
        </h3>
<p id="section-10.1-1">The "IGP Metric-Type" registry has been updated to include another column
        specifying whether the particular metric-type is allowed in the
        Generic Metric sub-TLV.  The range 128-255 is redefined
        by this document as a user-defined range, and this range does not require
        Standards Action <span>[<a href="#RFC8126" class="cite xref">RFC8126</a>]</span>.<a href="#section-10.1-1" class="pilcrow">¶</a></p>
<span id="name-igp-metric-type-registry-2"></span><div id="iana_metric_type">
<table class="center" id="table-1">
          <caption>
<a href="#table-1" class="selfRef">Table 1</a>:
<a href="#name-igp-metric-type-registry-2" class="selfRef">IGP Metric-Type Registry</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Type</th>
              <th class="text-left" rowspan="1" colspan="1">Description</th>
              <th class="text-left" rowspan="1" colspan="1">Reference</th>
              <th class="text-left" rowspan="1" colspan="1">Allowed in Generic-Metric</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">0</td>
              <td class="text-left" rowspan="1" colspan="1">IGP Metric</td>
              <td class="text-left" rowspan="1" colspan="1">
                <span><a href="https://rfc-editor.org/rfc/rfc9350#section-5.1" class="relref">Section 5.1</a> of [<a href="#RFC9350" class="cite xref">RFC9350</a>]</span>
</td>
              <td class="text-left" rowspan="1" colspan="1">No</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">1</td>
              <td class="text-left" rowspan="1" colspan="1">Min Unidirectional Link Delay as defined in <span>[<a href="#RFC8570" class="cite xref">RFC8570</a>], <a href="https://rfc-editor.org/rfc/rfc8570#section-4.2" class="relref">Section 4.2</a></span> and <span>[<a href="#RFC7471" class="cite xref">RFC7471</a>], <a href="https://rfc-editor.org/rfc/rfc7471#section-4.2" class="relref">Section 4.2</a></span>
</td>
              <td class="text-left" rowspan="1" colspan="1">
                <span><a href="https://rfc-editor.org/rfc/rfc9350#section-5.1" class="relref">Section 5.1</a> of [<a href="#RFC9350" class="cite xref">RFC9350</a>]</span>
</td>
              <td class="text-left" rowspan="1" colspan="1">No</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">2</td>
              <td class="text-left" rowspan="1" colspan="1">Traffic Engineering Default Metric as defined in <span>[<a href="#RFC5305" class="cite xref">RFC5305</a>], <a href="https://rfc-editor.org/rfc/rfc5305#section-3.7" class="relref">Section 3.7</a></span> and  Traffic Engineering Metric as defined in <span>[<a href="#RFC3630" class="cite xref">RFC3630</a>], <a href="https://rfc-editor.org/rfc/rfc3630#section-2.5.5" class="relref">Section 2.5.5</a></span>
</td>
              <td class="text-left" rowspan="1" colspan="1">
                <span><a href="https://rfc-editor.org/rfc/rfc9350#section-5.1" class="relref">Section 5.1</a> of [<a href="#RFC9350" class="cite xref">RFC9350</a>]</span>
</td>
              <td class="text-left" rowspan="1" colspan="1">No</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">3</td>
              <td class="text-left" rowspan="1" colspan="1">Bandwidth Metric</td>
              <td class="text-left" rowspan="1" colspan="1">RFC 9843</td>
              <td class="text-left" rowspan="1" colspan="1">Yes</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">128-255</td>
              <td class="text-left" rowspan="1" colspan="1">Reserved for User-Defined Metric</td>
              <td class="text-left" rowspan="1" colspan="1">RFC 9843</td>
              <td class="text-left" rowspan="1" colspan="1">Yes</td>
            </tr>
          </tbody>
        </table>
</div>
</section>
</div>
<div id="isis_fad">
<section id="section-10.2">
        <h3 id="name-is-is-sub-sub-tlvs-for-flex">
<a href="#section-10.2" class="section-number selfRef">10.2. </a><a href="#name-is-is-sub-sub-tlvs-for-flex" class="section-name selfRef">IS-IS Sub-Sub-TLVs for Flexible Algorithm Definition Sub-TLV</a>
        </h3>
<p id="section-10.2-1">The "IS-IS Sub-Sub-TLVs for Flexible Algorithm Definition Sub-TLV" registry is part
 of the "IS-IS TLV Codepoints" registry group.<a href="#section-10.2-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlCompact dlParallel" id="section-10.2-2">
          <dt id="section-10.2-2.1">Type:</dt>
          <dd style="margin-left: 1.5em" id="section-10.2-2.2">6<a href="#section-10.2-2.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.2-2.3">Description:</dt>
          <dd style="margin-left: 1.5em" id="section-10.2-2.4">IS-IS Exclude Minimum Bandwidth<a href="#section-10.2-2.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.2-2.5">Reference:</dt>
          <dd style="margin-left: 1.5em" id="section-10.2-2.6">RFC 9843, <a href="#sec_isis_bw_exclusion" class="auto internal xref">Section 3.1.1</a><a href="#section-10.2-2.6" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<span class="break"></span><dl class="dlCompact dlParallel" id="section-10.2-3">
          <dt id="section-10.2-3.1">Type:</dt>
          <dd style="margin-left: 1.5em" id="section-10.2-3.2">7<a href="#section-10.2-3.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.2-3.3">Description:</dt>
          <dd style="margin-left: 1.5em" id="section-10.2-3.4">IS-IS Exclude Maximum Delay<a href="#section-10.2-3.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.2-3.5">Reference:</dt>
          <dd style="margin-left: 1.5em" id="section-10.2-3.6">RFC 9843, <a href="#sec_isis_delay_exclusion" class="auto internal xref">Section 3.1.2</a><a href="#section-10.2-3.6" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<span class="break"></span><dl class="dlCompact dlParallel" id="section-10.2-4">
          <dt id="section-10.2-4.1">Type:</dt>
          <dd style="margin-left: 1.5em" id="section-10.2-4.2">8<a href="#section-10.2-4.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.2-4.3">Description:</dt>
          <dd style="margin-left: 1.5em" id="section-10.2-4.4">IS-IS Reference Bandwidth<a href="#section-10.2-4.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.2-4.5">Reference:</dt>
          <dd style="margin-left: 1.5em" id="section-10.2-4.6">RFC 9843, <a href="#sec_isis_auto_ref_bw" class="auto internal xref">Section 4.1.3.1</a><a href="#section-10.2-4.6" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<span class="break"></span><dl class="dlCompact dlParallel" id="section-10.2-5">
          <dt id="section-10.2-5.1">Type:</dt>
          <dd style="margin-left: 1.5em" id="section-10.2-5.2">9<a href="#section-10.2-5.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.2-5.3">Description:</dt>
          <dd style="margin-left: 1.5em" id="section-10.2-5.4">IS-IS Bandwidth Threshold<a href="#section-10.2-5.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.2-5.5">Reference:</dt>
          <dd style="margin-left: 1.5em" id="section-10.2-5.6">RFC 9843, <a href="#sec_isis_threshold_metric" class="auto internal xref">Section 4.1.3.2</a><a href="#section-10.2-5.6" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="ospf_fad">
<section id="section-10.3">
        <h3 id="name-ospf-sub-tlvs-for-flexible-">
<a href="#section-10.3" class="section-number selfRef">10.3. </a><a href="#name-ospf-sub-tlvs-for-flexible-" class="section-name selfRef">OSPF Sub-TLVs for Flexible Algorithm Definition Sub-TLV</a>
        </h3>
<p id="section-10.3-1">The "OSPF Flexible Algorithm Definition TLV Sub-TLVs"
   registry is part of the "Open Shortest Path First (OSPF) Parameters" 
   registry group.<a href="#section-10.3-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlCompact dlParallel" id="section-10.3-2">
          <dt id="section-10.3-2.1">Type:</dt>
          <dd style="margin-left: 1.5em" id="section-10.3-2.2">6<a href="#section-10.3-2.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.3-2.3">Description:</dt>
          <dd style="margin-left: 1.5em" id="section-10.3-2.4">OSPF Exclude Minimum Bandwidth<a href="#section-10.3-2.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.3-2.5">Reference:</dt>
          <dd style="margin-left: 1.5em" id="section-10.3-2.6">RFC 9843, <a href="#sec_ospf_bw_exclusion" class="auto internal xref">Section 3.2.1</a><a href="#section-10.3-2.6" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<span class="break"></span><dl class="dlCompact dlParallel" id="section-10.3-3">
          <dt id="section-10.3-3.1">Type:</dt>
          <dd style="margin-left: 1.5em" id="section-10.3-3.2">7<a href="#section-10.3-3.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.3-3.3">Description:</dt>
          <dd style="margin-left: 1.5em" id="section-10.3-3.4">OSPF Exclude Maximum Delay<a href="#section-10.3-3.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.3-3.5">Reference:</dt>
          <dd style="margin-left: 1.5em" id="section-10.3-3.6">RFC 9843, <a href="#sec_ospf_delay_exclusion" class="auto internal xref">Section 3.2.2</a><a href="#section-10.3-3.6" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<span class="break"></span><dl class="dlCompact dlParallel" id="section-10.3-4">
          <dt id="section-10.3-4.1">Type:</dt>
          <dd style="margin-left: 1.5em" id="section-10.3-4.2">8<a href="#section-10.3-4.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.3-4.3">Description:</dt>
          <dd style="margin-left: 1.5em" id="section-10.3-4.4">OSPF Reference Bandwidth<a href="#section-10.3-4.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.3-4.5">Reference:</dt>
          <dd style="margin-left: 1.5em" id="section-10.3-4.6">RFC 9843, <a href="#sec_ospf_auto_ref_bw" class="auto internal xref">Section 4.1.4.1</a><a href="#section-10.3-4.6" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<span class="break"></span><dl class="dlCompact dlParallel" id="section-10.3-5">
          <dt id="section-10.3-5.1">Type:</dt>
          <dd style="margin-left: 1.5em" id="section-10.3-5.2">9<a href="#section-10.3-5.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.3-5.3">Description:</dt>
          <dd style="margin-left: 1.5em" id="section-10.3-5.4">OSPF Bandwidth Threshold<a href="#section-10.3-5.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.3-5.5">Reference:</dt>
          <dd style="margin-left: 1.5em" id="section-10.3-5.6">RFC 9843, <a href="#sec_ospf_threshold_metric" class="auto internal xref">Section 4.1.4.2</a><a href="#section-10.3-5.6" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="isis_gen_metric">
<section id="section-10.4">
        <h3 id="name-is-is-sub-tlvs-for-tlvs-adv">
<a href="#section-10.4" class="section-number selfRef">10.4. </a><a href="#name-is-is-sub-tlvs-for-tlvs-adv" class="section-name selfRef">IS-IS Sub-TLVs for TLVs Advertising Neighbor Information</a>
        </h3>
<p id="section-10.4-1">The "IS-IS Sub-TLVs for TLVs Advertising Neighbor Information" registry
  is part of the "IS-IS TLV Codepoints" registry group.<a href="#section-10.4-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlCompact dlParallel" id="section-10.4-2">
          <dt id="section-10.4-2.1">Type:</dt>
          <dd style="margin-left: 1.5em" id="section-10.4-2.2">17<a href="#section-10.4-2.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.4-2.3">Description:</dt>
          <dd style="margin-left: 1.5em" id="section-10.4-2.4">Generic Metric<a href="#section-10.4-2.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.4-2.5">TLVs set to "Y":</dt>
          <dd style="margin-left: 1.5em" id="section-10.4-2.6">22, 23, 25, 141, 222, and 223<a href="#section-10.4-2.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.4-2.7">Reference:</dt>
          <dd style="margin-left: 1.5em" id="section-10.4-2.8">RFC 9843, <a href="#sec_isis_gen_metric" class="auto internal xref">Section 2.1</a><a href="#section-10.4-2.8" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="isis_gen_metric_te_app">
<section id="section-10.5">
        <h3 id="name-sub-sub-tlv-codepoints-for-">
<a href="#section-10.5" class="section-number selfRef">10.5. </a><a href="#name-sub-sub-tlv-codepoints-for-" class="section-name selfRef">Sub-Sub-TLV Codepoints for Application-Specific Link Attributes</a>
        </h3>
<p id="section-10.5-1">The "IS-IS Sub-Sub-TLV Codepoints for Application-Specific Link Attributes" registry
  is part of the "IS-IS TLV Codepoints" registry group.<a href="#section-10.5-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlCompact dlParallel" id="section-10.5-2">
          <dt id="section-10.5-2.1">Type:</dt>
          <dd style="margin-left: 1.5em" id="section-10.5-2.2">17<a href="#section-10.5-2.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.5-2.3">Description:</dt>
          <dd style="margin-left: 1.5em" id="section-10.5-2.4">Generic Metric<a href="#section-10.5-2.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.5-2.5">Reference:</dt>
          <dd style="margin-left: 1.5em" id="section-10.5-2.6">RFC 9843, <a href="#sec_isis_gen_metric" class="auto internal xref">Section 2.1</a><a href="#section-10.5-2.6" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="ospf_gen_metric">
<section id="section-10.6">
        <h3 id="name-ospfv2-extended-link-tlv-su">
<a href="#section-10.6" class="section-number selfRef">10.6. </a><a href="#name-ospfv2-extended-link-tlv-su" class="section-name selfRef">OSPFv2 Extended Link TLV Sub-TLVs</a>
        </h3>
<p id="section-10.6-1">The "OSPFv2 Extended Link TLV Sub-TLVs" registry
  is part of the "Open Shortest Path First v2 (OSPFv2) Parameters" registry group.<a href="#section-10.6-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlCompact dlParallel" id="section-10.6-2">
          <dt id="section-10.6-2.1">Value:</dt>
          <dd style="margin-left: 1.5em" id="section-10.6-2.2">25<a href="#section-10.6-2.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.6-2.3">Description:</dt>
          <dd style="margin-left: 1.5em" id="section-10.6-2.4">Generic Metric<a href="#section-10.6-2.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.6-2.5">L2BM:</dt>
          <dd style="margin-left: 1.5em" id="section-10.6-2.6">Y<a href="#section-10.6-2.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.6-2.7">Reference:</dt>
          <dd style="margin-left: 1.5em" id="section-10.6-2.8">RFC 9843, <a href="#sec_ospf_gen_metric" class="auto internal xref">Section 2.2</a><a href="#section-10.6-2.8" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="ospf_gen_metric_te_lsa">
<section id="section-10.7">
        <h3 id="name-types-for-sub-tlvs-of-te-li">
<a href="#section-10.7" class="section-number selfRef">10.7. </a><a href="#name-types-for-sub-tlvs-of-te-li" class="section-name selfRef">Types for Sub-TLVs of TE Link TLV (Value 2)</a>
        </h3>
<p id="section-10.7-1">The "Types for sub-TLVs of TE Link TLV (Value 2)" registry
  is part of the "Open Shortest Path First (OSPF) Traffic Engineering TLVs" registry group.<a href="#section-10.7-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlCompact dlParallel" id="section-10.7-2">
          <dt id="section-10.7-2.1">Value:</dt>
          <dd style="margin-left: 1.5em" id="section-10.7-2.2">36<a href="#section-10.7-2.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.7-2.3">Description:</dt>
          <dd style="margin-left: 1.5em" id="section-10.7-2.4">Generic Metric<a href="#section-10.7-2.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.7-2.5">Reference:</dt>
          <dd style="margin-left: 1.5em" id="section-10.7-2.6">RFC 9843, <a href="#sec_ospf_gen_metric" class="auto internal xref">Section 2.2</a><a href="#section-10.7-2.6" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="ospfv3_gen_metric_te_lsa">
<section id="section-10.8">
        <h3 id="name-ospfv3-extended-lsa-sub-tlv">
<a href="#section-10.8" class="section-number selfRef">10.8. </a><a href="#name-ospfv3-extended-lsa-sub-tlv" class="section-name selfRef">OSPFv3 Extended-LSA Sub-TLVs</a>
        </h3>
<p id="section-10.8-1"> The "OSPFv3 Extended-LSA Sub-TLVs" registry
  is part of the "Open Shortest Path First v3 (OSPFv3) Parameters" registry group.<a href="#section-10.8-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlCompact dlParallel" id="section-10.8-2">
          <dt id="section-10.8-2.1">Value:</dt>
          <dd style="margin-left: 1.5em" id="section-10.8-2.2">34<a href="#section-10.8-2.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.8-2.3">Description:</dt>
          <dd style="margin-left: 1.5em" id="section-10.8-2.4">Generic Metric<a href="#section-10.8-2.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.8-2.5">L2BM:</dt>
          <dd style="margin-left: 1.5em" id="section-10.8-2.6">Y<a href="#section-10.8-2.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.8-2.7">Reference:</dt>
          <dd style="margin-left: 1.5em" id="section-10.8-2.8">RFC 9843, <a href="#sec_ospf_gen_metric" class="auto internal xref">Section 2.2</a><a href="#section-10.8-2.8" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
<section id="section-11">
      <h2 id="name-references">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-11.1">
        <h3 id="name-normative-references">
<a href="#section-11.1" class="section-number selfRef">11.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="IEEE754-2019">[IEEE754-2019]</dt>
        <dd>
<span class="refAuthor">IEEE</span>, <span class="refTitle">"IEEE Standard for Floating-Point Arithmetic"</span>, <span class="seriesInfo">IEEE Std 754-2019</span>, <span class="seriesInfo">DOI 10.1109/ieeestd.2019.8766229</span>, <time datetime="2019-07-22" class="refDate">22 July 2019</time>, <span>&lt;<a href="https://doi.org/10.1109/ieeestd.2019.8766229">https://doi.org/10.1109/ieeestd.2019.8766229</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC1195">[RFC1195]</dt>
        <dd>
<span class="refAuthor">Callon, R.</span>, <span class="refTitle">"Use of OSI IS-IS for routing in TCP/IP and dual environments"</span>, <span class="seriesInfo">RFC 1195</span>, <span class="seriesInfo">DOI 10.17487/RFC1195</span>, <time datetime="1990-12" class="refDate">December 1990</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc1195">https://www.rfc-editor.org/info/rfc1195</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2328">[RFC2328]</dt>
        <dd>
<span class="refAuthor">Moy, J.</span>, <span class="refTitle">"OSPF Version 2"</span>, <span class="seriesInfo">STD 54</span>, <span class="seriesInfo">RFC 2328</span>, <span class="seriesInfo">DOI 10.17487/RFC2328</span>, <time datetime="1998-04" class="refDate">April 1998</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2328">https://www.rfc-editor.org/info/rfc2328</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3630">[RFC3630]</dt>
        <dd>
<span class="refAuthor">Katz, D.</span>, <span class="refAuthor">Kompella, K.</span>, and <span class="refAuthor">D. Yeung</span>, <span class="refTitle">"Traffic Engineering (TE) Extensions to OSPF Version 2"</span>, <span class="seriesInfo">RFC 3630</span>, <span class="seriesInfo">DOI 10.17487/RFC3630</span>, <time datetime="2003-09" class="refDate">September 2003</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3630">https://www.rfc-editor.org/info/rfc3630</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5305">[RFC5305]</dt>
        <dd>
<span class="refAuthor">Li, T.</span> and <span class="refAuthor">H. Smit</span>, <span class="refTitle">"IS-IS Extensions for Traffic Engineering"</span>, <span class="seriesInfo">RFC 5305</span>, <span class="seriesInfo">DOI 10.17487/RFC5305</span>, <time datetime="2008-10" class="refDate">October 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5305">https://www.rfc-editor.org/info/rfc5305</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5329">[RFC5329]</dt>
        <dd>
<span class="refAuthor">Ishiguro, K.</span>, <span class="refAuthor">Manral, V.</span>, <span class="refAuthor">Davey, A.</span>, and <span class="refAuthor">A. Lindem, Ed.</span>, <span class="refTitle">"Traffic Engineering Extensions to OSPF Version 3"</span>, <span class="seriesInfo">RFC 5329</span>, <span class="seriesInfo">DOI 10.17487/RFC5329</span>, <time datetime="2008-09" class="refDate">September 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5329">https://www.rfc-editor.org/info/rfc5329</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5392">[RFC5392]</dt>
        <dd>
<span class="refAuthor">Chen, M.</span>, <span class="refAuthor">Zhang, R.</span>, and <span class="refAuthor">X. Duan</span>, <span class="refTitle">"OSPF Extensions in Support of Inter-Autonomous System (AS) MPLS and GMPLS Traffic Engineering"</span>, <span class="seriesInfo">RFC 5392</span>, <span class="seriesInfo">DOI 10.17487/RFC5392</span>, <time datetime="2009-01" class="refDate">January 2009</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5392">https://www.rfc-editor.org/info/rfc5392</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7684">[RFC7684]</dt>
        <dd>
<span class="refAuthor">Psenak, P.</span>, <span class="refAuthor">Gredler, H.</span>, <span class="refAuthor">Shakir, R.</span>, <span class="refAuthor">Henderickx, W.</span>, <span class="refAuthor">Tantsura, J.</span>, and <span class="refAuthor">A. Lindem</span>, <span class="refTitle">"OSPFv2 Prefix/Link Attribute Advertisement"</span>, <span class="seriesInfo">RFC 7684</span>, <span class="seriesInfo">DOI 10.17487/RFC7684</span>, <time datetime="2015-11" class="refDate">November 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7684">https://www.rfc-editor.org/info/rfc7684</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8126">[RFC8126]</dt>
        <dd>
<span class="refAuthor">Cotton, M.</span>, <span class="refAuthor">Leiba, B.</span>, and <span class="refAuthor">T. Narten</span>, <span class="refTitle">"Guidelines for Writing an IANA Considerations Section in RFCs"</span>, <span class="seriesInfo">BCP 26</span>, <span class="seriesInfo">RFC 8126</span>, <span class="seriesInfo">DOI 10.17487/RFC8126</span>, <time datetime="2017-06" class="refDate">June 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8126">https://www.rfc-editor.org/info/rfc8126</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8362">[RFC8362]</dt>
        <dd>
<span class="refAuthor">Lindem, A.</span>, <span class="refAuthor">Roy, A.</span>, <span class="refAuthor">Goethals, D.</span>, <span class="refAuthor">Reddy Vallem, V.</span>, and <span class="refAuthor">F. Baker</span>, <span class="refTitle">"OSPFv3 Link State Advertisement (LSA) Extensibility"</span>, <span class="seriesInfo">RFC 8362</span>, <span class="seriesInfo">DOI 10.17487/RFC8362</span>, <time datetime="2018-04" class="refDate">April 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8362">https://www.rfc-editor.org/info/rfc8362</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8668">[RFC8668]</dt>
        <dd>
<span class="refAuthor">Ginsberg, L., Ed.</span>, <span class="refAuthor">Bashandy, A.</span>, <span class="refAuthor">Filsfils, C.</span>, <span class="refAuthor">Nanduri, M.</span>, and <span class="refAuthor">E. Aries</span>, <span class="refTitle">"Advertising Layer 2 Bundle Member Link Attributes in IS-IS"</span>, <span class="seriesInfo">RFC 8668</span>, <span class="seriesInfo">DOI 10.17487/RFC8668</span>, <time datetime="2019-12" class="refDate">December 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8668">https://www.rfc-editor.org/info/rfc8668</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9350">[RFC9350]</dt>
        <dd>
<span class="refAuthor">Psenak, P., Ed.</span>, <span class="refAuthor">Hegde, S.</span>, <span class="refAuthor">Filsfils, C.</span>, <span class="refAuthor">Talaulikar, K.</span>, and <span class="refAuthor">A. Gulko</span>, <span class="refTitle">"IGP Flexible Algorithm"</span>, <span class="seriesInfo">RFC 9350</span>, <span class="seriesInfo">DOI 10.17487/RFC9350</span>, <time datetime="2023-02" class="refDate">February 2023</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9350">https://www.rfc-editor.org/info/rfc9350</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9356">[RFC9356]</dt>
        <dd>
<span class="refAuthor">Talaulikar, K., Ed.</span> and <span class="refAuthor">P. Psenak</span>, <span class="refTitle">"Advertising Layer 2 Bundle Member Link Attributes in OSPF"</span>, <span class="seriesInfo">RFC 9356</span>, <span class="seriesInfo">DOI 10.17487/RFC9356</span>, <time datetime="2023-01" class="refDate">January 2023</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9356">https://www.rfc-editor.org/info/rfc9356</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9479">[RFC9479]</dt>
        <dd>
<span class="refAuthor">Ginsberg, L.</span>, <span class="refAuthor">Psenak, P.</span>, <span class="refAuthor">Previdi, S.</span>, <span class="refAuthor">Henderickx, W.</span>, and <span class="refAuthor">J. Drake</span>, <span class="refTitle">"IS-IS Application-Specific Link Attributes"</span>, <span class="seriesInfo">RFC 9479</span>, <span class="seriesInfo">DOI 10.17487/RFC9479</span>, <time datetime="2023-10" class="refDate">October 2023</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9479">https://www.rfc-editor.org/info/rfc9479</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9492">[RFC9492]</dt>
      <dd>
<span class="refAuthor">Psenak, P., Ed.</span>, <span class="refAuthor">Ginsberg, L.</span>, <span class="refAuthor">Henderickx, W.</span>, <span class="refAuthor">Tantsura, J.</span>, and <span class="refAuthor">J. Drake</span>, <span class="refTitle">"OSPF Application-Specific Link Attributes"</span>, <span class="seriesInfo">RFC 9492</span>, <span class="seriesInfo">DOI 10.17487/RFC9492</span>, <time datetime="2023-10" class="refDate">October 2023</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9492">https://www.rfc-editor.org/info/rfc9492</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-11.2">
        <h3 id="name-informative-references">
<a href="#section-11.2" class="section-number selfRef">11.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="I-D.ietf-lsr-isis-yang-augmentation-v1">[ISIS-AUGMENTATION]</dt>
        <dd>
<span class="refAuthor">Lindem, A.</span>, <span class="refAuthor">Qu, Y.</span>, and <span class="refAuthor">S. Litkowski</span>, <span class="refTitle">"IS-IS YANG Model Augmentations for Additional Features - Release 1"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-lsr-isis-yang-augmentation-v1-10</span>, <time datetime="2025-07-06" class="refDate">6 July 2025</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-lsr-isis-yang-augmentation-v1-10">https://datatracker.ietf.org/doc/html/draft-ietf-lsr-isis-yang-augmentation-v1-10</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-lsr-ospf-yang-augmentation-v1">[OSPF-AUGMENTATION]</dt>
        <dd>
<span class="refAuthor">Lindem, A.</span> and <span class="refAuthor">Y. Qu</span>, <span class="refTitle">"OSPF YANG Model Augmentations for Additional Features - Release 1"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-lsr-ospf-yang-augmentation-v1-17</span>, <time datetime="2025-07-06" class="refDate">6 July 2025</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-lsr-ospf-yang-augmentation-v1-17">https://datatracker.ietf.org/doc/html/draft-ietf-lsr-ospf-yang-augmentation-v1-17</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4655">[RFC4655]</dt>
        <dd>
<span class="refAuthor">Farrel, A.</span>, <span class="refAuthor">Vasseur, J.-P.</span>, and <span class="refAuthor">J. Ash</span>, <span class="refTitle">"A Path Computation Element (PCE)-Based Architecture"</span>, <span class="seriesInfo">RFC 4655</span>, <span class="seriesInfo">DOI 10.17487/RFC4655</span>, <time datetime="2006-08" class="refDate">August 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4655">https://www.rfc-editor.org/info/rfc4655</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5120">[RFC5120]</dt>
        <dd>
<span class="refAuthor">Przygienda, T.</span>, <span class="refAuthor">Shen, N.</span>, and <span class="refAuthor">N. Sheth</span>, <span class="refTitle">"M-ISIS: Multi Topology (MT) Routing in Intermediate System to Intermediate Systems (IS-ISs)"</span>, <span class="seriesInfo">RFC 5120</span>, <span class="seriesInfo">DOI 10.17487/RFC5120</span>, <time datetime="2008-02" class="refDate">February 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5120">https://www.rfc-editor.org/info/rfc5120</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5311">[RFC5311]</dt>
        <dd>
<span class="refAuthor">McPherson, D., Ed.</span>, <span class="refAuthor">Ginsberg, L.</span>, <span class="refAuthor">Previdi, S.</span>, and <span class="refAuthor">M. Shand</span>, <span class="refTitle">"Simplified Extension of Link State PDU (LSP) Space for IS-IS"</span>, <span class="seriesInfo">RFC 5311</span>, <span class="seriesInfo">DOI 10.17487/RFC5311</span>, <time datetime="2009-02" class="refDate">February 2009</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5311">https://www.rfc-editor.org/info/rfc5311</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5715">[RFC5715]</dt>
        <dd>
<span class="refAuthor">Shand, M.</span> and <span class="refAuthor">S. Bryant</span>, <span class="refTitle">"A Framework for Loop-Free Convergence"</span>, <span class="seriesInfo">RFC 5715</span>, <span class="seriesInfo">DOI 10.17487/RFC5715</span>, <time datetime="2010-01" class="refDate">January 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5715">https://www.rfc-editor.org/info/rfc5715</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7471">[RFC7471]</dt>
        <dd>
<span class="refAuthor">Giacalone, S.</span>, <span class="refAuthor">Ward, D.</span>, <span class="refAuthor">Drake, J.</span>, <span class="refAuthor">Atlas, A.</span>, and <span class="refAuthor">S. Previdi</span>, <span class="refTitle">"OSPF Traffic Engineering (TE) Metric Extensions"</span>, <span class="seriesInfo">RFC 7471</span>, <span class="seriesInfo">DOI 10.17487/RFC7471</span>, <time datetime="2015-03" class="refDate">March 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7471">https://www.rfc-editor.org/info/rfc7471</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8570">[RFC8570]</dt>
        <dd>
<span class="refAuthor">Ginsberg, L., Ed.</span>, <span class="refAuthor">Previdi, S., Ed.</span>, <span class="refAuthor">Giacalone, S.</span>, <span class="refAuthor">Ward, D.</span>, <span class="refAuthor">Drake, J.</span>, and <span class="refAuthor">Q. Wu</span>, <span class="refTitle">"IS-IS Traffic Engineering (TE) Metric Extensions"</span>, <span class="seriesInfo">RFC 8570</span>, <span class="seriesInfo">DOI 10.17487/RFC8570</span>, <time datetime="2019-03" class="refDate">March 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8570">https://www.rfc-editor.org/info/rfc8570</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9346">[RFC9346]</dt>
        <dd>
<span class="refAuthor">Chen, M.</span>, <span class="refAuthor">Ginsberg, L.</span>, <span class="refAuthor">Previdi, S.</span>, and <span class="refAuthor">D. Xiaodong</span>, <span class="refTitle">"IS-IS Extensions in Support of Inter-Autonomous System (AS) MPLS and GMPLS Traffic Engineering"</span>, <span class="seriesInfo">RFC 9346</span>, <span class="seriesInfo">DOI 10.17487/RFC9346</span>, <time datetime="2023-02" class="refDate">February 2023</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9346">https://www.rfc-editor.org/info/rfc9346</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.bashandy-rtgwg-segment-routing-uloop">[SR-LOOP-AVOID]</dt>
      <dd>
<span class="refAuthor">Bashandy, A.</span>, <span class="refAuthor">Filsfils, C.</span>, <span class="refAuthor">Litkowski, S.</span>, <span class="refAuthor">Decraene, B.</span>, <span class="refAuthor">Francois, P.</span>, and <span class="refAuthor">P. Psenak</span>, <span class="refTitle">"Loop avoidance using Segment Routing"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-bashandy-rtgwg-segment-routing-uloop-17</span>, <time datetime="2024-06-29" class="refDate">29 June 2024</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-bashandy-rtgwg-segment-routing-uloop-17">https://datatracker.ietf.org/doc/html/draft-bashandy-rtgwg-segment-routing-uloop-17</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="rules">
<section id="appendix-A">
      <h2 id="name-updated-list-of-rules-for-p">
<a href="#appendix-A" class="section-number selfRef">Appendix A. </a><a href="#name-updated-list-of-rules-for-p" class="section-name selfRef">Updated List of Rules for Pruning Links in Flex-Algorithm Topology</a>
      </h2>
<p id="appendix-A-1">This section lists the entire set of rules to prune links from
        Flex-Algorithm topology during Flexible Algorithm calculation.  It
        includes the original rules defined in <span><a href="https://rfc-editor.org/rfc/rfc9350#section-13" class="relref">Section 13</a> of [<a href="#RFC9350" class="cite xref">RFC9350</a>]</span> as well as the new additions (rules 6 and 7) described in
        this document.<a href="#appendix-A-1" class="pilcrow">¶</a></p>
<p id="appendix-A-2">For all links in the topology:<a href="#appendix-A-2" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="appendix-A-3">
          <li id="appendix-A-3.1">Check if any exclude Administrative Group rule is part of the
          Flex-Algorithm Definition.  If such exclude rule exists, check if
          any color that is part of the exclude rule is also set on the link.
          If such a color is set, the link <span class="bcp14">MUST</span> be pruned from
          the computation.<a href="#appendix-A-3.1" class="pilcrow">¶</a>
</li>
        <li id="appendix-A-3.2">Check if any exclude SRLG rule is part of the Flex-Algorithm
          Definition.  If such exclude rule exists, check if the link is part
          of any SRLG that is also part of the SRLG exclude rule. If the link
          is part of such SRLG, the link <span class="bcp14">MUST</span> be pruned from
          the computation.<a href="#appendix-A-3.2" class="pilcrow">¶</a>
</li>
        <li id="appendix-A-3.3">Check if any include-any Administrative Group rule is part of
          the Flex-Algorithm Definition. If such include-any rule exists,
          check if any color that is part of the include-any rule is also set
          on the link.  If no such color is set, the link <span class="bcp14">MUST</span>
          be pruned from the computation.<a href="#appendix-A-3.3" class="pilcrow">¶</a>
</li>
        <li id="appendix-A-3.4">Check if any include-all Administrative Group rule is part of
          the Flex-Algorithm Definition. If such include-all rule exists,
          check if all colors that are part of the include-all rule are also
          set on the link.  If all such colors are not set on the link, the
          link <span class="bcp14">MUST</span> be pruned from the computation.<a href="#appendix-A-3.4" class="pilcrow">¶</a>
</li>
        <li id="appendix-A-3.5">If the Flex-Algorithm Definition uses something other than the
          IGP metric (<span><a href="https://rfc-editor.org/rfc/rfc9350#section-5" class="relref">Section 5</a> of [<a href="#RFC9350" class="cite xref">RFC9350</a>]</span>),
          and such metric is not advertised for the particular link in a
          topology for which the computation is done, such link
          <span class="bcp14">MUST</span> be pruned from the computation. A metric of
          value 0 <span class="bcp14">MUST NOT</span> be assumed in such a case.<a href="#appendix-A-3.5" class="pilcrow">¶</a>
</li>
        <li id="appendix-A-3.6">Check if any exclude FAEMB rule is part of the Flex-Algorithm
          Definition.  If such exclude rule exists and the link has Maximum
          Link Bandwidth advertised, check if the link bandwidth satisfies the
          FAEMB rule. If the link does not satisfy the FAEMB rule, the link
          <span class="bcp14">MUST</span> be pruned from the Flex-Algorithm
          computation.<a href="#appendix-A-3.6" class="pilcrow">¶</a>
</li>
        <li id="appendix-A-3.7">Check if any exclude FAEMD rule is part of the Flex-Algorithm
          Definition.  If such exclude rule exists and the link has Min
          Unidirectional Link Delay advertised, check if the link delay
          satisfies the FAEMD rule. If the link does not satisfy the FAEMD
          rule, the link <span class="bcp14">MUST</span> be pruned from the Flex-Algorithm
          computation.<a href="#appendix-A-3.7" class="pilcrow">¶</a>
</li>
      </ol>
</section>
</div>
<div id="ack">
<section id="appendix-B">
      <h2 id="name-acknowledgements">
<a href="#name-acknowledgements" class="section-name selfRef">Acknowledgements</a>
      </h2>
<p id="appendix-B-1">Many thanks to <span class="contact-name">Chris Bowers</span>, <span class="contact-name">Krzysztof Szarcowitz</span>, <span class="contact-name">Julian Lucek</span>,
      <span class="contact-name">Ram Santhanakrishnan</span>, <span class="contact-name">Ketan       Talaulikar</span>, and <span class="contact-name">Acee Lindem</span> for discussions and
      input.<a href="#appendix-B-1" class="pilcrow">¶</a></p>
</section>
</div>
<section id="appendix-C">
      <h2 id="name-contributors">
<a href="#name-contributors" class="section-name selfRef">Contributors</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Salih K.A.</span></div>
<div dir="auto" class="left"><span class="org">Juniper Networks</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:salih@juniper.net" class="email">salih@juniper.net</a>
</div>
</address>
</section>
<div id="authors-addresses">
<section id="appendix-D">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Shraddha Hegde</span></div>
<div dir="auto" class="left"><span class="org">Juniper Networks Inc.</span></div>
<div dir="auto" class="left"><span class="street-address">Exora Business Park</span></div>
<div dir="auto" class="left">
<span class="locality">Bangalore</span> <span class="postal-code">560103</span>
</div>
<div dir="auto" class="left"><span class="region">Karnataka</span></div>
<div dir="auto" class="left"><span class="country-name">India</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:shraddha@juniper.net" class="email">shraddha@juniper.net</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">William Britto</span></div>
<div dir="auto" class="left"><span class="org">Juniper Networks Inc.</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:bwilliam@juniper.net" class="email">bwilliam@juniper.net</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Rajesh Shetty</span></div>
<div dir="auto" class="left"><span class="org">Juniper Networks Inc.</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:mrajesh@juniper.net" class="email">mrajesh@juniper.net</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Bruno Decraene</span></div>
<div dir="auto" class="left"><span class="org">Orange</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:bruno.decraene@orange.com" class="email">bruno.decraene@orange.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Peter Psenak</span></div>
<div dir="auto" class="left"><span class="org">Cisco Systems</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:ppsenak@cisco.com" class="email">ppsenak@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Tony Li</span></div>
<div dir="auto" class="left"><span class="org">Juniper Networks Inc.</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:tony.li@tony.li" class="email">tony.li@tony.li</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
