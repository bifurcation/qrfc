<!DOCTYPE html>
<html lang="en" class="RFC">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>RFC 9621: Architecture and Requirements for Transport Services</title>
<meta content="Tommy Pauly" name="author">
<meta content="Brian Trammell" name="author">
<meta content="Anna Brunstrom" name="author">
<meta content="Godred Fairhurst" name="author">
<meta content="Colin S. Perkins" name="author">
<meta content="
       This document describes an architecture that exposes transport protocol features to applications for network communication. The Transport Services Application Programming Interface (API) is based on an asynchronous, event-driven interaction pattern. This API uses Messages for representing data transfer to applications and describes how a Transport Services Implementation can use multiple IP addresses, multiple protocols, and multiple paths and can provide multiple application streams. This document provides the architecture and requirements. It defines common terminology and concepts to be used in definitions of a Transport Services API and a Transport Services Implementation. 
    " name="description">
<meta content="xml2rfc 3.25.0" name="generator">
<meta content="9621" name="rfc.number">
<!-- Generator version information:
  xml2rfc 3.25.0
    Python 3.9.15
    ConfigArgParse 1.5.3
    google-i18n-address 3.0.0
    intervaltree 3.1.0
    Jinja2 3.1.2
    lxml 5.3.0
    platformdirs 3.8.0
    pycountry 22.3.5
    pydyf 0.10.0
    PyYAML 6.0
    requests 2.28.0
    setuptools 44.1.1
    wcwidth 0.2.5
    weasyprint 62.3
-->
<link href="rfc9621.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necessary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

:root {
  --font-sans: 'Noto Sans', Arial, Helvetica, sans-serif;
  --font-serif: 'Noto Serif', 'Times', 'Times New Roman', serif;
  --font-mono: 'Roboto Mono', Courier, 'Courier New', monospace;
}

@viewport {
  zoom: 1.0;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: var(--font-sans);
  line-height: 1.6;
  scroll-behavior: smooth;
  overflow-wrap: break-word;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
svg[font-family~="serif" i], svg [font-family~="serif" i] {
  font-family: var(--font-serif);
}
svg[font-family~="sans-serif" i], svg [font-family~="sans-serif" i] {
  font-family: var(--font-sans);
}
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  display: table;
  border: none;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre {
  background-color: #f9f9f9;
  font-family: var(--font-mono);
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
blockquote > *:last-child {
  margin-bottom: 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}
.xref {
  overflow-wrap: normal;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.refSubseries {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: var(--font-sans);
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  .breakable pre {
    break-inside: auto;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The following is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
.sourcecode pre,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .artwork > pre,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: upper-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background slightly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr {
  break-inside: avoid;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottom margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code, dt tt, dt code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the compact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div.sourcecode:first-child,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type:only-child {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<link href="https://datatracker.ietf.org/doc/draft-ietf-taps-arch-19" rel="prev">
  <link href="https://dx.doi.org/10.17487/rfc9621" rel="alternate">
  <link href="urn:issn:2070-1721" rel="alternate">
  </head>
<body class="xml2rfc">
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 9621</td>
<td class="center">Transport Services Architecture</td>
<td class="right">January 2025</td>
</tr></thead>
<tfoot><tr>
<td class="left">Pauly, et al.</td>
<td class="center">Standards Track</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Engineering Task Force (IETF)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a href="https://www.rfc-editor.org/rfc/rfc9621" class="eref">9621</a></dd>
<dt class="label-category">Category:</dt>
<dd class="category">Standards Track</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2025-01" class="published">January 2025</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">T. Pauly, <span class="editor">Ed.</span>
</div>
<div class="org">Apple Inc.</div>
</div>
<div class="author">
      <div class="author-name">B. Trammell, <span class="editor">Ed.</span>
</div>
<div class="org">Google Switzerland GmbH</div>
</div>
<div class="author">
      <div class="author-name">A. Brunstrom</div>
<div class="org">Karlstad University</div>
</div>
<div class="author">
      <div class="author-name">G. Fairhurst</div>
<div class="org">University of Aberdeen</div>
</div>
<div class="author">
      <div class="author-name">C. S. Perkins</div>
<div class="org">University of Glasgow</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 9621</h1>
<h1 id="title">Architecture and Requirements for Transport Services</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This document describes an architecture that exposes transport protocol features to applications for network communication. The Transport Services Application Programming Interface (API) is based on an asynchronous, event-driven interaction pattern. This API uses Messages for representing data transfer to applications and describes how a Transport Services Implementation can use multiple IP addresses, multiple protocols, and multiple paths and can provide multiple application streams. This document provides the architecture and requirements. It defines common terminology and concepts to be used in definitions of a Transport Services API and a Transport Services Implementation.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This is an Internet Standards Track document.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc9621">https://www.rfc-editor.org/info/rfc9621</a></span>.<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2025 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1"><a href="#section-1" class="auto internal xref">1</a>.  <a href="#name-introduction" class="internal xref">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p id="section-toc.1-1.1.2.1.1" class="keepWithNext"><a href="#section-1.1" class="auto internal xref">1.1</a>.  <a href="#name-background" class="internal xref">Background</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.2">
                <p id="section-toc.1-1.1.2.2.1" class="keepWithNext"><a href="#section-1.2" class="auto internal xref">1.2</a>.  <a href="#name-overview" class="internal xref">Overview</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.3">
                <p id="section-toc.1-1.1.2.3.1" class="keepWithNext"><a href="#section-1.3" class="auto internal xref">1.3</a>.  <a href="#name-specification-of-requiremen" class="internal xref">Specification of Requirements</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.4">
                <p id="section-toc.1-1.1.2.4.1"><a href="#section-1.4" class="auto internal xref">1.4</a>.  <a href="#name-glossary-of-key-terms" class="internal xref">Glossary of Key Terms</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a href="#section-2" class="auto internal xref">2</a>.  <a href="#name-api-model" class="internal xref">API Model</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1"><a href="#section-2.1" class="auto internal xref">2.1</a>.  <a href="#name-event-driven-api" class="internal xref">Event-Driven API</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.2">
                <p id="section-toc.1-1.2.2.2.1"><a href="#section-2.2" class="auto internal xref">2.2</a>.  <a href="#name-data-transfer-using-message" class="internal xref">Data Transfer Using Messages</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3">
                <p id="section-toc.1-1.2.2.3.1"><a href="#section-2.3" class="auto internal xref">2.3</a>.  <a href="#name-flexible-implementation" class="internal xref">Flexible Implementation</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.4">
                <p id="section-toc.1-1.2.2.4.1"><a href="#section-2.4" class="auto internal xref">2.4</a>.  <a href="#name-coexistence" class="internal xref">Coexistence</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="auto internal xref">3</a>.  <a href="#name-api-and-implementation-requ" class="internal xref">API and Implementation Requirements</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a href="#section-3.1" class="auto internal xref">3.1</a>.  <a href="#name-provide-common-apis-for-com" class="internal xref">Provide Common APIs for Common Features</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="auto internal xref">3.2</a>.  <a href="#name-allow-access-to-specialized" class="internal xref">Allow Access to Specialized Features</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a href="#section-3.3" class="auto internal xref">3.3</a>.  <a href="#name-select-between-equivalent-p" class="internal xref">Select Between Equivalent Protocol Stacks</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.4">
                <p id="section-toc.1-1.3.2.4.1"><a href="#section-3.4" class="auto internal xref">3.4</a>.  <a href="#name-maintain-interoperability" class="internal xref">Maintain Interoperability</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.5">
                <p id="section-toc.1-1.3.2.5.1"><a href="#section-3.5" class="auto internal xref">3.5</a>.  <a href="#name-support-monitoring" class="internal xref">Support Monitoring</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="auto internal xref">4</a>.  <a href="#name-transport-services-architec" class="internal xref">Transport Services Architecture and Concepts</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="auto internal xref">4.1</a>.  <a href="#name-transport-services-api-conc" class="internal xref">Transport Services API Concepts</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.1">
                    <p id="section-toc.1-1.4.2.1.2.1.1"><a href="#section-4.1.1" class="auto internal xref">4.1.1</a>.  <a href="#name-endpoint-objects" class="internal xref">Endpoint Objects</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.2">
                    <p id="section-toc.1-1.4.2.1.2.2.1"><a href="#section-4.1.2" class="auto internal xref">4.1.2</a>.  <a href="#name-connections-and-related-obj" class="internal xref">Connections and Related Objects</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.3">
                    <p id="section-toc.1-1.4.2.1.2.3.1"><a href="#section-4.1.3" class="auto internal xref">4.1.3</a>.  <a href="#name-preestablishment" class="internal xref">Preestablishment</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.4">
                    <p id="section-toc.1-1.4.2.1.2.4.1"><a href="#section-4.1.4" class="auto internal xref">4.1.4</a>.  <a href="#name-establishment-actions" class="internal xref">Establishment Actions</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.5">
                    <p id="section-toc.1-1.4.2.1.2.5.1"><a href="#section-4.1.5" class="auto internal xref">4.1.5</a>.  <a href="#name-data-transfer-objects-and-a" class="internal xref">Data Transfer Objects and Actions</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.6">
                    <p id="section-toc.1-1.4.2.1.2.6.1"><a href="#section-4.1.6" class="auto internal xref">4.1.6</a>.  <a href="#name-event-handling" class="internal xref">Event Handling</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.7">
                    <p id="section-toc.1-1.4.2.1.2.7.1"><a href="#section-4.1.7" class="auto internal xref">4.1.7</a>.  <a href="#name-termination-actions" class="internal xref">Termination Actions</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.8">
                    <p id="section-toc.1-1.4.2.1.2.8.1"><a href="#section-4.1.8" class="auto internal xref">4.1.8</a>.  <a href="#name-connection-groups" class="internal xref">Connection Groups</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="auto internal xref">4.2</a>.  <a href="#name-transport-services-implemen" class="internal xref">Transport Services Implementation</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.1">
                    <p id="section-toc.1-1.4.2.2.2.1.1"><a href="#section-4.2.1" class="auto internal xref">4.2.1</a>.  <a href="#name-candidate-gathering" class="internal xref">Candidate Gathering</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.2">
                    <p id="section-toc.1-1.4.2.2.2.2.1"><a href="#section-4.2.2" class="auto internal xref">4.2.2</a>.  <a href="#name-candidate-racing" class="internal xref">Candidate Racing</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.3">
                    <p id="section-toc.1-1.4.2.2.2.3.1"><a href="#section-4.2.3" class="auto internal xref">4.2.3</a>.  <a href="#name-separating-connection-conte" class="internal xref">Separating Connection Contexts</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="auto internal xref">5</a>.  <a href="#name-iana-considerations" class="internal xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="auto internal xref">6</a>.  <a href="#name-security-and-privacy-consid" class="internal xref">Security and Privacy Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="auto internal xref">7</a>.  <a href="#name-references" class="internal xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="auto internal xref">7.1</a>.  <a href="#name-normative-references" class="internal xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a href="#section-7.2" class="auto internal xref">7.2</a>.  <a href="#name-informative-references" class="internal xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#appendix-A" class="auto internal xref"></a><a href="#name-acknowledgements" class="internal xref">Acknowledgements</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#appendix-B" class="auto internal xref"></a><a href="#name-authors-addresses" class="internal xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">Many Application Programming Interfaces (APIs) to provide transport interfaces to networks have been deployed, perhaps the most widely known and imitated being the Socket interface (Socket API) <span>[<a href="#POSIX" class="cite xref">POSIX</a>]</span>.
The naming of objects and functions across these APIs is not consistent and varies, depending on the protocol being used.
For example, the concept of sending and receiving streams of data is the same for both an unencrypted Transmission Control Protocol (TCP) stream and operating on an encrypted Transport Layer Security (TLS) stream <span>[<a href="#RFC8446" class="cite xref">RFC8446</a>]</span> over TCP, but applications cannot use the same socket <code>send()</code> and <code>recv()</code> calls on top of both kinds of connections.
Similarly, terminology for the implementation of transport protocols varies based on the context of the protocols themselves: terms such as "flow", "stream", "message", and "connection" can take on many different meanings.
This variety can lead to confusion when trying to understand the similarities and differences between protocols and how applications can use them effectively.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">The goal of the Transport Services System architecture is to provide a flexible
and reusable system with a common interface for transport protocols.
An application uses the Transport Services System through an abstract Connection (we use capitalization to distinguish these from the underlying connections of, for example, TCP).
This provides
flexible Connection establishment allowing an application to request or require a set of Properties.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">As applications adopt this interface, they will benefit from a wide set of transport features that can evolve over time
and will ensure that the system providing the interface can optimize its behavior based on the application requirements
and network conditions, without requiring changes to the applications. This flexibility enables faster deployment of new features and protocols.<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">This architecture can also support applications by offering racing mechanisms (attempting multiple IP addresses, protocols, or network paths in parallel), which otherwise need to be implemented in each application separately (see <a href="#racing" class="auto internal xref">Section 4.2.2</a>). Racing selects one or more candidates, each with equivalent Protocol Stacks that are used to identify
an optimal combination of a transport protocol instance such as TCP, UDP, or another transport, together with configuration of parameters and
interfaces.
A Connection represents an object that, once established, can be used to send and receive Messages.
A Connection can also be created from another Connection, by cloning, and then forms a part of a Connection Group whose Connections share Properties.<a href="#section-1-4" class="pilcrow">¶</a></p>
<p id="section-1-5">This document was developed in parallel with the specification of the Transport Services API <span>[<a href="#RFC9622" class="cite xref">RFC9622</a>]</span> and implementation guidelines <span>[<a href="#RFC9623" class="cite xref">RFC9623</a>]</span>. Although following the Transport Services Architecture does not require all APIs and implementations to be identical, a common minimal set of features represented in a consistent fashion will enable applications to be easily ported from one implementation of the Transport Services System to another.<a href="#section-1-5" class="pilcrow">¶</a></p>
<div id="background">
<section id="section-1.1">
        <h3 id="name-background">
<a href="#section-1.1" class="section-number selfRef">1.1. </a><a href="#name-background" class="section-name selfRef">Background</a>
        </h3>
<p id="section-1.1-1">The architecture of the Transport Services System is based on the survey of services provided by IETF transport protocols and congestion control mechanisms <span>[<a href="#RFC8095" class="cite xref">RFC8095</a>]</span> and the distilled minimal set of the features offered by transport protocols <span>[<a href="#RFC8923" class="cite xref">RFC8923</a>]</span>. These documents identified common features and patterns across all transport protocols developed thus far in the IETF.<a href="#section-1.1-1" class="pilcrow">¶</a></p>
<p id="section-1.1-2">Since transport security is an increasingly relevant aspect of using transport protocols on the Internet, this document also considers the impact of transport security protocols on the feature set exposed by Transport Services <span>[<a href="#RFC8922" class="cite xref">RFC8922</a>]</span>.<a href="#section-1.1-2" class="pilcrow">¶</a></p>
<p id="section-1.1-3">One of the key insights to come from identifying the minimal set of features provided by transport protocols <span>[<a href="#RFC8923" class="cite xref">RFC8923</a>]</span> was that features either (1) require application interaction and guidance (referred to in that document as Functional or Optimizing Features) or (2) can be handled automatically by an implementation of the Transport Services System (referred to as Automatable Features). Among the identified Functional and Optimizing Features, some are common across all or nearly all transport protocols, while others present features that, if specified, would only be useful with a subset of protocols, but would not harm the functionality of other protocols. For example, some protocols can deliver messages more quickly for applications that do not require messages to arrive in the order in which they were sent. This functionality needs to be explicitly allowed by the application, since reordering messages would be undesirable in many cases.<a href="#section-1.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="overview">
<section id="section-1.2">
        <h3 id="name-overview">
<a href="#section-1.2" class="section-number selfRef">1.2. </a><a href="#name-overview" class="section-name selfRef">Overview</a>
        </h3>
<p id="section-1.2-1">The following sections describe the Transport Services System:<a href="#section-1.2-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1.2-2.1">
            <p id="section-1.2-2.1.1"><a href="#model" class="auto internal xref">Section 2</a> describes how the Transport Services API model differs from that of socket-based APIs. Specifically, it offers asynchronous event-driven interaction, the use of Messages for data transfer, and the flexibility to use different transport protocols and paths without requiring major changes to the application.<a href="#section-1.2-2.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-1.2-2.2">
            <p id="section-1.2-2.2.1"><a href="#requirements" class="auto internal xref">Section 3</a> explains the fundamental requirements for a Transport Services System. These principles are intended to make sure that transport protocols can continue to be enhanced and evolve without requiring significant changes by application developers.<a href="#section-1.2-2.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-1.2-2.3">
            <p id="section-1.2-2.3.1"><a href="#concepts" class="auto internal xref">Section 4</a> presents the Transport Services Implementation and defines the concepts that are used by the API <span>[<a href="#RFC9622" class="cite xref">RFC9622</a>]</span> and described in the implementation guidelines <span>[<a href="#RFC9623" class="cite xref">RFC9623</a>]</span>. This introduces the Preconnection, which allows applications to configure Connection Properties.<a href="#section-1.2-2.3.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="specification-of-requirements">
<section id="section-1.3">
        <h3 id="name-specification-of-requiremen">
<a href="#section-1.3" class="section-number selfRef">1.3. </a><a href="#name-specification-of-requiremen" class="section-name selfRef">Specification of Requirements</a>
        </h3>
<p id="section-1.3-1">The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>",
        "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>",
        "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>",
        "<span class="bcp14">SHOULD NOT</span>",
        "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
        "<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document
        are to be interpreted as described in BCP 14
        <span>[<a href="#RFC2119" class="cite xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="cite xref">RFC8174</a>]</span> when, and only
        when, they appear in all capitals, as shown here.<a href="#section-1.3-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="glossary-of-key-terms">
<section id="section-1.4">
        <h3 id="name-glossary-of-key-terms">
<a href="#section-1.4" class="section-number selfRef">1.4. </a><a href="#name-glossary-of-key-terms" class="section-name selfRef">Glossary of Key Terms</a>
        </h3>
<p id="section-1.4-1">This subsection provides a glossary of key terms related to the Transport Services Architecture. It provides a short description of key terms that are defined later in this document.<a href="#section-1.4-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-1.4-2">
          <dt id="section-1.4-2.1">Application:</dt>
          <dd style="margin-left: 1.5em" id="section-1.4-2.2"> An entity that uses the transport layer for end-to-end delivery of data across the network <span>[<a href="#RFC8095" class="cite xref">RFC8095</a>]</span>.<a href="#section-1.4-2.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.4-2.3">Cached State:</dt>
          <dd style="margin-left: 1.5em" id="section-1.4-2.4"> The state and history that the Transport Services Implementation keeps for each set of the associated Endpoints that have been used previously.<a href="#section-1.4-2.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.4-2.5">Candidate Path:</dt>
          <dd style="margin-left: 1.5em" id="section-1.4-2.6"> One path that is available to an application and conforms to the Selection Properties and System Policy during racing.<a href="#section-1.4-2.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.4-2.7">Candidate Protocol Stack:</dt>
          <dd style="margin-left: 1.5em" id="section-1.4-2.8"> One Protocol Stack that can be used by an application for a Connection during racing.<a href="#section-1.4-2.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.4-2.9">Client:</dt>
          <dd style="margin-left: 1.5em" id="section-1.4-2.10"> The peer responsible for initiating a Connection.<a href="#section-1.4-2.10" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.4-2.11">Clone:</dt>
          <dd style="margin-left: 1.5em" id="section-1.4-2.12"> A Connection that was created from another Connection and that forms a part of a Connection Group.<a href="#section-1.4-2.12" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.4-2.13">Connection:</dt>
          <dd style="margin-left: 1.5em" id="section-1.4-2.14"> Shared state of two or more Endpoints that persists across Messages that are transmitted and received between these Endpoints <span>[<a href="#RFC8303" class="cite xref">RFC8303</a>]</span>. When this document and other Transport Services documents use the capitalized "Connection" term, it refers to a Connection object that is being offered by the Transport Services System, as opposed to more generic uses of the word "connection".<a href="#section-1.4-2.14" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.4-2.15">Connection Context:</dt>
          <dd style="margin-left: 1.5em" id="section-1.4-2.16"> A set of stored Properties across Connections, such as cached protocol state, cached path state, and heuristics, which can include one or more Connection Groups.<a href="#section-1.4-2.16" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.4-2.17">Connection Group:</dt>
          <dd style="margin-left: 1.5em" id="section-1.4-2.18"> A set of Connections that share Properties and caches.<a href="#section-1.4-2.18" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.4-2.19">Connection Property:</dt>
          <dd style="margin-left: 1.5em" id="section-1.4-2.20"> A Transport Property that controls per-Connection behavior of a Transport Services Implementation.<a href="#section-1.4-2.20" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.4-2.21">Endpoint:</dt>
          <dd style="margin-left: 1.5em" id="section-1.4-2.22"> An entity that communicates with one or more other Endpoints using a transport protocol.<a href="#section-1.4-2.22" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.4-2.23">Endpoint Identifier:</dt>
          <dd style="margin-left: 1.5em" id="section-1.4-2.24"> An identifier that specifies one side of a Connection (local or remote), such as a hostname or URL.<a href="#section-1.4-2.24" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.4-2.25">Equivalent Protocol Stacks:</dt>
          <dd style="margin-left: 1.5em" id="section-1.4-2.26"> Protocol Stacks that can be safely swapped or raced in parallel during establishment of a Connection.<a href="#section-1.4-2.26" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.4-2.27">Event:</dt>
          <dd style="margin-left: 1.5em" id="section-1.4-2.28"> A primitive that is invoked by an Endpoint <span>[<a href="#RFC8303" class="cite xref">RFC8303</a>]</span>.<a href="#section-1.4-2.28" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.4-2.29">Framer:</dt>
          <dd style="margin-left: 1.5em" id="section-1.4-2.30"> A data translation layer that can be added to a Connection to define how application-layer Messages are transmitted over a Protocol Stack.<a href="#section-1.4-2.30" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.4-2.31">Local Endpoint:</dt>
          <dd style="margin-left: 1.5em" id="section-1.4-2.32"> The local Endpoint.<a href="#section-1.4-2.32" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.4-2.33">Local Endpoint Identifier:</dt>
          <dd style="margin-left: 1.5em" id="section-1.4-2.34"> A representation of the application's identifier for itself that it uses for a Connection.<a href="#section-1.4-2.34" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.4-2.35">Message:</dt>
          <dd style="margin-left: 1.5em" id="section-1.4-2.36"> A unit of data that can be transferred between two Endpoints over a Connection.<a href="#section-1.4-2.36" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.4-2.37">Message Property:</dt>
          <dd style="margin-left: 1.5em" id="section-1.4-2.38"> A property that can be used to specify details about Message transmission or obtain details about the transmission after receiving a Message.<a href="#section-1.4-2.38" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.4-2.39">Parameter:</dt>
          <dd style="margin-left: 1.5em" id="section-1.4-2.40"> A value passed between an application and a transport protocol by a primitive <span>[<a href="#RFC8303" class="cite xref">RFC8303</a>]</span>.<a href="#section-1.4-2.40" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.4-2.41">Path:</dt>
          <dd style="margin-left: 1.5em" id="section-1.4-2.42"> A representation of an available set of Properties that a Local Endpoint can use to communicate with a Remote Endpoint.<a href="#section-1.4-2.42" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.4-2.43">Peer:</dt>
          <dd style="margin-left: 1.5em" id="section-1.4-2.44"> An Endpoint application party to a Connection.<a href="#section-1.4-2.44" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.4-2.45">Preconnection:</dt>
          <dd style="margin-left: 1.5em" id="section-1.4-2.46"> An object that represents a Connection that has not yet been established.<a href="#section-1.4-2.46" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.4-2.47">Preference:</dt>
          <dd style="margin-left: 1.5em" id="section-1.4-2.48"> A preference for prohibiting, avoiding, ignoring, preferring, or requiring a specific transport feature.<a href="#section-1.4-2.48" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.4-2.49">Primitive:</dt>
          <dd style="margin-left: 1.5em" id="section-1.4-2.50"> A function call that is used to locally communicate between an application and an Endpoint, which is related to one or more transport features <span>[<a href="#RFC8303" class="cite xref">RFC8303</a>]</span>.<a href="#section-1.4-2.50" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.4-2.51">Protocol Instance:</dt>
          <dd style="margin-left: 1.5em" id="section-1.4-2.52"> A single instance of one protocol, including any state necessary to establish connectivity or send and receive Messages.<a href="#section-1.4-2.52" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.4-2.53">Protocol Stack:</dt>
          <dd style="margin-left: 1.5em" id="section-1.4-2.54"> A set of protocol instances that are used together to establish connectivity or send and receive Messages.<a href="#section-1.4-2.54" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.4-2.55">Racing:</dt>
          <dd style="margin-left: 1.5em" id="section-1.4-2.56"> The attempt to select between multiple Protocol Stacks based on the Selection and Connection Properties communicated by the application, along with any Security Parameters.<a href="#section-1.4-2.56" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.4-2.57">Remote Endpoint:</dt>
          <dd style="margin-left: 1.5em" id="section-1.4-2.58"> The peer that a Local Endpoint can communicate with when a Connection is established.<a href="#section-1.4-2.58" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.4-2.59">Remote Endpoint Identifier:</dt>
          <dd style="margin-left: 1.5em" id="section-1.4-2.60"> A representation of the application's identifier for a peer that can participate in establishing a Connection.<a href="#section-1.4-2.60" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.4-2.61">Rendezvous:</dt>
          <dd style="margin-left: 1.5em" id="section-1.4-2.62"> The action of establishing a peer-to-peer Connection with a Remote Endpoint.<a href="#section-1.4-2.62" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.4-2.63">Security Parameters:</dt>
          <dd style="margin-left: 1.5em" id="section-1.4-2.64"> Parameters that define an application's requirements for authentication and encryption on a Connection.<a href="#section-1.4-2.64" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.4-2.65">Selection Property:</dt>
          <dd style="margin-left: 1.5em" id="section-1.4-2.66"> A Transport Property that can be set to influence the selection of paths between the Local and Remote Endpoints.<a href="#section-1.4-2.66" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.4-2.67">Server:</dt>
          <dd style="margin-left: 1.5em" id="section-1.4-2.68"> The peer responsible for responding to a Connection initiation.<a href="#section-1.4-2.68" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.4-2.69">Socket:</dt>
          <dd style="margin-left: 1.5em" id="section-1.4-2.70"> The combination of a destination IP address and a destination port number <span>[<a href="#RFC8303" class="cite xref">RFC8303</a>]</span>.<a href="#section-1.4-2.70" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.4-2.71">System Policy:</dt>
          <dd style="margin-left: 1.5em" id="section-1.4-2.72"> The input from an operating system or other global preferences that can constrain or influence how an implementation will gather Candidate Paths and Candidate Protocol Stacks and race the candidates during establishment of a Connection.<a href="#section-1.4-2.72" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.4-2.73">Transport Feature:</dt>
          <dd style="margin-left: 1.5em" id="section-1.4-2.74"> A specific end-to-end feature that the transport layer provides to an application.<a href="#section-1.4-2.74" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.4-2.75">Transport Property:</dt>
          <dd style="margin-left: 1.5em" id="section-1.4-2.76"> A property of a transport protocol and the services it provides <span>[<a href="#RFC8095" class="cite xref">RFC8095</a>]</span>.<a href="#section-1.4-2.76" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.4-2.77">Transport Service:</dt>
          <dd style="margin-left: 1.5em" id="section-1.4-2.78"> A set of transport features, not associated with any given framing protocol, that provides a complete service to an application.<a href="#section-1.4-2.78" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.4-2.79">Transport Services API:</dt>
          <dd style="margin-left: 1.5em" id="section-1.4-2.80">The abstract interface <span>[<a href="#RFC9622" class="cite xref">RFC9622</a>]</span> to a Transport Services Implementation <span>[<a href="#RFC9623" class="cite xref">RFC9623</a>]</span>.<a href="#section-1.4-2.80" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.4-2.81">Transport Services Implementation:</dt>
          <dd style="margin-left: 1.5em" id="section-1.4-2.82"> All objects and protocol instances used internally to a system or library to implement the functionality needed to provide a transport service across a network, as required by the abstract interface.<a href="#section-1.4-2.82" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.4-2.83">Transport Services System:</dt>
          <dd style="margin-left: 1.5em" id="section-1.4-2.84"> The Transport Services Implementation and the Transport Services API.<a href="#section-1.4-2.84" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
<div id="model">
<section id="section-2">
      <h2 id="name-api-model">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-api-model" class="section-name selfRef">API Model</a>
      </h2>
<p id="section-2-1">The model of using sockets can be represented as follows (see <a href="#fig-sockets" class="auto internal xref">Figure 1</a>):<a href="#section-2-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2-2.1">
          <p id="section-2-2.1.1">Applications create connections and transfer data using the Socket API.<a href="#section-2-2.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-2-2.2">
          <p id="section-2-2.2.1">The Socket API provides the interface to the implementations of TCP and UDP
(typically implemented in the system's kernel).<a href="#section-2-2.2.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-2-2.3">
          <p id="section-2-2.3.1">TCP and UDP in the kernel send and receive data over the available network-layer interfaces.<a href="#section-2-2.3.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-2-2.4">
          <p id="section-2-2.4.1">Sockets are bound directly to transport-layer and network-layer addresses,
obtained via a separate resolution step, usually performed by a
system-provided DNS stub resolver.<a href="#section-2-2.4.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<span id="name-socket-api-model"></span><div id="fig-sockets">
<figure id="figure-1">
        <div class="alignLeft art-text artwork" id="section-2-3.1">
<pre>
+-----------------------------------------------------+
|                    Application                      |
+-----------------------------------------------------+
        |                 |                  |
  +------------+     +------------+    +--------------+
  |  DNS Stub  |     | Stream API |    | Datagram API |
  |  Resolver  |     +------------+    +--------------+
  +------------+          |                  |
                    +---------------------------------+
                    |    TCP                UDP       |
                    |    Kernel Networking Stack      |
                    +---------------------------------+
                                    |
+-----------------------------------------------------+
|               Network-Layer Interface               |
+-----------------------------------------------------+
</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-socket-api-model" class="selfRef">Socket API Model</a>
        </figcaption></figure>
</div>
<p id="section-2-4">The architecture of the Transport Services System is an evolution of this general model of interaction. It both modernizes the API presented to applications by the transport layer and enriches the capabilities of the Transport Services Implementation below this API.<a href="#section-2-4" class="pilcrow">¶</a></p>
<p id="section-2-5">The Transport Services API <span>[<a href="#RFC9622" class="cite xref">RFC9622</a>]</span> defines the interface for an application to create Connections and transfer data. It combines interfaces for multiple interaction patterns into a unified whole (see <a href="#fig-taps" class="auto internal xref">Figure 2</a>).
This offers generic functions and also the protocol-specific mappings for TCP, UDP, UDP-Lite, and other protocol layers. These mappings are extensible. Future documents could define similar mappings for new layers and for other transport protocols, such as QUIC <span>[<a href="#RFC9000" class="cite xref">RFC9000</a>]</span>.<a href="#section-2-5" class="pilcrow">¶</a></p>
<span id="name-transport-services-api-mode"></span><div id="fig-taps">
<figure id="figure-2">
        <div class="alignLeft art-text artwork" id="section-2-6.1">
<pre>
+-----------------------------------------------------+
|                    Application                      |
+-----------------------------------------------------+
                          |
+-----------------------------------------------------+
|              Transport Services API                 |
+-----------------------------------------------------+
                          |
+-----------------------------------------------------+
|          Transport Services Implementation          |
|  (Using DNS, UDP, TCP, SCTP, DCCP, TLS, QUIC, etc.) |
+-----------------------------------------------------+
                          |
+-----------------------------------------------------+
|               Network-Layer Interface               |
+-----------------------------------------------------+
</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-transport-services-api-mode" class="selfRef">Transport Services API Model</a>
        </figcaption></figure>
</div>
<p id="section-2-7">By combining name resolution with Connection establishment and data transfer in a single API, it allows for more flexible implementations to provide path and transport protocol agility on the application's behalf.<a href="#section-2-7" class="pilcrow">¶</a></p>
<p id="section-2-8">The Transport Services Implementation <span>[<a href="#RFC9623" class="cite xref">RFC9623</a>]</span> is the component of the Transport Services System that implements the transport-layer protocols and other functions needed to send and receive data. It is responsible for mapping the API to a specific available transport Protocol Stack and managing the available network interfaces and paths.<a href="#section-2-8" class="pilcrow">¶</a></p>
<p id="section-2-9">There are key differences between the architecture of the Transport Services System and the architecture of the Socket API. The API of the Transport Services System:<a href="#section-2-9" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2-10.1">is asynchronous and event-driven;<a href="#section-2-10.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-2-10.2">uses Messages for representing data transfer to applications;<a href="#section-2-10.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-2-10.3">describes how a Transport Services Implementation can resolve Endpoint Identifiers to use multiple IP addresses, multiple protocols, and multiple paths and to provide multiple application streams.<a href="#section-2-10.3" class="pilcrow">¶</a>
</li>
      </ul>
<div id="event-driven-api">
<section id="section-2.1">
        <h3 id="name-event-driven-api">
<a href="#section-2.1" class="section-number selfRef">2.1. </a><a href="#name-event-driven-api" class="section-name selfRef">Event-Driven API</a>
        </h3>
<p id="section-2.1-1">Originally, the Socket API presented a blocking interface for establishing connections and transferring data. However, most modern applications interact with the network asynchronously. Emulation of an asynchronous interface using the Socket API can use a try-and-fail model: if the application wants to read but data has not yet been received from the peer, the call to read will fail. The application then waits and can try again later.<a href="#section-2.1-1" class="pilcrow">¶</a></p>
<p id="section-2.1-2">In contrast to the Socket API, all interactions using the Transport Services API are expected to be asynchronous. The API is defined around an event-driven model (see <a href="#events" class="auto internal xref">Section 4.1.6</a>), which models this asynchronous interaction. Other forms of asynchronous communication could also be available to applications, depending on the platform implementing the interface.<a href="#section-2.1-2" class="pilcrow">¶</a></p>
<p id="section-2.1-3">For example, when an application that uses the Transport Services API wants to receive data, it issues an asynchronous call to receive new data from the Connection. When delivered data becomes available, this data is delivered to the application using asynchronous events that contain the data. Error handling is also asynchronous, resulting in asynchronous error events.<a href="#section-2.1-3" class="pilcrow">¶</a></p>
<p id="section-2.1-4">This API also delivers events regarding the lifetime of a connection and changes in the available network links, which were not previously made explicit in the Socket API.<a href="#section-2.1-4" class="pilcrow">¶</a></p>
<p id="section-2.1-5">Using asynchronous events allows for a more natural interaction model when establishing connections and transferring data. Events in time more closely reflect the nature of interactions over networks, as opposed to how the Socket API represents network resources as file system objects that may be temporarily unavailable.<a href="#section-2.1-5" class="pilcrow">¶</a></p>
<p id="section-2.1-6">Separate from events, callbacks are also provided for asynchronous interactions with the Transport Services API that are not directly related to events on the network or network interfaces.<a href="#section-2.1-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="data-transfer-using-messages">
<section id="section-2.2">
        <h3 id="name-data-transfer-using-message">
<a href="#section-2.2" class="section-number selfRef">2.2. </a><a href="#name-data-transfer-using-message" class="section-name selfRef">Data Transfer Using Messages</a>
        </h3>
<p id="section-2.2-1">The Socket API provides a message interface for datagram protocols like UDP but provides an unstructured stream abstraction for TCP. While TCP has the ability to send and receive data as a byte-stream, most applications need to interpret structure within this byte-stream. For example, HTTP/1.1 uses character delimiters to segment messages over a byte-stream <span>[<a href="#RFC9112" class="cite xref">RFC9112</a>]</span>; TLS record headers carry a version, content type, and length <span>[<a href="#RFC8446" class="cite xref">RFC8446</a>]</span>; and HTTP/2 uses frames to segment its headers and bodies <span>[<a href="#RFC9113" class="cite xref">RFC9113</a>]</span>.<a href="#section-2.2-1" class="pilcrow">¶</a></p>
<p id="section-2.2-2">The Transport Services API represents data as Messages, so that it more closely matches the way applications use the network. A Message-based abstraction provides many benefits, such as:<a href="#section-2.2-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.2-3.1">
            <p id="section-2.2-3.1.1">providing additional information to the Protocol Stack;<a href="#section-2.2-3.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-2.2-3.2">
            <p id="section-2.2-3.2.1">the ability to associate deadlines with Messages, for applications that care about timing;<a href="#section-2.2-3.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-2.2-3.3">
            <p id="section-2.2-3.3.1">the ability to control reliability, which Messages to retransmit when there is packet loss, and how best to make use of the data that arrived;<a href="#section-2.2-3.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-2.2-3.4">
            <p id="section-2.2-3.4.1">the ability to automatically assign Messages and connections to underlying transport connections to utilize multistreaming and create Pooled Connections.<a href="#section-2.2-3.4.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-2.2-4">Allowing applications to interact with Messages is backward-compatible with existing protocols and APIs because it does not change the wire format of any protocol. Instead, it provides the Protocol Stack with additional information to allow it to make better use of modern transport protocols, while simplifying the application's role in parsing data. For protocols that inherently use a streaming abstraction, Framers (<a href="#datatransfer" class="auto internal xref">Section 4.1.5</a>) bridge the gap between the two abstractions.<a href="#section-2.2-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="flexible-implementation">
<section id="section-2.3">
        <h3 id="name-flexible-implementation">
<a href="#section-2.3" class="section-number selfRef">2.3. </a><a href="#name-flexible-implementation" class="section-name selfRef">Flexible Implementation</a>
        </h3>
<p id="section-2.3-1">The Socket API for protocols like TCP is generally limited to connecting to a single address over a single interface (IP source address).
It also presents a single stream to the application. Software layers built upon this API often propagate this limitation of a single-address single-stream model. The Transport Services Architecture is designed to:<a href="#section-2.3-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.3-2.1">
            <p id="section-2.3-2.1.1">handle multiple candidate endpoints, protocols, and paths;<a href="#section-2.3-2.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-2.3-2.2">
            <p id="section-2.3-2.2.1">support candidate protocol racing to select the most optimal stack in each situation;<a href="#section-2.3-2.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-2.3-2.3">
            <p id="section-2.3-2.3.1">support multipath and multistreaming protocols;<a href="#section-2.3-2.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-2.3-2.4">
            <p id="section-2.3-2.4.1">provide state caching and application control over it.<a href="#section-2.3-2.4.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-2.3-3">A Transport Services Implementation is intended to be flexible at Connection establishment time, considering many different options and trying to select the most optimal combinations by racing them and measuring the results (see Sections <a href="#gathering" class="auto internal xref">4.2.1</a> and <a href="#racing" class="auto internal xref">4.2.2</a>). This requires applications to specify identifiers for the Local and Remote Endpoint that are at a higher level than IP addresses, such as a hostname or URL.  These identifiers are used by a Transport Services Implementation for resolution, path selection, and racing. An implementation can further implement fallback mechanisms if connection establishment for one protocol fails or performance is determined to be unsatisfactory.<a href="#section-2.3-3" class="pilcrow">¶</a></p>
<p id="section-2.3-4">Information used in Connection establishment (e.g., cryptographic resumption tokens, information about usability of certain protocols on the path, results of racing in previous connections) is cached in the Transport Services Implementation. Applications have control over whether this information is used for a specific establishment, in order to allow trade-offs between efficiency and linkability.<a href="#section-2.3-4" class="pilcrow">¶</a></p>
<p id="section-2.3-5">Flexibility after Connection establishment is also important. Transport protocols that can migrate between multiple network-layer interfaces need to be able to process and react to interface changes. Protocols that support multiple application-layer streams need to support initiating and receiving new streams using existing connections.<a href="#section-2.3-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="coexistence">
<section id="section-2.4">
        <h3 id="name-coexistence">
<a href="#section-2.4" class="section-number selfRef">2.4. </a><a href="#name-coexistence" class="section-name selfRef">Coexistence</a>
        </h3>
<p id="section-2.4-1">While the architecture of the Transport Services System is designed as an enhanced replacement for the Socket API, it need not replace it entirely on a system or platform; indeed, coexistence has been recommended for incremental deployability <span>[<a href="#RFC8170" class="cite xref">RFC8170</a>]</span>. The architecture is therefore designed such that it can run alongside (or, indeed, on top of) an existing Socket API implementation; only applications built on the Transport Services API are managed by the system's Transport Services Implementation.<a href="#section-2.4-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="requirements">
<section id="section-3">
      <h2 id="name-api-and-implementation-requ">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-api-and-implementation-requ" class="section-name selfRef">API and Implementation Requirements</a>
      </h2>
<p id="section-3-1">One goal of the architecture is to redefine the interface between applications and transports in a way that allows the transport layer to evolve and improve without fundamentally changing the contract with the application. This requires careful consideration of how to expose the capabilities of protocols. The architecture also encompasses system policies that can influence and inform how transport protocols use a network path or interface.<a href="#section-3-1" class="pilcrow">¶</a></p>
<p id="section-3-2">There are several ways the Transport Services System can offer flexibility to an application.  It can:<a href="#section-3-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3-3.1">provide access to transport protocols and protocol features;<a href="#section-3-3.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-3-3.2">use these protocols across multiple paths that could have different performance and functional characteristics;<a href="#section-3-3.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-3-3.3">communicate with different remote systems to optimize performance, robustness to failure, or some other metric.<a href="#section-3-3.3" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-3-4">Beyond these, if the Transport Services API remains the same over time, new protocols and features can be added to the Transport Services Implementation without requiring changes in applications for adoption. Similarly, this can provide a common basis for utilizing information about a network path or interface, enabling evolution below the transport layer.<a href="#section-3-4" class="pilcrow">¶</a></p>
<p id="section-3-5">The normative requirements described in this section allow Transport Services APIs and Transport Services Implementations to provide this functionality without causing incompatibility or introducing security vulnerabilities.<a href="#section-3-5" class="pilcrow">¶</a></p>
<div id="provide-common-apis-for-common-features">
<section id="section-3.1">
        <h3 id="name-provide-common-apis-for-com">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-provide-common-apis-for-com" class="section-name selfRef">Provide Common APIs for Common Features</a>
        </h3>
<p id="section-3.1-1">Any functionality that is common across multiple transport protocols <span class="bcp14">SHOULD</span> be made accessible through a unified set of calls using the Transport Services API. As a baseline, any Transport Services API <span class="bcp14">SHOULD</span> allow access to the minimal set of features offered by transport protocols <span>[<a href="#RFC8923" class="cite xref">RFC8923</a>]</span>. If that minimal set is updated or expanded in the future, the Transport Services API ought to be extended to match.<a href="#section-3.1-1" class="pilcrow">¶</a></p>
<p id="section-3.1-2">An application can specify constraints and preferences for the protocols, features, and network interfaces it will use via Properties. Properties are used by an application to declare its preferences for how the transport service should operate at each stage in the lifetime of a connection. Transport Properties are subdivided into the following:<a href="#section-3.1-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.1-3.1">Selection Properties, which specify which paths and Protocol Stacks can be used and are preferred by the application;<a href="#section-3.1-3.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.1-3.2">Connection Properties, which inform decisions made during Connection establishment and fine-tune the established connection; and<a href="#section-3.1-3.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.1-3.3">Message Properties, which can be set on individual Messages.<a href="#section-3.1-3.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-3.1-4">It is <span class="bcp14">RECOMMENDED</span> that the Transport Services API offer Properties that are common to multiple transport protocols. This enables a Transport Services System to appropriately select between protocols that offer equivalent features. Similarly, it is <span class="bcp14">RECOMMENDED</span> that the Properties offered by the Transport Services API be applicable to a variety of network-layer interfaces and paths, to permit racing of different network paths without affecting the applications using the API. Each is expected to have a default value.<a href="#section-3.1-4" class="pilcrow">¶</a></p>
<p id="section-3.1-5">It is <span class="bcp14">RECOMMENDED</span> that the default values for Properties be selected to ensure correctness for the widest set of applications, while providing the widest set of options for selection. For example, since both applications that require reliability and those that do not require reliability can function correctly when a protocol provides reliability, reliability ought to be enabled by default. As another example, the default value for a Property regarding the selection of network interfaces ought to permit as many interfaces as possible.<a href="#section-3.1-5" class="pilcrow">¶</a></p>
<p id="section-3.1-6">Applications using the Transport Services API need to be designed to be robust to the automated selection provided by the Transport Services System. This automated selection is constrained by the preferences expressed by the application and requires applications to explicitly set Properties that define any necessary constraints on protocol, path, and interface selection.<a href="#section-3.1-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="allow-access-to-specialized-features">
<section id="section-3.2">
        <h3 id="name-allow-access-to-specialized">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-allow-access-to-specialized" class="section-name selfRef">Allow Access to Specialized Features</a>
        </h3>
<p id="section-3.2-1">There are applications that will need to control fine-grained details of transport protocols to optimize their behavior and ensure compatibility with remote systems. It is therefore <span class="bcp14">RECOMMENDED</span> that the Transport Services API and the Transport Services Implementation permit more specialized protocol features to be used.<a href="#section-3.2-1" class="pilcrow">¶</a></p>
<p id="section-3.2-2">Some specialized features could be needed by an application only when using a specific protocol and not when using others. For example, if an application is using TCP, it could require control over the User Timeout Option for TCP <span>[<a href="#RFC5482" class="cite xref">RFC5482</a>]</span>. Such features would not take effect for other transport protocols. In such cases, the API ought to expose the features in such a way that they take effect when a particular protocol is selected but do not imply that only that protocol could be used. For example, if the API allows an application to specify a preference for using the User Timeout Option, communication would not fail when a protocol such as UDP is selected.<a href="#section-3.2-2" class="pilcrow">¶</a></p>
<p id="section-3.2-3">Other specialized features, however, can also be strictly required by an application and thus further constrain the set of protocols that can be used. For example, if an application requires support for automatic handover or failover for a connection, only Protocol Stacks that provide this feature are eligible to be used, e.g., Protocol Stacks that include a multipath protocol or a protocol that supports connection migration. A Transport Services API needs to allow applications to define such requirements and constrain the options available to a Transport Services Implementation. Since such options are not part of the core/common features, it will generally be simple for an application to modify its set of constraints and change the set of allowable protocol features without changing the core implementation.<a href="#section-3.2-3" class="pilcrow">¶</a></p>
<p id="section-3.2-4">To control these specialized features, the application can declare its preference: whether the presence of a specific feature is prohibited, should be avoided, can be ignored, is preferred, or is required in the preestablishment phase. An implementation of a Transport Services API would honor this preference and allow the application to query the availability of each specialized feature after successful establishment.<a href="#section-3.2-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="equivalence">
<section id="section-3.3">
        <h3 id="name-select-between-equivalent-p">
<a href="#section-3.3" class="section-number selfRef">3.3. </a><a href="#name-select-between-equivalent-p" class="section-name selfRef">Select Between Equivalent Protocol Stacks</a>
        </h3>
<p id="section-3.3-1">A Transport Services Implementation can attempt to use, and select between, multiple Protocol Stacks based on the Selection and Connection Properties communicated by the application, along with any Security Parameters. The implementation can only attempt to use multiple Protocol Stacks when they are "equivalent", which means that the stacks can provide the same Transport Properties and interface expectations as requested by the application. Equivalent Protocol Stacks can be safely swapped or raced in parallel (see <a href="#racing" class="auto internal xref">Section 4.2.2</a>) during Connection establishment.<a href="#section-3.3-1" class="pilcrow">¶</a></p>
<p id="section-3.3-2">The following two examples show non-equivalent Protocol Stacks:<a href="#section-3.3-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.3-3.1">
            <p id="section-3.3-3.1.1">If the application requires preservation of Message boundaries, a Protocol Stack that runs UDP as the top-level interface to the application is not equivalent to a Protocol Stack that runs TCP as the top-level interface. A UDP stack would allow an application to read out Message boundaries based on datagrams sent from the remote system, whereas TCP does not preserve Message boundaries on its own but needs a framing protocol on top to determine Message boundaries.<a href="#section-3.3-3.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-3.3-3.2">
            <p id="section-3.3-3.2.1">If the application specifies that it requires reliable transmission of data, then a Protocol Stack using UDP without any reliability layer on top would not be allowed to replace a Protocol Stack using TCP.<a href="#section-3.3-3.2.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-3.3-4">The following example shows equivalent Protocol Stacks:<a href="#section-3.3-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.3-5.1">
            <p id="section-3.3-5.1.1">If the application does not require reliable transmission of data, then a Protocol Stack that adds reliability could be regarded as an equivalent Protocol Stack as long as providing this would not conflict with any other application-requested Properties.<a href="#section-3.3-5.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-3.3-6">A Transport Services Implementation can race different security
protocols, e.g., if the System Policy is explicitly configured to consider them equivalent.
A Transport Services Implementation <span class="bcp14">SHOULD</span> only race Protocol Stacks where the transport security protocols within the stacks are identical.
To ensure that security protocols are not incorrectly swapped, a Transport Services Implementation <span class="bcp14">MUST</span> only select Protocol Stacks that meet application requirements <span>[<a href="#RFC8922" class="cite xref">RFC8922</a>]</span>.
A Transport Services Implementation <span class="bcp14">MUST NOT</span> automatically fall back from secure protocols to insecure protocols or fall back to weaker versions of secure protocols.
A Transport Services Implementation <span class="bcp14">MAY</span> allow applications to explicitly specify which versions of a protocol ought to be permitted, e.g., to allow a minimum version of TLS 1.2 if TLS 1.3 is not available.<a href="#section-3.3-6" class="pilcrow">¶</a></p>
<p id="section-3.3-7">A Transport Services Implementation <span class="bcp14">MAY</span> specify security Properties relating to how the system operates (e.g., requirements, prohibitions, and preferences for the use of DNS Security Extensions (DNSSEC) or DNS over HTTPS (DoH)).<a href="#section-3.3-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="maintain-interoperability">
<section id="section-3.4">
        <h3 id="name-maintain-interoperability">
<a href="#section-3.4" class="section-number selfRef">3.4. </a><a href="#name-maintain-interoperability" class="section-name selfRef">Maintain Interoperability</a>
        </h3>
<p id="section-3.4-1">It is important to note that neither the Transport Services API <span>[<a href="#RFC9622" class="cite xref">RFC9622</a>]</span> nor the guidelines for implementation of the Transport Services System <span>[<a href="#RFC9623" class="cite xref">RFC9623</a>]</span> define new protocols or protocol capabilities that affect what is communicated across the network. A Transport Services System <span class="bcp14">MUST NOT</span> require that a peer on the other side of a connection use the same API or implementation. A Transport Services Implementation acting as a connection initiator is able to communicate with any existing Endpoint that implements the transport protocol(s) and all the required Properties selected. Similarly, a Transport Services Implementation acting as a Listener can receive connections for any protocol that is supported from an existing initiator that implements the protocol, independently of whether or not the initiator uses the Transport Services System.<a href="#section-3.4-1" class="pilcrow">¶</a></p>
<p id="section-3.4-2">A Transport Services Implementation makes decisions that select protocols and interfaces. In normal use, a given version of a Transport Services System <span class="bcp14">SHOULD</span> result in consistent protocol and interface selection decisions for the same network conditions, given the same set of Properties. This is intended to provide predictable outcomes to the application using the API.<a href="#section-3.4-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="support-monitoring">
<section id="section-3.5">
        <h3 id="name-support-monitoring">
<a href="#section-3.5" class="section-number selfRef">3.5. </a><a href="#name-support-monitoring" class="section-name selfRef">Support Monitoring</a>
        </h3>
<p id="section-3.5-1">The Transport Services API increases the layer of abstraction for applications, and it enables greater automation below the API. Such increased
abstraction comes at the cost of increased complexity when application programmers, users, or system administrators
try to understand why any issues and failures may be happening.
A Transport Services System should therefore offer monitoring functions that
provide relevant debug and diagnostics information. For example, such monitoring functions could indicate the protocol(s) in use, the
number of open connections per protocol, and any statistics that these protocols may offer.<a href="#section-3.5-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="concepts">
<section id="section-4">
      <h2 id="name-transport-services-architec">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-transport-services-architec" class="section-name selfRef">Transport Services Architecture and Concepts</a>
      </h2>
<p id="section-4-1">This section describes the architecture non-normatively and explains the operation of a Transport Services Implementation. The concepts defined in this document are intended primarily for use in the documents and specifications that describe the Transport Services System. This includes the architecture, the Transport Services API, and the associated Transport Services Implementation. While the specific terminology can be used in some implementations, it is expected that there will remain a variety of terms used by running code.<a href="#section-4-1" class="pilcrow">¶</a></p>
<p id="section-4-2">The architecture divides the concepts for the Transport Services System into two categories:<a href="#section-4-2" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-4-3">
<li id="section-4-3.1">
          <p id="section-4-3.1.1">API concepts, which are intended to be exposed to applications; and<a href="#section-4-3.1.1" class="pilcrow">¶</a></p>
</li>
        <li id="section-4-3.2">
          <p id="section-4-3.2.1">System-implementation concepts, which are intended to be internally used by a Transport Services Implementation.<a href="#section-4-3.2.1" class="pilcrow">¶</a></p>
</li>
      </ol>
<p id="section-4-4">The following diagram summarizes the top-level concepts in a Transport Services System and how they relate to one another.<a href="#section-4-4" class="pilcrow">¶</a></p>
<span id="name-concepts-and-relationships-"></span><div id="fig-abstractions">
<figure id="figure-3">
        <div class="alignLeft art-text artwork" id="section-4-5.1">
<pre>
  +-----------------------------------------------------+
  |                    Application                      |
  +-+----------------+------^-------+--------^----------+
    |                |      |       |        |
  pre-               |     data     |      events
  establishment      |   transfer   |        |
    |        establishment  |   termination  |
    |                |      |       |        |
    |             +--v------v-------v+       |
  +-v-------------+   Connection(s)  +-------+----------+
  |  Transport    +--------+---------+                  |
  |  Services              |                            |
  |  API                   |  +-------------+           |
  +------------------------+--+  Framer(s)  |-----------+
                           |  +-------------+
  +------------------------|----------------------------+
  |  Transport             |                            |
  |  System                |        +-----------------+ |
  |  Implementation        |        |     Cached      | |
  |                        |        |      State      | |
  |  (Candidate Gathering) |        +-----------------+ |
  |                        |                            |
  |  (Candidate Racing)    |        +-----------------+ |
  |                        |        |     System      | |
  |                        |        |     Policy      | |
  |             +----------v-----+  +-----------------+ |
  |             |    Protocol    |                      |
  +-------------+    Stack(s)    +----------------------+
                +-------+--------+
                        V
+-----------------------------------------------------+
|               Network-Layer Interface               |
+-----------------------------------------------------+
</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a>:
<a href="#name-concepts-and-relationships-" class="selfRef">Concepts and Relationships in the Architecture of the Transport Services System</a>
        </figcaption></figure>
</div>
<p id="section-4-6">The Transport Services Implementation includes the Cached State and System Policy.<a href="#section-4-6" class="pilcrow">¶</a></p>
<p id="section-4-7">The System Policy provides input from an operating system or other global preferences that can constrain or influence how an implementation will gather Candidate Paths and Protocol Stacks and race the candidates when establishing a Connection. As the details of System Policy configuration and enforcement are largely dependent on the platform and implementation and do not affect application-level interoperability, the Transport Services API <span>[<a href="#RFC9622" class="cite xref">RFC9622</a>]</span> does not specify an interface for reading or writing System Policy.<a href="#section-4-7" class="pilcrow">¶</a></p>
<p id="section-4-8">The Cached State is the state and history that the Transport Services Implementation keeps for each set of associated Endpoints that have previously been used. An application ought to explicitly request any required or preferred Properties via the Transport Services API.<a href="#section-4-8" class="pilcrow">¶</a></p>
<div id="transport-services-api-concepts">
<section id="section-4.1">
        <h3 id="name-transport-services-api-conc">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-transport-services-api-conc" class="section-name selfRef">Transport Services API Concepts</a>
        </h3>
<p id="section-4.1-1">Fundamentally, a Transport Services API needs to provide Connection objects (<a href="#objects" class="auto internal xref">Section 4.1.2</a>) that allow applications to establish communication and then send and receive data. These could be exposed as handles or referenced objects, depending on the chosen programming language.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1-2">Beyond the Connection objects, there are several high-level groups of actions that any Transport Services API needs to provide:<a href="#section-4.1-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.1-3.1">
            <p id="section-4.1-3.1.1">Preestablishment (<a href="#preestablishment" class="auto internal xref">Section 4.1.3</a>) encompasses the Properties that an application can pass to describe its intent, requirements, prohibitions, and preferences for its networking operations. These Properties apply to multiple transport protocols, unless otherwise specified. Properties specified during preestablishment can have a large impact on the rest of the interface: they modify how establishment occurs, influence the expectations around data transfer, and determine the set of events that will be supported.<a href="#section-4.1-3.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.1-3.2">
            <p id="section-4.1-3.2.1">Establishment (<a href="#establishment" class="auto internal xref">Section 4.1.4</a>) focuses on the actions that an application takes on the Connection objects to prepare for data transfer.<a href="#section-4.1-3.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.1-3.3">
            <p id="section-4.1-3.3.1">Data transfer (<a href="#datatransfer" class="auto internal xref">Section 4.1.5</a>) consists of how an application represents the data to be sent and received, the functions required to send and receive that data, and how the application is notified of the status of its data transfer.<a href="#section-4.1-3.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.1-3.4">
            <p id="section-4.1-3.4.1">Event handling (<a href="#events" class="auto internal xref">Section 4.1.6</a>) defines categories of notifications that an application can receive during the lifetime of a Connection. Events also provide opportunities for the application to interact with the underlying transport by querying state or updating maintenance options.<a href="#section-4.1-3.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.1-3.5">
            <p id="section-4.1-3.5.1">Termination (<a href="#termination" class="auto internal xref">Section 4.1.7</a>) focuses on the methods by which data transmission is stopped and connection state is torn down.<a href="#section-4.1-3.5.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-4.1-4">The diagram below provides a high-level view of the actions and events during the lifetime of a Connection object. Note that some actions are alternatives (e.g., whether to initiate a connection or listen for incoming connections), while others are optional (e.g., setting Connection and Message Properties in preestablishment) or have been omitted for brevity and simplicity.<a href="#section-4.1-4" class="pilcrow">¶</a></p>
<span id="name-the-lifetime-of-a-connectio"></span><div id="fig-lifetime">
<figure id="figure-4">
          <div class="alignLeft art-text artwork" id="section-4.1-5.1">
<pre>

     Preestablishment     :       Established             : Termination
    -----------------     :       -----------             : -----------
                          :                               :
+-- Local Endpoint        :           Message             :
+-- Remote Endpoint       :    Receive() |                :
+-- Transport Properties  :       Send() |                :
+-- Security Parameters   :              |                :
|                         :              |                :
|               InitiateWithSend()       |        Close() :
|   +---------------+   Initiate() +-----+------+ Abort() :
+---+ Preconnection |-------------&gt;| Connection |-----------&gt; Closed
    +---------------+ Rendezvous() +------------+         :
   Listen() |             :           |     |             :
            |             :           |     v             :
            v             :           | Connection        :
    +----------+          :           |   Ready           :
    | Listener |----------------------+                   :
    +----------+  Connection Received                     :
                          :                               :
</pre>
</div>
<figcaption><a href="#figure-4" class="selfRef">Figure 4</a>:
<a href="#name-the-lifetime-of-a-connectio" class="selfRef">The Lifetime of a Connection Object</a>
          </figcaption></figure>
</div>
<p id="section-4.1-6">In this diagram, the lifetime of a Connection object is divided into three phases:
preestablishment, the Established state, and termination of a Connection.<a href="#section-4.1-6" class="pilcrow">¶</a></p>
<p id="section-4.1-7">Preestablishment is based around a Preconnection object containing various
sub-objects that describe the Properties and parameters of desired Connections
(Local and Remote Endpoints, Transport Properties, and Security Parameters).
A Preconnection can be used to start listening for inbound connections --
in which case a Listener object is created -- or can be used to establish a new
connection directly using <code>Initiate</code> (for outbound connections) or <code>Rendezvous</code>
(for peer-to-peer connections).<a href="#section-4.1-7" class="pilcrow">¶</a></p>
<p id="section-4.1-8">Once a Connection is in the Established state, an application can send and receive
Message objects and can receive state updates.<a href="#section-4.1-8" class="pilcrow">¶</a></p>
<p id="section-4.1-9">Closing or aborting a Connection, either locally or from the peer, can terminate
a Connection.<a href="#section-4.1-9" class="pilcrow">¶</a></p>
<div id="endpoint-objects">
<section id="section-4.1.1">
          <h4 id="name-endpoint-objects">
<a href="#section-4.1.1" class="section-number selfRef">4.1.1. </a><a href="#name-endpoint-objects" class="section-name selfRef">Endpoint Objects</a>
          </h4>
<p id="section-4.1.1-1">An Endpoint Identifier specifies one side of a transport connection.
  Endpoints can be Local Endpoints or Remote Endpoints, and the Endpoint Identifiers can respectively represent an identity
  that the application uses for the source or destination of a connection.
  An Endpoint Identifier can be specified at various levels of abstraction.
  An Endpoint Identifier at a higher level of abstraction (such as a hostname) can be resolved to more concrete identities
  (such as IP addresses). A Remote Endpoint Identifier can also represent a multicast group or anycast address.
  In the case of multicast, a multicast transport will be selected for communication.<a href="#section-4.1.1-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-4.1.1-2">
            <dt id="section-4.1.1-2.1">Remote Endpoint Identifier:</dt>
            <dd style="margin-left: 1.5em" id="section-4.1.1-2.2">The Remote Endpoint Identifier represents the application's identifier for a peer that can participate in a transport connection, for example, the combination of a DNS name for the peer and a service name/port.<a href="#section-4.1.1-2.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.1.1-2.3">Local Endpoint Identifier:</dt>
            <dd style="margin-left: 1.5em" id="section-4.1.1-2.4">The Local Endpoint Identifier represents the application's identifier for itself that it uses for transport connections, for example, a local IP address and port.<a href="#section-4.1.1-2.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
<div id="objects">
<section id="section-4.1.2">
          <h4 id="name-connections-and-related-obj">
<a href="#section-4.1.2" class="section-number selfRef">4.1.2. </a><a href="#name-connections-and-related-obj" class="section-name selfRef">Connections and Related Objects</a>
          </h4>
<span class="break"></span><dl class="dlParallel" id="section-4.1.2-1">
            <dt id="section-4.1.2-1.1">Connection:</dt>
            <dd style="margin-left: 1.5em" id="section-4.1.2-1.2">A Connection object represents one or more active transport protocol instances that can send and/or receive Messages between Local and Remote Endpoints. It is an abstraction that represents the communication. The Connection object holds state pertaining to the underlying transport protocol instances and any ongoing data transfers. For example, an active Connection can represent a connection-oriented protocol such as TCP, or it can represent a fully specified 5-tuple for a connectionless protocol such as UDP, where the Connection remains an abstraction at the endpoints. It can also represent a pool of transport protocol instances, e.g., a set of TCP and QUIC connections to equivalent endpoints, or a stream of a multistreaming transport protocol instance. Connections can be created from a Preconnection or by a Listener.<a href="#section-4.1.2-1.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.1.2-1.3">Preconnection:</dt>
            <dd style="margin-left: 1.5em" id="section-4.1.2-1.4">A Preconnection object is a representation of a Connection that has not yet been established. It has state that describes parameters of the Connection: the Local Endpoint Identifier from which that Connection will be established, the Remote Endpoint Identifier to which it will connect, and Transport Properties that influence the paths and protocols a Connection will use. A Preconnection can be either fully specified (representing a single possible Connection) or partially specified (representing a family of possible Connections). The Local Endpoint (<a href="#preestablishment" class="auto internal xref">Section 4.1.3</a>) is required for a Preconnection used to <code>Listen</code> for incoming Connections but is optional if it is used to <code>Initiate</code> a Connection. The Remote Endpoint Identifier is required in a Preconnection that is used to <code>Initiate</code> a Connection but is optional if it is used to <code>Listen</code> for incoming Connections. The Local Endpoint Identifier and the Remote Endpoint Identifier are both required if a peer-to-peer <code>Rendezvous</code> is to occur based on the Preconnection.<a href="#section-4.1.2-1.4" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.1.2-1.5">Transport Properties:</dt>
            <dd style="margin-left: 1.5em" id="section-4.1.2-1.6">
              <p id="section-4.1.2-1.6.1">Transport Properties allow the application to express requirements, prohibitions, and preferences and configure a Transport Services Implementation.  There are three kinds of Transport Properties:<a href="#section-4.1.2-1.6.1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-4.1.2-1.6.2">
                <dt id="section-4.1.2-1.6.2.1">Selection Properties (<a href="#preestablishment" class="auto internal xref">Section 4.1.3</a>):</dt>
                <dd style="margin-left: 1.5em" id="section-4.1.2-1.6.2.2">Selection Properties can only be specified on a Preconnection.<a href="#section-4.1.2-1.6.2.2" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-4.1.2-1.6.2.3">Connection Properties (<a href="#preestablishment" class="auto internal xref">Section 4.1.3</a>):</dt>
                <dd style="margin-left: 1.5em" id="section-4.1.2-1.6.2.4">Connection Properties can be specified on a Preconnection and changed on the Connection.<a href="#section-4.1.2-1.6.2.4" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-4.1.2-1.6.2.5">Message Properties (<a href="#datatransfer" class="auto internal xref">Section 4.1.5</a>):</dt>
                <dd style="margin-left: 1.5em" id="section-4.1.2-1.6.2.6">Message Properties can be specified as defaults on a Preconnection or a Connection and can also be specified during data transfer to affect specific Messages.<a href="#section-4.1.2-1.6.2.6" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
</dl>
</dd>
            <dd class="break"></dd>
<dt id="section-4.1.2-1.7">Listener:</dt>
            <dd style="margin-left: 1.5em" id="section-4.1.2-1.8">A Listener object accepts incoming transport protocol connections from Remote Endpoints and generates corresponding Connection objects. It is created from a Preconnection object that specifies the type of incoming Connections it will accept.<a href="#section-4.1.2-1.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
<div id="preestablishment">
<section id="section-4.1.3">
          <h4 id="name-preestablishment">
<a href="#section-4.1.3" class="section-number selfRef">4.1.3. </a><a href="#name-preestablishment" class="section-name selfRef">Preestablishment</a>
          </h4>
<span class="break"></span><dl class="dlParallel" id="section-4.1.3-1">
            <dt id="section-4.1.3-1.1">Selection Properties:</dt>
            <dd style="margin-left: 1.5em" id="section-4.1.3-1.2">Selection Properties consist of the Properties that an application can set to influence the selection of paths between the Local and Remote Endpoints, influence the selection of transport protocols, or configure the behavior of generic transport protocol features. These Properties can take the form of requirements, prohibitions, or preferences. Examples of Properties that influence path selection include the interface type (such as a Wi-Fi connection or a Cellular LTE connection), requirements around the largest Message that can be sent, or preferences for throughput and latency. Examples of Properties that influence protocol selection and configuration of transport protocol features include reliability, multipath support, and support for TCP Fast Open.<a href="#section-4.1.3-1.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.1.3-1.3">Connection Properties:</dt>
            <dd style="margin-left: 1.5em" id="section-4.1.3-1.4">Connection Properties are used to configure protocol-specific options and control per-connection behavior of a Transport Services Implementation; for example, a protocol-specific Connection Property can express that if TCP is used, the implementation ought to use the User Timeout Option. Note that the presence of such a property does not require that a specific protocol be used. In general, these Properties do not explicitly determine the selection of paths or protocols but can be used by an implementation during Connection establishment. Connection Properties are specified on a Preconnection prior to Connection establishment and can be modified on the Connection later. Changes made to Connection Properties after Connection establishment take effect on a best-effort basis.<a href="#section-4.1.3-1.4" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.1.3-1.5">Security Parameters:</dt>
            <dd style="margin-left: 1.5em" id="section-4.1.3-1.6">Security Parameters define an application's requirements for authentication and encryption on a Connection. They are used by transport security protocols (such as those described in <span>[<a href="#RFC8922" class="cite xref">RFC8922</a>]</span>) to establish secure Connections. Examples of parameters that can be set include local identities, private keys, supported cryptographic algorithms, and requirements for validating trust of remote identities. Security Parameters are primarily associated with a Preconnection object, but Properties related to identities can be associated directly with Endpoints.<a href="#section-4.1.3-1.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
<div id="establishment">
<section id="section-4.1.4">
          <h4 id="name-establishment-actions">
<a href="#section-4.1.4" class="section-number selfRef">4.1.4. </a><a href="#name-establishment-actions" class="section-name selfRef">Establishment Actions</a>
          </h4>
<span class="break"></span><dl class="dlParallel" id="section-4.1.4-1">
            <dt id="section-4.1.4-1.1">Initiate:</dt>
            <dd style="margin-left: 1.5em" id="section-4.1.4-1.2">The primary action that an application can take to create a Connection to a Remote Endpoint and prepare any required local or remote state to enable the transmission of Messages. For some protocols, this will initiate a client-to-server-style handshake; for other protocols, this will just establish local state (e.g., with connectionless protocols such as UDP). The process of identifying options for connecting, such as resolution of the Remote Endpoint Identifier, occurs in response to calling <code>Initiate</code>.<a href="#section-4.1.4-1.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.1.4-1.3">Listen:</dt>
            <dd style="margin-left: 1.5em" id="section-4.1.4-1.4">Enables a Listener to accept incoming connections. The Listener will then create Connection objects as incoming connections are accepted (<a href="#events" class="auto internal xref">Section 4.1.6</a>). Listeners by default register with multiple paths, protocols, and Local Endpoints, unless constrained by Selection Properties and/or the specified Local Endpoint Identifier(s). Connections can be accepted on any of the available paths or endpoints.<a href="#section-4.1.4-1.4" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.1.4-1.5">Rendezvous:</dt>
            <dd style="margin-left: 1.5em" id="section-4.1.4-1.6">The action of establishing a peer-to-peer connection with a Remote Endpoint. It simultaneously attempts to initiate a connection to
a Remote Endpoint while listening for an incoming connection from that
Endpoint.  The process of identifying options for the connection, such
as resolution of the Remote Endpoint Identifier(s), occurs in response to calling <code>Rendezvous</code>.
As with Listeners, the set of local paths and endpoints is constrained
by Selection Properties. If successful, calling <code>Rendezvous</code> generates and asynchronously returns a
Connection object to represent the established peer-to-peer connection.
The processes by which connections are initiated during a <code>Rendezvous</code>
action will depend on the set of Local and Remote Endpoints configured on
the Preconnection. For example, if the Local and Remote Endpoints are TCP
host candidates, then a TCP simultaneous open <span>[<a href="#RFC9293" class="cite xref">RFC9293</a>]</span> might be performed.
However, if the set of Local Endpoints includes server-reflexive
candidates, such as those provided by STUN (Session Traversal Utilities
for NAT) <span>[<a href="#RFC8489" class="cite xref">RFC8489</a>]</span>, a <code>Rendezvous</code> action will race
candidates in the style of the ICE (Interactive Connectivity Establishment)
algorithm <span>[<a href="#RFC8445" class="cite xref">RFC8445</a>]</span> to perform NAT
binding discovery and initiate a peer-to-peer connection.<a href="#section-4.1.4-1.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
<div id="datatransfer">
<section id="section-4.1.5">
          <h4 id="name-data-transfer-objects-and-a">
<a href="#section-4.1.5" class="section-number selfRef">4.1.5. </a><a href="#name-data-transfer-objects-and-a" class="section-name selfRef">Data Transfer Objects and Actions</a>
          </h4>
<span class="break"></span><dl class="dlParallel" id="section-4.1.5-1">
            <dt id="section-4.1.5-1.1">Message:</dt>
            <dd style="margin-left: 1.5em" id="section-4.1.5-1.2">A Message object is a unit of data that can be represented as bytes that can be transferred between two endpoints over a transport connection. The bytes within a Message are assumed to be ordered. If an application does not care about the order in which a peer receives two distinct spans of bytes, those spans of bytes are considered independent Messages. Messages are sent in the payload of IP packets. One packet can carry one or more Messages or parts of a Message.<a href="#section-4.1.5-1.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.1.5-1.3">Message Properties:</dt>
            <dd style="margin-left: 1.5em" id="section-4.1.5-1.4">Message Properties are used to specify details about Message transmission. They can be specified directly on individual Messages or can be set on a Preconnection or Connection as defaults. These Properties might only apply to how a Message is sent (such as how the transport will treat prioritization and reliability) but can also include Properties that specific protocols encode and communicate to the Remote Endpoint. When receiving Messages, Message Properties can contain information about the received Message, such as metadata generated at the receiver and information signaled by the Remote Endpoint. For example, a Message can be marked with a Message Property indicating that it is the final Message on a Connection.<a href="#section-4.1.5-1.4" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.1.5-1.5">Send:</dt>
            <dd style="margin-left: 1.5em" id="section-4.1.5-1.6">The <code>Send</code> action transmits a Message over a Connection to the Remote Endpoint. The interface to <code>Send</code> can accept Message Properties specific to how the Message content is to be sent. The status of the <code>Send</code> action is delivered back to the sending application in an event (<a href="#events" class="auto internal xref">Section 4.1.6</a>).<a href="#section-4.1.5-1.6" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.1.5-1.7">Receive:</dt>
            <dd style="margin-left: 1.5em" id="section-4.1.5-1.8">The <code>Receive</code> action indicates that the application is ready to asynchronously accept a Message over a Connection from a Remote Endpoint, while the Message content itself will be delivered in an event (<a href="#events" class="auto internal xref">Section 4.1.6</a>). The interface to <code>Receive</code> can include Message Properties specific to the Message that is to be delivered to the application.<a href="#section-4.1.5-1.8" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.1.5-1.9">Framer:</dt>
            <dd style="margin-left: 1.5em" id="section-4.1.5-1.10">A Framer is a data translation layer that can be added to a Connection. Framers allow extending a Connection's Protocol Stack to define how to encapsulate or encode outbound Messages and how to decapsulate or decode inbound data into Messages. In this way, Message boundaries can be preserved when using a Connection object, even with a protocol that otherwise presents unstructured streams, such as TCP. This is designed based on the fact that many of the current application protocols evolved over TCP, which does not provide Message boundary preservation, and since many of these protocols require Message boundaries to function, each application-layer protocol has defined its own framing. For example, when an HTTP application sends and receives HTTP Messages over a byte-stream transport, it must parse the boundaries of HTTP Messages from the stream of bytes.<a href="#section-4.1.5-1.10" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
<div id="events">
<section id="section-4.1.6">
          <h4 id="name-event-handling">
<a href="#section-4.1.6" class="section-number selfRef">4.1.6. </a><a href="#name-event-handling" class="section-name selfRef">Event Handling</a>
          </h4>
<p id="section-4.1.6-1">The following categories of events can be delivered to an application:<a href="#section-4.1.6-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-4.1.6-2">
            <dt id="section-4.1.6-2.1">Connection Ready:</dt>
            <dd style="margin-left: 1.5em" id="section-4.1.6-2.2">Signals to an application that a given Connection is ready to send and/or receive Messages. If the Connection relies on handshakes to establish state between peers, then it is assumed that these steps have been taken.<a href="#section-4.1.6-2.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.1.6-2.3">Connection Closed:</dt>
            <dd style="margin-left: 1.5em" id="section-4.1.6-2.4">Signals to an application that a given Connection is no longer usable for sending or receiving Messages. The event delivers a reason or error to the application that describes the nature of the termination.<a href="#section-4.1.6-2.4" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.1.6-2.5">Connection Received:</dt>
            <dd style="margin-left: 1.5em" id="section-4.1.6-2.6">Signals to an application that a given Listener has received a Connection.<a href="#section-4.1.6-2.6" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.1.6-2.7">Message Received:</dt>
            <dd style="margin-left: 1.5em" id="section-4.1.6-2.8">Delivers received Message content to the application, based on a <code>Receive</code> action. To allow an application to limit the occurrence of such events, each call to <code>Receive</code> will be paired with a single <code>Receive</code> event. This can include an error if the <code>Receive</code> action cannot be satisfied, e.g., due to the Connection being closed.<a href="#section-4.1.6-2.8" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.1.6-2.9">Message Sent:</dt>
            <dd style="margin-left: 1.5em" id="section-4.1.6-2.10">Notifies the application of the status of its <code>Send</code> action. This might indicate a failure if the Message cannot be sent or might indicate that the Message has been processed by the Transport Services System.<a href="#section-4.1.6-2.10" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.1.6-2.11">Path Properties Changed:</dt>
            <dd style="margin-left: 1.5em" id="section-4.1.6-2.12">Notifies the application that a Property of the Connection has changed that might influence how and where data is sent and/or received.<a href="#section-4.1.6-2.12" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
<div id="termination">
<section id="section-4.1.7">
          <h4 id="name-termination-actions">
<a href="#section-4.1.7" class="section-number selfRef">4.1.7. </a><a href="#name-termination-actions" class="section-name selfRef">Termination Actions</a>
          </h4>
<span class="break"></span><dl class="dlParallel" id="section-4.1.7-1">
            <dt id="section-4.1.7-1.1">Close:</dt>
            <dd style="margin-left: 1.5em" id="section-4.1.7-1.2">The action an application takes on a Connection to indicate that it no longer intends to send data or is no longer willing to receive data.  The protocol should signal this state to the Remote Endpoint if the transport protocol permits it. (Note that this is distinct from the concept of "half-closing" a bidirectional connection, such as when a FIN is sent in one direction of a TCP connection <span>[<a href="#RFC9293" class="cite xref">RFC9293</a>]</span>. The end of a stream can also be indicated using Message Properties when sending.)<a href="#section-4.1.7-1.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.1.7-1.3">Abort:</dt>
            <dd style="margin-left: 1.5em" id="section-4.1.7-1.4"> The action the application takes on a Connection 
  to indicate that the Transport Services System
  should not attempt to deliver any outstanding data and that it should
  immediately close and drop the connection.  This is intended for immediate, usually abnormal, termination of a connection.<a href="#section-4.1.7-1.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
<div id="connection-groups">
<section id="section-4.1.8">
          <h4 id="name-connection-groups">
<a href="#section-4.1.8" class="section-number selfRef">4.1.8. </a><a href="#name-connection-groups" class="section-name selfRef">Connection Groups</a>
          </h4>
<p id="section-4.1.8-1">A Connection Group is a set of Connections that shares Connection Properties and Cached State generated by protocols.
A Connection Group represents state for managing Connections within a single application and does not require end-to-end protocol signaling. For transport protocols that support multiplexing, only Connections within the same Connection Group are allowed to be multiplexed together.<a href="#section-4.1.8-1" class="pilcrow">¶</a></p>
<p id="section-4.1.8-2">The API allows a Connection to be created from another Connection. This adds the new Connection to the Connection Group. A change to one of the Connection Properties on any Connection in the Connection Group automatically changes the Connection Property for all others. All Connections in a Connection Group share the same set of Connection Properties except for the Connection Priority. These Connection Properties are said to be entangled.<a href="#section-4.1.8-2" class="pilcrow">¶</a></p>
<p id="section-4.1.8-3">Passive Connections can also be added to a Connection Group, e.g., when a Listener receives a new Connection that is just a new stream of an already-active multistreaming protocol
instance.<a href="#section-4.1.8-3" class="pilcrow">¶</a></p>
<p id="section-4.1.8-4">While Connection Groups are managed by the Transport Services Implementation, an application can define different Connection Contexts for different Connection Groups to explicitly control caching boundaries, as discussed in <a href="#conn-context" class="auto internal xref">Section 4.2.3</a>.<a href="#section-4.1.8-4" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="transport-services-implementation">
<section id="section-4.2">
        <h3 id="name-transport-services-implemen">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-transport-services-implemen" class="section-name selfRef">Transport Services Implementation</a>
        </h3>
<p id="section-4.2-1">This section defines the key architectural concepts for the Transport Services Implementation within the Transport Services System.<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<p id="section-4.2-2">The Transport Services System consists of the Transport Services Implementation and the Transport Services API.
The Transport Services Implementation consists of all objects and protocol instances used internally to a system or library to implement the functionality needed to provide a transport service across a network, as required by the abstract interface.<a href="#section-4.2-2" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-4.2-3">
          <dt id="section-4.2-3.1">Path:</dt>
          <dd style="margin-left: 1.5em" id="section-4.2-3.2">Represents an available set of Properties that a Local Endpoint can use to communicate with a Remote Endpoint, such as routes, addresses, and physical and virtual network interfaces.<a href="#section-4.2-3.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.2-3.3">Protocol Instance:</dt>
          <dd style="margin-left: 1.5em" id="section-4.2-3.4">A single instance of one protocol, including any state necessary to establish connectivity or send and receive Messages.<a href="#section-4.2-3.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.2-3.5">Protocol Stack:</dt>
          <dd style="margin-left: 1.5em" id="section-4.2-3.6">A set of protocol instances (including relevant application, security, transport, or Internet protocols) that are used together to establish connectivity or send and receive Messages. A single stack can be simple (e.g., one application stream carried over TCP running over IP) or complex (e.g,. multiple application streams carried over a multipath transport protocol using multiple subflows over IP).<a href="#section-4.2-3.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.2-3.7">Candidate Path:</dt>
          <dd style="margin-left: 1.5em" id="section-4.2-3.8">One path that is available to an application and conforms to the Selection Properties and System Policy, of which there can be several. Candidate Paths are identified during the gathering phase (<a href="#gathering" class="auto internal xref">Section 4.2.1</a>) and can be used during the racing phase (<a href="#racing" class="auto internal xref">Section 4.2.2</a>).<a href="#section-4.2-3.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.2-3.9">Candidate Protocol Stack:</dt>
          <dd style="margin-left: 1.5em" id="section-4.2-3.10">One Protocol Stack that can be used by an application for a connection, for which there can be several candidates. Candidate Protocol Stacks are identified during the gathering phase (<a href="#gathering" class="auto internal xref">Section 4.2.1</a>) and are started during the racing phase (<a href="#racing" class="auto internal xref">Section 4.2.2</a>).<a href="#section-4.2-3.10" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.2-3.11">System Policy:</dt>
          <dd style="margin-left: 1.5em" id="section-4.2-3.12">The input from an operating system or other global preferences that can constrain or influence how an implementation will gather Candidate Paths and Candidate Protocol Stacks (<a href="#gathering" class="auto internal xref">Section 4.2.1</a>) and race the candidates during establishment (<a href="#racing" class="auto internal xref">Section 4.2.2</a>). Specific aspects of the System Policy apply to either all Connections or only certain Connections, depending on the runtime context and Properties of the Connection.<a href="#section-4.2-3.12" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.2-3.13">Cached State:</dt>
          <dd style="margin-left: 1.5em" id="section-4.2-3.14">The state and history that the implementation keeps for each set of associated Endpoints that have been used previously. This can include DNS results, TLS session state, previous success and quality of transport protocols over certain paths, as well as other information.  This caching does not imply that the same decisions are necessarily made for subsequent connections; rather, it means that Cached State is used by a Transport Services Implementation to inform functions such as choosing the candidates to be raced, selecting appropriate transport parameters, etc. An application <span class="bcp14">SHOULD NOT</span> rely on specific caching behavior; instead, it ought to explicitly request any required or preferred Properties via the Transport Services API.<a href="#section-4.2-3.14" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<div id="gathering">
<section id="section-4.2.1">
          <h4 id="name-candidate-gathering">
<a href="#section-4.2.1" class="section-number selfRef">4.2.1. </a><a href="#name-candidate-gathering" class="section-name selfRef">Candidate Gathering</a>
          </h4>
<span class="break"></span><dl class="dlParallel" id="section-4.2.1-1">
            <dt id="section-4.2.1-1.1">Candidate Path Selection:</dt>
            <dd style="margin-left: 1.5em" id="section-4.2.1-1.2">Candidate Path Selection represents the act of choosing one or more paths that are available to use based on the Selection Properties and any available Local and Remote Endpoint Identifiers provided by the application, as well as the policies and heuristics of a Transport Services Implementation.<a href="#section-4.2.1-1.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.2.1-1.3">Candidate Protocol Selection:</dt>
            <dd style="margin-left: 1.5em" id="section-4.2.1-1.4">Candidate Protocol Selection represents the act of choosing one or more sets of Protocol Stacks that are available to use based on the Transport Properties provided by the application, and the heuristics or policies within the Transport Services Implementation.<a href="#section-4.2.1-1.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
<div id="racing">
<section id="section-4.2.2">
          <h4 id="name-candidate-racing">
<a href="#section-4.2.2" class="section-number selfRef">4.2.2. </a><a href="#name-candidate-racing" class="section-name selfRef">Candidate Racing</a>
          </h4>
<p id="section-4.2.2-1">Connection establishment attempts for a set of candidates may be performed simultaneously, synchronously, serially, or using some combination of all of these. We refer to this process as racing, borrowing terminology from Happy Eyeballs <span>[<a href="#RFC8305" class="cite xref">RFC8305</a>]</span>.<a href="#section-4.2.2-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-4.2.2-2">
            <dt id="section-4.2.2-2.1">Protocol Option Racing:</dt>
            <dd style="margin-left: 1.5em" id="section-4.2.2-2.2">Protocol Option Racing is the act of attempting to establish, or scheduling attempts to establish, multiple Protocol Stacks that differ based on the composition of protocols or the options used for protocols.<a href="#section-4.2.2-2.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.2.2-2.3">Path Racing:</dt>
            <dd style="margin-left: 1.5em" id="section-4.2.2-2.4">Path Racing is the act of attempting to establish, or scheduling attempts to establish, multiple Protocol Stacks that differ based on a selection from the available paths. Since different paths will have distinct configurations (see <span>[<a href="#RFC7556" class="cite xref">RFC7556</a>]</span>)
for local addresses and DNS servers, attempts across different paths will perform separate DNS resolution steps, which can lead to further racing of the resolved Remote Endpoint Identifiers.<a href="#section-4.2.2-2.4" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.2.2-2.5">Remote Endpoint Racing:</dt>
            <dd style="margin-left: 1.5em" id="section-4.2.2-2.6">Remote Endpoint Racing is the act of attempting to establish, or scheduling attempts to establish, multiple Protocol Stacks that differ based on the specific representation of the Remote Endpoint Identifier, such as a particular IP address that was resolved from a DNS hostname.<a href="#section-4.2.2-2.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
<div id="conn-context">
<section id="section-4.2.3">
          <h4 id="name-separating-connection-conte">
<a href="#section-4.2.3" class="section-number selfRef">4.2.3. </a><a href="#name-separating-connection-conte" class="section-name selfRef">Separating Connection Contexts</a>
          </h4>
<p id="section-4.2.3-1">A Transport Services Implementation can by default share stored Properties across Connections within an application, such as cached protocol state, cached path state, and heuristics. This provides efficiency and convenience for the application, since the Transport Services System can automatically optimize behavior.<a href="#section-4.2.3-1" class="pilcrow">¶</a></p>
<p id="section-4.2.3-2">The Transport Services API can allow applications to explicitly define Connection Contexts that force separation of Cached State and Protocol Stacks.
For example, a web browser application could use Connection Contexts with separate caches when implementing different tabs. Possible reasons to isolate Connections using separate Connection Contexts include privacy concerns regarding:<a href="#section-4.2.3-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.2.3-3.1">
              <p id="section-4.2.3-3.1.1">reusing cached protocol state, as this can lead to linkability. Sensitive state could include TLS session state <span>[<a href="#RFC8446" class="cite xref">RFC8446</a>]</span> and HTTP cookies <span>[<a href="#RFC6265" class="cite xref">RFC6265</a>]</span>. These concerns could be addressed using Connection Contexts with separate caches, such as for different browser tabs.<a href="#section-4.2.3-3.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-4.2.3-3.2">
              <p id="section-4.2.3-3.2.1">allowing Connections to multiplex together, which can tell a Remote Endpoint that all of the Connections are coming from the same application. Using Connection Contexts avoids the Connections being multiplexed in an HTTP/2 or QUIC stream.<a href="#section-4.2.3-3.2.1" class="pilcrow">¶</a></p>
</li>
          </ul>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="iana-considerations">
<section id="section-5">
      <h2 id="name-iana-considerations">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-5-1">This document has no IANA actions.<a href="#section-5-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="security-and-privacy-considerations">
<section id="section-6">
      <h2 id="name-security-and-privacy-consid">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-security-and-privacy-consid" class="section-name selfRef">Security and Privacy Considerations</a>
      </h2>
<p id="section-6-1">The Transport Services System does not recommend the use of specific security
protocols or algorithms. Its goal is to offer ease of use for existing protocols
by providing a generic security-related interface. Each provided interface
translates to an existing protocol-specific interface provided by supported
security protocols. For example, trust verification callbacks are common parts
of TLS APIs; a Transport Services API exposes similar functionality
<span>[<a href="#RFC8922" class="cite xref">RFC8922</a>]</span>.<a href="#section-6-1" class="pilcrow">¶</a></p>
<p id="section-6-2">As described above in <a href="#equivalence" class="auto internal xref">Section 3.3</a>, if a Transport Services Implementation races
between two different Protocol Stacks, both need to use the same security protocols
and options. However, a Transport Services Implementation can race different security
protocols, e.g., if the application explicitly specifies that it considers them
equivalent.<a href="#section-6-2" class="pilcrow">¶</a></p>
<p id="section-6-3">The application controls whether
information from previous racing attempts or other information
about past communications that was cached by
the Transport Services System is used during establishment.
This allows applications to make
trade-offs between efficiency (through racing) and privacy (via information that
might leak from the cache toward an on-path observer). Some applications have
features (e.g., "incognito mode") that align with this functionality.<a href="#section-6-3" class="pilcrow">¶</a></p>
<p id="section-6-4">Applications need to ensure that they use security APIs appropriately. In cases
where applications use an interface to provide sensitive keying material, e.g.,
access to private keys or copies of pre-shared keys (PSKs), key use needs to be
validated and scoped to the intended protocols and roles. For example, if an
application provides a certificate to only be used as client authentication for
outbound TLS and QUIC connections, the Transport Services System <span class="bcp14">MUST NOT</span> use this
automatically in other contexts (such as server authentication for inbound
connections or in other security protocol handshakes that are not equivalent to TLS).<a href="#section-6-4" class="pilcrow">¶</a></p>
<p id="section-6-5">A Transport Services System <span class="bcp14">MUST NOT</span> automatically fall back from
secure protocols to insecure protocols or fall back to weaker versions of secure
protocols (see <a href="#equivalence" class="auto internal xref">Section 3.3</a>). For example, if an application requests a specific version of TLS
but the desired version of TLS is not available, its connection will fail.
As described in <a href="#equivalence" class="auto internal xref">Section 3.3</a>, the Transport Services API can allow applications
to specify minimum versions that are allowed to be used by the Transport Services System.<a href="#section-6-5" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-7">
      <h2 id="name-references">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<div id="sec-normative-references">
<section id="section-7.1">
        <h3 id="name-normative-references">
<a href="#section-7.1" class="section-number selfRef">7.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
      <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</div>
<div id="sec-informative-references">
<section id="section-7.2">
        <h3 id="name-informative-references">
<a href="#section-7.2" class="section-number selfRef">7.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="POSIX">[POSIX]</dt>
        <dd>
<span class="refTitle">"IEEE/Open Group Standard for Information Technology - Portable Operating System Interface (POSIX(TM)) Base Specifications, Issue 8"</span>, <span class="seriesInfo">IEEE Std 1003.1-2024</span>, <span class="seriesInfo">DOI 10.1109/IEEESTD.2024.10555529</span>, <time datetime="2024" class="refDate">2024</time>, <span>&lt;<a href="https://ieeexplore.ieee.org/document/10555529">https://ieeexplore.ieee.org/document/10555529</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5482">[RFC5482]</dt>
        <dd>
<span class="refAuthor">Eggert, L.</span> and <span class="refAuthor">F. Gont</span>, <span class="refTitle">"TCP User Timeout Option"</span>, <span class="seriesInfo">RFC 5482</span>, <span class="seriesInfo">DOI 10.17487/RFC5482</span>, <time datetime="2009-03" class="refDate">March 2009</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5482">https://www.rfc-editor.org/info/rfc5482</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6265">[RFC6265]</dt>
        <dd>
<span class="refAuthor">Barth, A.</span>, <span class="refTitle">"HTTP State Management Mechanism"</span>, <span class="seriesInfo">RFC 6265</span>, <span class="seriesInfo">DOI 10.17487/RFC6265</span>, <time datetime="2011-04" class="refDate">April 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6265">https://www.rfc-editor.org/info/rfc6265</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7556">[RFC7556]</dt>
        <dd>
<span class="refAuthor">Anipko, D., Ed.</span>, <span class="refTitle">"Multiple Provisioning Domain Architecture"</span>, <span class="seriesInfo">RFC 7556</span>, <span class="seriesInfo">DOI 10.17487/RFC7556</span>, <time datetime="2015-06" class="refDate">June 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7556">https://www.rfc-editor.org/info/rfc7556</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8095">[RFC8095]</dt>
        <dd>
<span class="refAuthor">Fairhurst, G., Ed.</span>, <span class="refAuthor">Trammell, B., Ed.</span>, and <span class="refAuthor">M. Kuehlewind, Ed.</span>, <span class="refTitle">"Services Provided by IETF Transport Protocols and Congestion Control Mechanisms"</span>, <span class="seriesInfo">RFC 8095</span>, <span class="seriesInfo">DOI 10.17487/RFC8095</span>, <time datetime="2017-03" class="refDate">March 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8095">https://www.rfc-editor.org/info/rfc8095</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8170">[RFC8170]</dt>
        <dd>
<span class="refAuthor">Thaler, D., Ed.</span>, <span class="refTitle">"Planning for Protocol Adoption and Subsequent Transitions"</span>, <span class="seriesInfo">RFC 8170</span>, <span class="seriesInfo">DOI 10.17487/RFC8170</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8170">https://www.rfc-editor.org/info/rfc8170</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8303">[RFC8303]</dt>
        <dd>
<span class="refAuthor">Welzl, M.</span>, <span class="refAuthor">Tuexen, M.</span>, and <span class="refAuthor">N. Khademi</span>, <span class="refTitle">"On the Usage of Transport Features Provided by IETF Transport Protocols"</span>, <span class="seriesInfo">RFC 8303</span>, <span class="seriesInfo">DOI 10.17487/RFC8303</span>, <time datetime="2018-02" class="refDate">February 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8303">https://www.rfc-editor.org/info/rfc8303</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8305">[RFC8305]</dt>
        <dd>
<span class="refAuthor">Schinazi, D.</span> and <span class="refAuthor">T. Pauly</span>, <span class="refTitle">"Happy Eyeballs Version 2: Better Connectivity Using Concurrency"</span>, <span class="seriesInfo">RFC 8305</span>, <span class="seriesInfo">DOI 10.17487/RFC8305</span>, <time datetime="2017-12" class="refDate">December 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8305">https://www.rfc-editor.org/info/rfc8305</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8445">[RFC8445]</dt>
        <dd>
<span class="refAuthor">Keranen, A.</span>, <span class="refAuthor">Holmberg, C.</span>, and <span class="refAuthor">J. Rosenberg</span>, <span class="refTitle">"Interactive Connectivity Establishment (ICE): A Protocol for Network Address Translator (NAT) Traversal"</span>, <span class="seriesInfo">RFC 8445</span>, <span class="seriesInfo">DOI 10.17487/RFC8445</span>, <time datetime="2018-07" class="refDate">July 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8445">https://www.rfc-editor.org/info/rfc8445</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8446">[RFC8446]</dt>
        <dd>
<span class="refAuthor">Rescorla, E.</span>, <span class="refTitle">"The Transport Layer Security (TLS) Protocol Version 1.3"</span>, <span class="seriesInfo">RFC 8446</span>, <span class="seriesInfo">DOI 10.17487/RFC8446</span>, <time datetime="2018-08" class="refDate">August 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8446">https://www.rfc-editor.org/info/rfc8446</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8489">[RFC8489]</dt>
        <dd>
<span class="refAuthor">Petit-Huguenin, M.</span>, <span class="refAuthor">Salgueiro, G.</span>, <span class="refAuthor">Rosenberg, J.</span>, <span class="refAuthor">Wing, D.</span>, <span class="refAuthor">Mahy, R.</span>, and <span class="refAuthor">P. Matthews</span>, <span class="refTitle">"Session Traversal Utilities for NAT (STUN)"</span>, <span class="seriesInfo">RFC 8489</span>, <span class="seriesInfo">DOI 10.17487/RFC8489</span>, <time datetime="2020-02" class="refDate">February 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8489">https://www.rfc-editor.org/info/rfc8489</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8922">[RFC8922]</dt>
        <dd>
<span class="refAuthor">Enghardt, T.</span>, <span class="refAuthor">Pauly, T.</span>, <span class="refAuthor">Perkins, C.</span>, <span class="refAuthor">Rose, K.</span>, and <span class="refAuthor">C. Wood</span>, <span class="refTitle">"A Survey of the Interaction between Security Protocols and Transport Services"</span>, <span class="seriesInfo">RFC 8922</span>, <span class="seriesInfo">DOI 10.17487/RFC8922</span>, <time datetime="2020-10" class="refDate">October 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8922">https://www.rfc-editor.org/info/rfc8922</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8923">[RFC8923]</dt>
        <dd>
<span class="refAuthor">Welzl, M.</span> and <span class="refAuthor">S. Gjessing</span>, <span class="refTitle">"A Minimal Set of Transport Services for End Systems"</span>, <span class="seriesInfo">RFC 8923</span>, <span class="seriesInfo">DOI 10.17487/RFC8923</span>, <time datetime="2020-10" class="refDate">October 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8923">https://www.rfc-editor.org/info/rfc8923</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9000">[RFC9000]</dt>
        <dd>
<span class="refAuthor">Iyengar, J., Ed.</span> and <span class="refAuthor">M. Thomson, Ed.</span>, <span class="refTitle">"QUIC: A UDP-Based Multiplexed and Secure Transport"</span>, <span class="seriesInfo">RFC 9000</span>, <span class="seriesInfo">DOI 10.17487/RFC9000</span>, <time datetime="2021-05" class="refDate">May 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9000">https://www.rfc-editor.org/info/rfc9000</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9112">[RFC9112]</dt>
        <dd>
<span class="refAuthor">Fielding, R., Ed.</span>, <span class="refAuthor">Nottingham, M., Ed.</span>, and <span class="refAuthor">J. Reschke, Ed.</span>, <span class="refTitle">"HTTP/1.1"</span>, <span class="seriesInfo">STD 99</span>, <span class="seriesInfo">RFC 9112</span>, <span class="seriesInfo">DOI 10.17487/RFC9112</span>, <time datetime="2022-06" class="refDate">June 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9112">https://www.rfc-editor.org/info/rfc9112</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9113">[RFC9113]</dt>
        <dd>
<span class="refAuthor">Thomson, M., Ed.</span> and <span class="refAuthor">C. Benfield, Ed.</span>, <span class="refTitle">"HTTP/2"</span>, <span class="seriesInfo">RFC 9113</span>, <span class="seriesInfo">DOI 10.17487/RFC9113</span>, <time datetime="2022-06" class="refDate">June 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9113">https://www.rfc-editor.org/info/rfc9113</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9293">[RFC9293]</dt>
        <dd>
<span class="refAuthor">Eddy, W., Ed.</span>, <span class="refTitle">"Transmission Control Protocol (TCP)"</span>, <span class="seriesInfo">STD 7</span>, <span class="seriesInfo">RFC 9293</span>, <span class="seriesInfo">DOI 10.17487/RFC9293</span>, <time datetime="2022-08" class="refDate">August 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9293">https://www.rfc-editor.org/info/rfc9293</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9622">[RFC9622]</dt>
        <dd>
<span class="refAuthor">Trammell, B., Ed.</span>, <span class="refAuthor">Welzl, M., Ed.</span>, <span class="refAuthor">Enghardt, R.</span>, <span class="refAuthor">Fairhurst, G.</span>, <span class="refAuthor">Kühlewind, M.</span>, <span class="refAuthor">Perkins, C. S.</span>, <span class="refAuthor">Tiesel, P.S.</span>, and <span class="refAuthor">T. Pauly</span>, <span class="refTitle">"An Abstract Application Programming Interface (API) for Transport Services"</span>, <span class="seriesInfo">RFC 9622</span>, <span class="seriesInfo">DOI 10.17487/RFC9622</span>, <time datetime="2025-01" class="refDate">January 2025</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9622">https://www.rfc-editor.org/info/rfc9622</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9623">[RFC9623]</dt>
      <dd>
<span class="refAuthor">Brunstrom, A., Ed.</span>, <span class="refAuthor">Pauly, T., Ed.</span>, <span class="refAuthor">Enghardt, R.</span>, <span class="refAuthor">Tiesel, P.S.</span>, and <span class="refAuthor">M. Welzl</span>, <span class="refTitle">"Implementing Interfaces to Transport Services"</span>, <span class="seriesInfo">RFC 9623</span>, <span class="seriesInfo">DOI 10.17487/RFC9623</span>, <time datetime="2025-01" class="refDate">January 2025</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9623">https://www.rfc-editor.org/info/rfc9623</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</div>
</section>
<div id="acknowledgements">
<section id="appendix-A">
      <h2 id="name-acknowledgements">
<a href="#name-acknowledgements" class="section-name selfRef">Acknowledgements</a>
      </h2>
<p id="appendix-A-1">This work has received funding from the European Union's Horizon 2020 research
and innovation programme under grant agreements No. 644334 (NEAT), No. 688421
(MAMI), and No. 815178 (5GENESIS).<a href="#appendix-A-1" class="pilcrow">¶</a></p>
<p id="appendix-A-2">This work has been supported by:<a href="#appendix-A-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A-3.1">Leibniz Prize project funds from the DFG - German
Research Foundation: Gottfried Wilhelm Leibniz-Preis 2011 (FKZ FE 570/4-1).<a href="#appendix-A-3.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-A-3.2">the UK Engineering and Physical Sciences
      Research Council under grant EP/R04144X/1.<a href="#appendix-A-3.2" class="pilcrow">¶</a>
</li>
      </ul>
<p id="appendix-A-4">Thanks to <span class="contact-name">Reese Enghardt</span>, <span class="contact-name">Max Franke</span>, <span class="contact-name">Mirja Kühlewind</span>, <span class="contact-name">Jonathan Lennox</span>, and
<span class="contact-name">Michael Welzl</span> for the discussions and feedback that helped shape the architecture
of the system described here.
Particular thanks are also due to <span class="contact-name">Philipp S. Tiesel</span> and <span class="contact-name">Christopher A. Wood</span>,
who were both coauthors of this specification as it progressed
through the Transport Services (TAPS) Working Group.
Thanks as well to <span class="contact-name">Stuart Cheshire</span>, <span class="contact-name">Josh Graessley</span>, <span class="contact-name">David Schinazi</span>,
and <span class="contact-name">Eric Kinnear</span> for their implementation and design efforts, including Happy
Eyeballs, that heavily influenced this work.<a href="#appendix-A-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-B">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Tommy Pauly (<span class="role">editor</span>)</span></div>
<div dir="auto" class="left"><span class="org">Apple Inc.</span></div>
<div dir="auto" class="left"><span class="street-address">One Apple Park Way</span></div>
<div dir="auto" class="left">
<span class="locality">Cupertino</span>, <span class="region">CA</span> <span class="postal-code">95014</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:tpauly@apple.com" class="email">tpauly@apple.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Brian Trammell (<span class="role">editor</span>)</span></div>
<div dir="auto" class="left"><span class="org">Google Switzerland GmbH</span></div>
<div dir="auto" class="left"><span class="street-address">Gustav-Gull-Platz 1</span></div>
<div dir="auto" class="left">CH-<span class="postal-code">8004</span> <span class="locality">Zurich</span>
</div>
<div dir="auto" class="left"><span class="country-name">Switzerland</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:ietf@trammell.ch" class="email">ietf@trammell.ch</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Anna Brunstrom</span></div>
<div dir="auto" class="left"><span class="org">Karlstad University</span></div>
<div dir="auto" class="left"><span class="street-address">Universitetsgatan 2</span></div>
<div dir="auto" class="left"><span class="locality">651 88 Karlstad</span></div>
<div dir="auto" class="left"><span class="country-name">Sweden</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:anna.brunstrom@kau.se" class="email">anna.brunstrom@kau.se</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Godred Fairhurst</span></div>
<div dir="auto" class="left"><span class="org">University of Aberdeen</span></div>
<div dir="auto" class="left"><span class="street-address">Fraser Noble Building</span></div>
<div dir="auto" class="left"><span class="locality">Aberdeen, AB24 3UE</span></div>
<div dir="auto" class="left"><span class="country-name">United Kingdom</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:gorry@erg.abdn.ac.uk" class="email">gorry@erg.abdn.ac.uk</a>
</div>
<div class="url">
<span>URI:</span>
<a href="https://erg.abdn.ac.uk/" class="url">https://erg.abdn.ac.uk/</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Colin S. Perkins</span></div>
<div dir="auto" class="left"><span class="org">University of Glasgow</span></div>
<div dir="auto" class="left"><span class="street-address">School of Computing Science</span></div>
<div dir="auto" class="left"><span class="locality">Glasgow  G12 8QQ</span></div>
<div dir="auto" class="left"><span class="country-name">United Kingdom</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:csp@csperkins.org" class="email">csp@csperkins.org</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
