<!DOCTYPE html>
<html lang="en" class="RFC">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>RFC 9714: Encapsulation for MPLS Performance Measurement with the Alternate-Marking Method</title>
<meta content="Weiqiang Cheng" name="author">
<meta content="Xiao Min" name="author">
<meta content="Tianran Zhou" name="author">
<meta content="Jinyou Dai" name="author">
<meta content="Yoav Peleg" name="author">
<meta content="
       This document defines the encapsulation for MPLS performance measurement with the Alternate-Marking Method, which performs 
   flow-based packet loss, delay, and jitter measurements on MPLS traffic. 
    " name="description">
<meta content="xml2rfc 3.27.0" name="generator">
<meta content="Flow-ID Label Indicator" name="keyword">
<meta content="Flow-ID Label" name="keyword">
<meta content="9714" name="rfc.number">
<!-- Generator version information:
  xml2rfc 3.27.0
    Python 3.9.15
    ConfigArgParse 1.5.3
    google-i18n-address 3.0.0
    intervaltree 3.1.0
    Jinja2 3.1.2
    lxml 5.3.0
    platformdirs 3.8.0
    pycountry 22.3.5
    pydyf 0.9.0
    PyYAML 6.0
    requests 2.28.0
    setuptools 44.1.1
    wcwidth 0.2.5
    weasyprint 61.2
-->
<link href="rfc9714.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necessary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

:root {
  --font-sans: 'Noto Sans', Arial, Helvetica, sans-serif;
  --font-serif: 'Noto Serif', 'Times', 'Times New Roman', serif;
  --font-mono: 'Roboto Mono', Courier, 'Courier New', monospace;
}

@viewport {
  zoom: 1.0;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: var(--font-sans);
  line-height: 1.6;
  scroll-behavior: smooth;
  overflow-wrap: break-word;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
svg[font-family~="serif" i], svg [font-family~="serif" i] {
  font-family: var(--font-serif);
}
svg[font-family~="sans-serif" i], svg [font-family~="sans-serif" i] {
  font-family: var(--font-sans);
}
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  display: table;
  border: none;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre {
  background-color: #f9f9f9;
  font-family: var(--font-mono);
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
blockquote > *:last-child {
  margin-bottom: 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}
.xref {
  overflow-wrap: normal;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    max-width: 100%;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.refSubseries {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: var(--font-sans);
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  .breakable pre {
    break-inside: auto;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The following is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
.sourcecode pre,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .artwork > pre,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: upper-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background slightly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr {
  break-inside: avoid;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottom margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code, dt tt, dt code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the compact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div.sourcecode:first-child,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type:only-child {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<link href="https://datatracker.ietf.org/doc/draft-ietf-mpls-inband-pm-encapsulation-18" rel="prev">
  <link href="https://dx.doi.org/10.17487/rfc9714" rel="alternate">
  <link href="urn:issn:2070-1721" rel="alternate">
  </head>
<body class="xml2rfc">
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 9714</td>
<td class="center">Encap for MPLS PM with AMM</td>
<td class="right">February 2025</td>
</tr></thead>
<tfoot><tr>
<td class="left">Cheng, et al.</td>
<td class="center">Standards Track</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Engineering Task Force (IETF)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a href="https://www.rfc-editor.org/rfc/rfc9714" class="eref">9714</a></dd>
<dt class="label-category">Category:</dt>
<dd class="category">Standards Track</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2025-02" class="published">February 2025</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">W. Cheng, <span class="editor">Ed.</span>
</div>
<div class="org">China Mobile</div>
</div>
<div class="author">
      <div class="author-name">X. Min, <span class="editor">Ed.</span>
</div>
<div class="org">ZTE Corp.</div>
</div>
<div class="author">
      <div class="author-name">T. Zhou</div>
<div class="org">Huawei</div>
</div>
<div class="author">
      <div class="author-name">J. Dai</div>
<div class="org">FiberHome</div>
</div>
<div class="author">
      <div class="author-name">Y. Peleg</div>
<div class="org">Broadcom</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 9714</h1>
<h1 id="title">Encapsulation for MPLS Performance Measurement with the Alternate-Marking Method</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This document defines the encapsulation for MPLS performance measurement with the Alternate-Marking Method, which performs 
   flow-based packet loss, delay, and jitter measurements on MPLS traffic.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This is an Internet Standards Track document.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc9714">https://www.rfc-editor.org/info/rfc9714</a></span>.<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2025 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="auto internal xref">1</a>.  <a href="#name-introduction" class="internal xref">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a href="#section-2" class="auto internal xref">2</a>.  <a href="#name-conventions-used-in-this-do" class="internal xref">Conventions Used in This Document</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1" class="keepWithNext"><a href="#section-2.1" class="auto internal xref">2.1</a>.  <a href="#name-abbreviations" class="internal xref">Abbreviations</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.2">
                <p id="section-toc.1-1.2.2.2.1" class="keepWithNext"><a href="#section-2.2" class="auto internal xref">2.2</a>.  <a href="#name-requirements-language" class="internal xref">Requirements Language</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="auto internal xref">3</a>.  <a href="#name-flow-based-pm-encapsulation" class="internal xref">Flow-Based PM Encapsulation in MPLS</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a href="#section-3.1" class="auto internal xref">3.1</a>.  <a href="#name-examples-for-applying-flow-" class="internal xref">Examples for Applying Flow-ID Label in a Label Stack</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1.2.1">
                    <p id="section-toc.1-1.3.2.1.2.1.1"><a href="#section-3.1.1" class="auto internal xref">3.1.1</a>.  <a href="#name-layout-of-the-flow-id-label" class="internal xref">Layout of the Flow-ID Label when Applied to MPLS Transport</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1.2.2">
                    <p id="section-toc.1-1.3.2.1.2.2.1"><a href="#section-3.1.2" class="auto internal xref">3.1.2</a>.  <a href="#name-layout-of-the-flow-id-label-" class="internal xref">Layout of the Flow-ID Label when Applied to MPLS Service</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1.2.3">
                    <p id="section-toc.1-1.3.2.1.2.3.1"><a href="#section-3.1.3" class="auto internal xref">3.1.3</a>.  <a href="#name-layout-of-the-flow-id-label-w" class="internal xref">Layout of the Flow-ID Label when Applied to both MPLS Transport and MPLS Service</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="auto internal xref">4</a>.  <a href="#name-procedures-of-encapsulation" class="internal xref">Procedures of Encapsulation, Look-Up, and Decapsulation</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="auto internal xref">5</a>.  <a href="#name-procedures-of-flow-id-alloc" class="internal xref">Procedures of Flow-ID Allocation</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="auto internal xref">6</a>.  <a href="#name-flc-and-frld-considerations" class="internal xref">FLC and FRLD Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="auto internal xref">7</a>.  <a href="#name-equal-cost-multipath-consid" class="internal xref">Equal-Cost Multipath Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="auto internal xref">8</a>.  <a href="#name-security-considerations" class="internal xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="auto internal xref">9</a>.  <a href="#name-iana-considerations" class="internal xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="auto internal xref">10</a>. <a href="#name-references" class="internal xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a href="#section-10.1" class="auto internal xref">10.1</a>.  <a href="#name-normative-references" class="internal xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a href="#section-10.2" class="auto internal xref">10.2</a>.  <a href="#name-informative-references" class="internal xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#appendix-A" class="auto internal xref"></a><a href="#name-acknowledgements" class="internal xref">Acknowledgements</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#appendix-B" class="auto internal xref"></a><a href="#name-contributors" class="internal xref">Contributors</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#appendix-C" class="auto internal xref"></a><a href="#name-authors-addresses" class="internal xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1"> <span>[<a href="#RFC9341" class="cite xref">RFC9341</a>]</span> describes a performance measurement method, which can be used to measure packet loss, delay, and jitter 
   on data traffic. Since this method is based on marking consecutive batches of packets, it is referred to as the Alternate-Marking 
   Method. <span>[<a href="#RFC8372" class="cite xref">RFC8372</a>]</span> outlines key considerations for developing a solution for MPLS flow identification, intended for 
   use in performance monitoring of MPLS flows.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2"> This document defines the encapsulation for MPLS performance measurement with the Alternate-Marking Method, which performs 
   flow-based packet loss, delay, and jitter measurements on the MPLS traffic. The encapsulation defined in this document supports 
   performance monitoring at the intermediate nodes and MPLS flow identification at both transport and service layers.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">
  Note that, at the time of writing, there is ongoing
  work on MPLS Network Actions (MNAs) <span>[<a href="#RFC9613" class="cite xref">RFC9613</a>]</span>. The MPLS performance
  measurement with the Alternate-Marking Method can also be achieved by
  MNA encapsulation. In addition, MNA will provide a broader use-case
  applicability. That means the MNA encapsulation is expected to
  provide a more advanced solution.  The MPLS Working Group has agreed
  that this document will be made Historic when that solution is published as an RFC.<a href="#section-1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="conventions">
<section id="section-2">
      <h2 id="name-conventions-used-in-this-do">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-conventions-used-in-this-do" class="section-name selfRef">Conventions Used in This Document</a>
      </h2>
<div id="abbrevs">
<section id="section-2.1">
        <h3 id="name-abbreviations">
<a href="#section-2.1" class="section-number selfRef">2.1. </a><a href="#name-abbreviations" class="section-name selfRef">Abbreviations</a>
        </h3>
<span class="break"></span><dl class="dlParallel" id="section-2.1-1">
          <dt id="section-2.1-1.1">ACL:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.2">Access Control List<a href="#section-2.1-1.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.3">BoS:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.4">Bottom of Stack<a href="#section-2.1-1.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.5">cSPL:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.6">Composite Special Purpose Label, the combination of the Extension Label (value 15) and an Extended Special Purpose Label<a href="#section-2.1-1.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.7">DSCP:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.8">Differentiated Services Code Point<a href="#section-2.1-1.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.9">ELC:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.10">Entropy Label Capability<a href="#section-2.1-1.10" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.11">ERLD:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.12">Entropy Readable Label Depth<a href="#section-2.1-1.12" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.13">eSPL:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.14">Extended Special Purpose Label, a special-purpose label that is placed in the label stack after the Extension Label (value 15)<a href="#section-2.1-1.14" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.15">FL:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.16">Flow-ID Label<a href="#section-2.1-1.16" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.17">FLC:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.18">Flow-ID Label Capability<a href="#section-2.1-1.18" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.19">FLI:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.20">Flow-ID Label Indicator<a href="#section-2.1-1.20" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.21">FRLD:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.22">Flow-ID Readable Label Depth<a href="#section-2.1-1.22" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.23">IPFIX:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.24">IP Flow Information Export <span>[<a href="#RFC7011" class="cite xref">RFC7011</a>]</span><a href="#section-2.1-1.24" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.25">LSP:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.26">Label Switched Path<a href="#section-2.1-1.26" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.27">LSR:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.28">Label Switching Router<a href="#section-2.1-1.28" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.29">MPLS:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.30">Multi-Protocol Label Switching<a href="#section-2.1-1.30" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.31">NMS:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.32">Network Management System<a href="#section-2.1-1.32" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.33">PHP:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.34">Penultimate Hop Popping<a href="#section-2.1-1.34" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.35">PM:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.36">Performance Measurement<a href="#section-2.1-1.36" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.37">PW:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.38">Pseudowire<a href="#section-2.1-1.38" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.39">SFL:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.40">Synonymous Flow Label<a href="#section-2.1-1.40" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.41">SID:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.42">Segment ID<a href="#section-2.1-1.42" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.43">SR:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.44">Segment Routing<a href="#section-2.1-1.44" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.45">TC:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.46">Traffic Class<a href="#section-2.1-1.46" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.47">TTL:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.48">Time to Live<a href="#section-2.1-1.48" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.49">VC:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.50">Virtual Channel<a href="#section-2.1-1.50" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.51">VPN:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.52">Virtual Private Network<a href="#section-2.1-1.52" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-1.53">XL:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-1.54">Extension Label<a href="#section-2.1-1.54" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="requirements">
<section id="section-2.2">
        <h3 id="name-requirements-language">
<a href="#section-2.2" class="section-number selfRef">2.2. </a><a href="#name-requirements-language" class="section-name selfRef">Requirements Language</a>
        </h3>
<p id="section-2.2-1">
    The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>", "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>", "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
    "<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be interpreted as
    described in BCP 14 <span>[<a href="#RFC2119" class="cite xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="cite xref">RFC8174</a>]</span> 
    when, and only when, they appear in all capitals, as shown here.<a href="#section-2.2-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="flow-based-pm-encapsulation">
<section id="section-3">
      <h2 id="name-flow-based-pm-encapsulation">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-flow-based-pm-encapsulation" class="section-name selfRef">Flow-Based PM Encapsulation in MPLS</a>
      </h2>
<p id="section-3-1"> This document defines the Flow-based MPLS performance measurement encapsulation with the Alternate-Marking Method, as shown 
 in <a href="#Figure_1" class="auto internal xref">Figure 1</a>.<a href="#section-3-1" class="pilcrow">¶</a></p>
<span id="name-flow-based-pm-encapsulation-"></span><div id="Figure_1">
<figure id="figure-1">
        <div class="alignLeft art-text artwork" id="section-3-2.1">
<pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|          Extension Label (15)         |  TC |S|      TTL      |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     Flow-ID Label Indicator (18)      |  TC |S|      TTL      |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|             Flow-ID Label             |L|D|T|S|      TTL      |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-flow-based-pm-encapsulation-" class="selfRef">Flow-based PM Encapsulation in MPLS</a>
        </figcaption></figure>
</div>
<p id="section-3-3">
 The Flow-ID Label Indicator (FLI) is an Extended Special Purpose Label (eSPL), which is combined with the Extension
 Label (XL, value 15) to form a Composite Special Purpose Label (cSPL), as defined in <span>[<a href="#RFC9017" class="cite xref">RFC9017</a>]</span>. The
 FLI is defined in this document as value 18.<a href="#section-3-3" class="pilcrow">¶</a></p>
<p id="section-3-4">
 The Traffic Class (TC) and Time To Live (TTL) fields of the XL and FLI <span class="bcp14">MUST</span> use the same values of the label immediately 
 preceding the XL. The Bottom of the Stack (BoS) bit <span>[<a href="#RFC3032" class="cite xref">RFC3032</a>]</span> for the XL and FLI <span class="bcp14">MUST</span> be zero. If any XL or FLI 
 processed by a node has the BoS bit set, the node <span class="bcp14">MUST</span> discard the packet and <span class="bcp14">MAY</span> log an error.<a href="#section-3-4" class="pilcrow">¶</a></p>
<p id="section-3-5">
 The Flow-ID Label (FL) is used as an MPLS flow identification <span>[<a href="#RFC8372" class="cite xref">RFC8372</a>]</span>. Its value <span class="bcp14">MUST</span> be unique within the 
 administrative domain. The FL values <span class="bcp14">MAY</span> be allocated by an external NMS or controller based on the measurement 
 object instances (such as LSP or PW). There is a one-to-one mapping between a Flow-ID and a flow. The specific method
 on how to allocate the FL values is described in <a href="#procedures-of-flow-id-alloc" class="auto internal xref">Section 5</a>.<a href="#section-3-5" class="pilcrow">¶</a></p>
<p id="section-3-6">
 The FL, preceded by a cSPL, can be placed either at the bottom or in the middle, but not at the top, of the MPLS label stack, 
 and it <span class="bcp14">MAY</span> appear multiple times within a label stack. <a href="#examples-for-flow-id" class="auto internal xref">Section 3.1</a> of this document provides several examples to illustrate the 
 application of FL in a label stack. The TTL for the FL <span class="bcp14">MUST</span> be zero to ensure that it is not used inadvertently for forwarding. 
 The BoS bit for the FL depends on whether the FL is placed at the bottom of the MPLS label stack, i.e., the BoS bit for the FL 
 is set only when the FL is placed at the bottom of the MPLS label stack.<a href="#section-3-6" class="pilcrow">¶</a></p>
<p id="section-3-7">
 Besides the flow identification, a color-marking field is also necessary for the Alternate-Marking Method. To color the MPLS traffic and to distinguish between hop-by-hop measurement and edge-to-edge measurement, the 
 TC for the FL is defined as follows:<a href="#section-3-7" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3-8.1">
          <p id="section-3-8.1.1">
 L(oss) bit is used for coloring the MPLS packets for loss measurement. Setting the bit means color 1, and unsetting the bit means 
 color 0.<a href="#section-3-8.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-3-8.2">
          <p id="section-3-8.2.1">
 D(elay) bit is used for coloring the MPLS packets for delay/jitter measurement. Setting the bit means color for delay measurement.<a href="#section-3-8.2.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-3-8.3">
          <p id="section-3-8.3.1">
    T(ype) bit is used to indicate the measurement type. When the T bit is set to 1, that means edge-to-edge performance
 measurement. When the T bit is set to 0, that means hop-by-hop performance measurement.<a href="#section-3-8.3.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="section-3-9">
 Considering the FL is not used as a forwarding label, the repurposing of the TC for the FL is feasible and viable.<a href="#section-3-9" class="pilcrow">¶</a></p>
<div id="examples-for-flow-id">
<section id="section-3.1">
        <h3 id="name-examples-for-applying-flow-">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-examples-for-applying-flow-" class="section-name selfRef">Examples for Applying Flow-ID Label in a Label Stack</a>
        </h3>
<p id="section-3.1-1"> Three examples of different layouts of the FL (4
        octets) are illustrated as follows. Note that more examples may
        exist.<a href="#section-3.1-1" class="pilcrow">¶</a></p>
<div id="example-one">
<section id="section-3.1.1">
          <h4 id="name-layout-of-the-flow-id-label">
<a href="#section-3.1.1" class="section-number selfRef">3.1.1. </a><a href="#name-layout-of-the-flow-id-label" class="section-name selfRef">Layout of the Flow-ID Label when Applied to MPLS Transport</a>
          </h4>
<span id="name-applying-flow-id-to-mpls-tr"></span><div id="Figure_2">
<figure id="figure-2">
            <div class="alignCenter art-text artwork" id="section-3.1.1-1.1">
<pre>
+----------------------+
|          LSP         |
|         Label        |
+----------------------+ &lt;--+
|       Extension      |    |
|         Label        |    |
+----------------------+    |--- cSPL
|     Flow-ID Label    |    |
|       Indicator      |    |
+----------------------+ &lt;--+
|        Flow-ID       |
|         Label        |
+----------------------+
|      Application     |
|         Label        |
+----------------------+ &lt;= Bottom of stack
|                      |
|        Payload       |
|                      |
+----------------------+</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-applying-flow-id-to-mpls-tr" class="selfRef">Applying Flow-ID to MPLS Transport</a>
            </figcaption></figure>
</div>
<p id="section-3.1.1-2"> With penultimate hop popping (PHP <span><a href="https://rfc-editor.org/rfc/rfc3031#section-3.16" class="relref">Section 3.16</a> of [<a href="#RFC3031" class="cite xref">RFC3031</a>]</span>), the top label is "popped at the
        penultimate LSR of the LSP, rather than at the LSP Egress". The final bullet of 
        <a href="#procedures-of-encap" class="auto internal xref">Section 4</a> of the present document requires that "[t]he processing node <span class="bcp14">MUST</span> pop the
        XL, FLI, and FL from the MPLS label stack when it needs to pop the
        preceding forwarding label", which implies that the penultimate Label
        Switching Router (LSR) needs to follow the requirement of <a href="#procedures-of-encap" class="auto internal xref">Section 4</a> in order to support this
        specification. If this is done, the egress LSR is excluded from
        the performance measurement. Therefore, when this specification is in
        use, PHP should be disabled, unless the penultimate LSR is known to
        have the necessary support and unless it's acceptable to exclude the
        egress LSR.<a href="#section-3.1.1-2" class="pilcrow">¶</a></p>
<p id="section-3.1.1-3"> Also note that in other examples of applying Flow-ID to MPLS
        transport, one LSP label can be substituted by multiple SID labels in
        the case of using SR Policy, and the combination of cSPL and FL can be placed between SID labels, as specified in <a href="#flc-frld-considerations" class="auto internal xref">Section 6</a>.<a href="#section-3.1.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="example-two">
<section id="section-3.1.2">
          <h4 id="name-layout-of-the-flow-id-label-">
<a href="#section-3.1.2" class="section-number selfRef">3.1.2. </a><a href="#name-layout-of-the-flow-id-label-" class="section-name selfRef">Layout of the Flow-ID Label when Applied to MPLS Service</a>
          </h4>
<span id="name-applying-flow-id-to-mpls-se"></span><div id="Figure_3">
<figure id="figure-3">
            <div class="alignCenter art-text artwork" id="section-3.1.2-1.1">
<pre>
+----------------------+
|          LSP         |
|         Label        |
+----------------------+
|      Application     |
|         Label        |
+----------------------+ &lt;--+
|       Extension      |    |
|         Label        |    |
+----------------------+    |--- cSPL
|     Flow-ID Label    |    |
|       Indicator      |    |
+----------------------+ &lt;--+
|        Flow-ID       |
|         Label        |
+----------------------+ &lt;= Bottom of stack
|                      |
|        Payload       |
|                      |
+----------------------+</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a>:
<a href="#name-applying-flow-id-to-mpls-se" class="selfRef">Applying Flow-ID to MPLS Service</a>
            </figcaption></figure>
</div>
<p id="section-3.1.2-2"> Note that in this case, the application label can be an MPLS PW
        label, MPLS Ethernet VPN label, or MPLS IP VPN label, and it is also
        called a VC label as defined in <span>[<a href="#RFC4026" class="cite xref">RFC4026</a>]</span>.<a href="#section-3.1.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="example-three">
<section id="section-3.1.3">
          <h4 id="name-layout-of-the-flow-id-label-w">
<a href="#section-3.1.3" class="section-number selfRef">3.1.3. </a><a href="#name-layout-of-the-flow-id-label-w" class="section-name selfRef">Layout of the Flow-ID Label when Applied to both MPLS Transport and MPLS Service</a>
          </h4>
<span id="name-applying-flow-id-to-both-mp"></span><div id="Figure_4">
<figure id="figure-4">
            <div class="alignCenter art-text artwork" id="section-3.1.3-1.1">
<pre>
+----------------------+
|          LSP         |
|         Label        |
+----------------------+ &lt;--+
|       Extension      |    |
|         Label        |    |
+----------------------+    |--- cSPL
|     Flow-ID Label    |    |
|       Indicator      |    |
+----------------------+ &lt;--+
|        Flow-ID       |
|         Label        |
+----------------------+
|      Application     |
|         Label        |
+----------------------+ &lt;--+
|       Extension      |    |
|         Label        |    |
+----------------------+    |--- cSPL
|     Flow-ID Label    |    |
|       Indicator      |    |
+----------------------+ &lt;--+
|        Flow-ID       |
|         Label        |
+----------------------+ &lt;= Bottom of stack
|                      |
|        Payload       |
|                      |
+----------------------+</pre>
</div>
<figcaption><a href="#figure-4" class="selfRef">Figure 4</a>:
<a href="#name-applying-flow-id-to-both-mp" class="selfRef">Applying Flow-ID to both MPLS Transport and MPLS Service</a>
            </figcaption></figure>
</div>
<p id="section-3.1.3-2">Note that for this example, the two FL values appearing
        in a label stack must be different. In other words, the FL
        applied to the MPLS transport and the FL applied to the
        MPLS service must be different. Also, note that the two FL
        values are independent of each other. For example, two packets can
        belong to the same VPN flow but different LSP flows, or two packets
        can belong to different VPN flows but the same LSP flow.<a href="#section-3.1.3-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="procedures-of-encap">
<section id="section-4">
      <h2 id="name-procedures-of-encapsulation">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-procedures-of-encapsulation" class="section-name selfRef">Procedures of Encapsulation, Look-Up, and Decapsulation</a>
      </h2>
<p id="section-4-1">
    The procedures for FL encapsulation, look-up, and decapsulation are summarized as follows:<a href="#section-4-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4-2.1">
          <p id="section-4-2.1.1">
    The MPLS ingress node <span>[<a href="#RFC3031" class="cite xref">RFC3031</a>]</span> inserts the XL, FLI, and FL into the MPLS label stack. At the same time,
 the ingress node sets the FL value, the two color-marking bits, and the T bit, as defined in <a href="#flow-based-pm-encapsulation" class="auto internal xref">Section 3</a>.<a href="#section-4-2.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-4-2.2">
          <p id="section-4-2.2.1">
    If edge-to-edge measurement is applied, i.e., the T bit is set to 1, then only the MPLS ingress/egress node <span>[<a href="#RFC3031" class="cite xref">RFC3031</a>]</span>
 is the processing node; otherwise, all the MPLS nodes along the LSP are the processing nodes. The processing node looks
 up the FL with the help of the XL and FLI, and exports the collected data (such as the Flow-ID, block counters, and timestamps)
 to an external NMS/controller, referring to the Alternate-Marking Method. Section 6 of <span>[<a href="#I-D.ietf-ippm-alt-mark-deployment" class="cite xref">ALT-MARK</a>]</span>
 describes protocols for collected data export; the details on how to export the collected data are outside the scope
 of this document. Note that
      while looking up the FL, the transit node needs to
      inspect beyond the label at the top
      of the label stack used to make forwarding decisions.<a href="#section-4-2.2.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-4-2.3">
          <p id="section-4-2.3.1">
    The processing node <span class="bcp14">MUST</span> pop the XL, FLI, and FL from the MPLS label stack when it needs to pop the preceding forwarding label. 
 The egress node <span class="bcp14">MUST</span> pop the whole MPLS label stack. This document doesn't introduce any new process to the decapsulated packet.<a href="#section-4-2.3.1" class="pilcrow">¶</a></p>
</li>
      </ul>
</section>
</div>
<div id="procedures-of-flow-id-alloc">
<section id="section-5">
      <h2 id="name-procedures-of-flow-id-alloc">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-procedures-of-flow-id-alloc" class="section-name selfRef">Procedures of Flow-ID Allocation</a>
      </h2>
<p id="section-5-1">
    There are at least two ways of allocating Flow-ID. One way is to allocate Flow-ID by a manual trigger from the network
 operator, and the other way is to allocate Flow-ID by an automatic trigger from the ingress node. Details are as follows:<a href="#section-5-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5-2.1">
          <p id="section-5-2.1.1">
    In the case of a manual trigger, the network operator manually inputs the characteristics (e.g., IP five
 tuples and IP DSCP) of the measured flow; then the NMS/controller generates one or two
 Flow-IDs based on the input from the network operator and provisions the ingress node with the characteristics
 of the measured flow and the corresponding allocated Flow-ID(s).<a href="#section-5-2.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-5-2.2">
          <p id="section-5-2.2.1">
    In the case of an automatic trigger, the ingress node identifies the flow entering the measured path and
 exports the characteristics of the identified flow to the NMS/controller by IPFIX <span>[<a href="#RFC7011" class="cite xref">RFC7011</a>]</span>;
 then the NMS/controller generates one or two Flow-IDs based on the characteristics exported from the ingress node
 and provisions the ingress node with the characteristics of the identified flow and the corresponding allocated Flow-ID(s).<a href="#section-5-2.2.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="section-5-3">
    The policy preconfigured at the NMS/controller decides whether one Flow-ID or two Flow-IDs are generated.
 If the performance measurement on the MPLS service is enabled, then one Flow-ID applied to the MPLS service is generated.
 If the performance measurement on the MPLS transport is enabled, then one Flow-ID applied to the MPLS transport is generated.
 If both of them are enabled, then two Flow-IDs are respectively applied to the MPLS service and the MPLS transport are generated. 
 In this case, a transit node needs to look up both of the two Flow-IDs by default. However, this behavior can be changed through 
 configuration, such as by setting it to look up only the Flow-ID applied to the MPLS transport.<a href="#section-5-3" class="pilcrow">¶</a></p>
<p id="section-5-4">
    Whether using the two methods mentioned above or other methods to allocate Flow-ID, the NMS/controller <span class="bcp14">MUST</span> ensure that every
 generated Flow-ID is unique within the administrative domain and <span class="bcp14">MUST NOT</span> have any value in the reserved label space
 (0-15) <span>[<a href="#RFC3032" class="cite xref">RFC3032</a>]</span>. Specifically, the statement of "Flow-ID is unique" means that the values of Flow-ID are distinct 
 and non-redundant for any flow at any given time within an administrative domain, such that no two flows share the same Flow-ID. 
 This uniqueness ensures that each flow can be individually identified, tracked, and differentiated from others for accurate performance 
 monitoring and management.<a href="#section-5-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="flc-frld-considerations">
<section id="section-6">
      <h2 id="name-flc-and-frld-considerations">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-flc-and-frld-considerations" class="section-name selfRef">FLC and FRLD Considerations</a>
      </h2>
<p id="section-6-1"> Analogous to the Entropy Label Capability (ELC) defined in <span><a href="https://rfc-editor.org/rfc/rfc6790#section-5" class="relref">Section 5</a> of [<a href="#RFC6790" class="cite xref">RFC6790</a>]</span> and the
  Entropy Readable Label Depth (ERLD) defined in <span><a href="https://rfc-editor.org/rfc/rfc8662#section-4" class="relref">Section 4</a> of [<a href="#RFC8662" class="cite xref">RFC8662</a>]</span>, the Flow-ID Label
  Capability (FLC) and the Flow-ID Readable Label Depth (FRLD) are defined in this document. Both FLC and FRLD have
  similar semantics with the ELC and ERLD to a router, except that the Flow-ID is used in its flow identification
  function while the Entropy is used in its load-balancing function.<a href="#section-6-1" class="pilcrow">¶</a></p>
<p id="section-6-2"> The ingress node <span class="bcp14">MUST</span> insert each FL at an appropriate depth, which ensures the node to which the
  FL is exposed has the FLC. The ingress node <span class="bcp14">SHOULD</span> insert each FL within an appropriate FRLD, which is the
  minimum FRLD of all the on-path nodes that need to read and use the FL in question. How the ingress node knows
  the FLC and FRLD of all the on-path nodes is outside the scope of this document.<a href="#section-6-2" class="pilcrow">¶</a></p>
<p id="section-6-3"> When the SR paths are used for transport, the label stack grows as the number of on-path segments increases. If
  the number of on-path segments is high, that may become a challenge for the FL to be placed within an
  appropriate FRLD. To overcome this potential challenge, an implementation <span class="bcp14">MAY</span> allow
  the ingress node to place FL between SID labels. This means that multiple identical FLs at different depths <span class="bcp14">MAY</span> be
  interleaved with SID labels. When this occurs, sophisticated network planning may be needed, which is beyond the scope of this document.<a href="#section-6-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="ecmp">
<section id="section-7">
      <h2 id="name-equal-cost-multipath-consid">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-equal-cost-multipath-consid" class="section-name selfRef">Equal-Cost Multipath Considerations</a>
      </h2>
<p id="section-7-1"> Analogous to what's described in <span><a href="https://rfc-editor.org/rfc/rfc8957#section-5" class="relref">Section 5</a> of [<a href="#RFC8957" class="cite xref">RFC8957</a>]</span>, under conditions of equal-cost multipath, the introduction of the FL may lead to the same problem that is caused by the Synonymous Flow Label (SFL) <span>[<a href="#RFC8957" class="cite xref">RFC8957</a>]</span>. 
  The two solutions proposed for SFL also apply here. Specifically, adding FL to an existing flow may cause that flow to take a different
  path. If the operator expects to resolve this problem, they can choose to apply entropy labels <span>[<a href="#RFC6790" class="cite xref">RFC6790</a>]</span> or add FL to all flows.<a href="#section-7-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec-considerations">
<section id="section-8">
      <h2 id="name-security-considerations">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-8-1"> As specified in <span><a href="https://rfc-editor.org/rfc/rfc9341#section-7.1" class="relref">Section 7.1</a> of [<a href="#RFC9341" class="cite xref">RFC9341</a>]</span>, "for security reasons, the Alternate-Marking Method <span class="bcp14">MUST</span> only be applied 
  to controlled domains." This requirement applies when the MPLS performance measurement with Alternate-Marking Method is taken into 
  account, which means the MPLS encapsulation and related procedures defined in this document <span class="bcp14">MUST</span> only be applied to controlled domains; 
  otherwise, the potential attacks discussed in <span><a href="https://rfc-editor.org/rfc/rfc9341#section-10" class="relref">Section 10</a> of [<a href="#RFC9341" class="cite xref">RFC9341</a>]</span> may be applied to the deployed MPLS networks.<a href="#section-8-1" class="pilcrow">¶</a></p>
<p id="section-8-2"> As specified in <a href="#flow-based-pm-encapsulation" class="auto internal xref">Section 3</a>, the value of an FL <span class="bcp14">MUST</span> be unique within the administrative domain. In other words, the 
  administrative domain is the scope of an FL. The method for achieving multi-domain performance measurement with the same 
  FL is outside the scope of this document. The FL <span class="bcp14">MUST NOT</span> be signaled and distributed outside the administrative 
  domain. Improper configuration that allows the FL to be passed from one administrative domain to another would result in 
  Flow-ID conflicts.<a href="#section-8-2" class="pilcrow">¶</a></p>
<p id="section-8-3"> To prevent packets carrying FLs from leaking from one domain to another, domain boundary
  nodes <span class="bcp14">MUST</span> deploy policies (e.g., ACL) to filter out these packets.  Specifically, at the sending edge,
  the domain boundary node <span class="bcp14">MUST</span> filter out the packets that carry the FLI and are sent
  to other domains. At the receiving edge, the domain boundary node <span class="bcp14">MUST</span> drop the packets that carry the
  FLI and are from other domains. Note that packet leakage is neither breaching privacy 
  nor a source of DoS.<a href="#section-8-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="iana-considerations">
<section id="section-9">
      <h2 id="name-iana-considerations">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-9-1">IANA has assigned the following value in the "Extended Special-Purpose MPLS Label Values" registry within the "Special-Purpose Multiprotocol Label Switching (MPLS) Label Values" registry group:<a href="#section-9-1" class="pilcrow">¶</a></p>
<span id="name-new-extended-special-purpos"></span><div id="Table_1">
<table class="center" id="table-1">
        <caption>
<a href="#table-1" class="selfRef">Table 1</a>:
<a href="#name-new-extended-special-purpos" class="selfRef">New Extended Special-Purpose MPLS Label Value for Flow-ID Label Indicator</a>
        </caption>
<thead>
          <tr>
            <th class="text-left" rowspan="1" colspan="1">Value</th>
            <th class="text-left" rowspan="1" colspan="1">Description</th>
            <th class="text-left" rowspan="1" colspan="1">Reference</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">18</td>
            <td class="text-left" rowspan="1" colspan="1">Flow-ID Label Indicator (FLI)</td>
            <td class="text-left" rowspan="1" colspan="1">RFC 9714</td>
          </tr>
        </tbody>
      </table>
</div>
</section>
</div>
<section id="section-10">
      <h2 id="name-references">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-10.1">
        <h3 id="name-normative-references">
<a href="#section-10.1" class="section-number selfRef">10.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3031">[RFC3031]</dt>
        <dd>
<span class="refAuthor">Rosen, E.</span>, <span class="refAuthor">Viswanathan, A.</span>, and <span class="refAuthor">R. Callon</span>, <span class="refTitle">"Multiprotocol Label Switching Architecture"</span>, <span class="seriesInfo">RFC 3031</span>, <span class="seriesInfo">DOI 10.17487/RFC3031</span>, <time datetime="2001-01" class="refDate">January 2001</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3031">https://www.rfc-editor.org/info/rfc3031</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3032">[RFC3032]</dt>
        <dd>
<span class="refAuthor">Rosen, E.</span>, <span class="refAuthor">Tappan, D.</span>, <span class="refAuthor">Fedorkow, G.</span>, <span class="refAuthor">Rekhter, Y.</span>, <span class="refAuthor">Farinacci, D.</span>, <span class="refAuthor">Li, T.</span>, and <span class="refAuthor">A. Conta</span>, <span class="refTitle">"MPLS Label Stack Encoding"</span>, <span class="seriesInfo">RFC 3032</span>, <span class="seriesInfo">DOI 10.17487/RFC3032</span>, <time datetime="2001-01" class="refDate">January 2001</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3032">https://www.rfc-editor.org/info/rfc3032</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9017">[RFC9017]</dt>
      <dd>
<span class="refAuthor">Andersson, L.</span>, <span class="refAuthor">Kompella, K.</span>, and <span class="refAuthor">A. Farrel</span>, <span class="refTitle">"Special-Purpose Label Terminology"</span>, <span class="seriesInfo">RFC 9017</span>, <span class="seriesInfo">DOI 10.17487/RFC9017</span>, <time datetime="2021-04" class="refDate">April 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9017">https://www.rfc-editor.org/info/rfc9017</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-10.2">
        <h3 id="name-informative-references">
<a href="#section-10.2" class="section-number selfRef">10.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="I-D.ietf-ippm-alt-mark-deployment">[ALT-MARK]</dt>
        <dd>
<span class="refAuthor">Fioccola, G.</span>, <span class="refAuthor">Zhu, K.</span>, <span class="refAuthor">Graf, T.</span>, <span class="refAuthor">Nilo, M.</span>, and <span class="refAuthor">L. Zhang</span>, <span class="refTitle">"Alternate Marking Deployment Framework"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-ippm-alt-mark-deployment-02</span>, <time datetime="2024-10-09" class="refDate">9 October 2024</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-ippm-alt-mark-deployment-02">https://datatracker.ietf.org/doc/html/draft-ietf-ippm-alt-mark-deployment-02</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4026">[RFC4026]</dt>
        <dd>
<span class="refAuthor">Andersson, L.</span> and <span class="refAuthor">T. Madsen</span>, <span class="refTitle">"Provider Provisioned Virtual Private Network (VPN) Terminology"</span>, <span class="seriesInfo">RFC 4026</span>, <span class="seriesInfo">DOI 10.17487/RFC4026</span>, <time datetime="2005-03" class="refDate">March 2005</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4026">https://www.rfc-editor.org/info/rfc4026</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6790">[RFC6790]</dt>
        <dd>
<span class="refAuthor">Kompella, K.</span>, <span class="refAuthor">Drake, J.</span>, <span class="refAuthor">Amante, S.</span>, <span class="refAuthor">Henderickx, W.</span>, and <span class="refAuthor">L. Yong</span>, <span class="refTitle">"The Use of Entropy Labels in MPLS Forwarding"</span>, <span class="seriesInfo">RFC 6790</span>, <span class="seriesInfo">DOI 10.17487/RFC6790</span>, <time datetime="2012-11" class="refDate">November 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6790">https://www.rfc-editor.org/info/rfc6790</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7011">[RFC7011]</dt>
        <dd>
<span class="refAuthor">Claise, B., Ed.</span>, <span class="refAuthor">Trammell, B., Ed.</span>, and <span class="refAuthor">P. Aitken</span>, <span class="refTitle">"Specification of the IP Flow Information Export (IPFIX) Protocol for the Exchange of Flow Information"</span>, <span class="seriesInfo">STD 77</span>, <span class="seriesInfo">RFC 7011</span>, <span class="seriesInfo">DOI 10.17487/RFC7011</span>, <time datetime="2013-09" class="refDate">September 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7011">https://www.rfc-editor.org/info/rfc7011</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8372">[RFC8372]</dt>
        <dd>
<span class="refAuthor">Bryant, S.</span>, <span class="refAuthor">Pignataro, C.</span>, <span class="refAuthor">Chen, M.</span>, <span class="refAuthor">Li, Z.</span>, and <span class="refAuthor">G. Mirsky</span>, <span class="refTitle">"MPLS Flow Identification Considerations"</span>, <span class="seriesInfo">RFC 8372</span>, <span class="seriesInfo">DOI 10.17487/RFC8372</span>, <time datetime="2018-05" class="refDate">May 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8372">https://www.rfc-editor.org/info/rfc8372</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8662">[RFC8662]</dt>
        <dd>
<span class="refAuthor">Kini, S.</span>, <span class="refAuthor">Kompella, K.</span>, <span class="refAuthor">Sivabalan, S.</span>, <span class="refAuthor">Litkowski, S.</span>, <span class="refAuthor">Shakir, R.</span>, and <span class="refAuthor">J. Tantsura</span>, <span class="refTitle">"Entropy Label for Source Packet Routing in Networking (SPRING) Tunnels"</span>, <span class="seriesInfo">RFC 8662</span>, <span class="seriesInfo">DOI 10.17487/RFC8662</span>, <time datetime="2019-12" class="refDate">December 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8662">https://www.rfc-editor.org/info/rfc8662</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8957">[RFC8957]</dt>
        <dd>
<span class="refAuthor">Bryant, S.</span>, <span class="refAuthor">Chen, M.</span>, <span class="refAuthor">Swallow, G.</span>, <span class="refAuthor">Sivabalan, S.</span>, and <span class="refAuthor">G. Mirsky</span>, <span class="refTitle">"Synonymous Flow Label Framework"</span>, <span class="seriesInfo">RFC 8957</span>, <span class="seriesInfo">DOI 10.17487/RFC8957</span>, <time datetime="2021-01" class="refDate">January 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8957">https://www.rfc-editor.org/info/rfc8957</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9341">[RFC9341]</dt>
        <dd>
<span class="refAuthor">Fioccola, G., Ed.</span>, <span class="refAuthor">Cociglio, M.</span>, <span class="refAuthor">Mirsky, G.</span>, <span class="refAuthor">Mizrahi, T.</span>, and <span class="refAuthor">T. Zhou</span>, <span class="refTitle">"Alternate-Marking Method"</span>, <span class="seriesInfo">RFC 9341</span>, <span class="seriesInfo">DOI 10.17487/RFC9341</span>, <time datetime="2022-12" class="refDate">December 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9341">https://www.rfc-editor.org/info/rfc9341</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9613">[RFC9613]</dt>
      <dd>
<span class="refAuthor">Bocci, M., Ed.</span>, <span class="refAuthor">Bryant, S.</span>, and <span class="refAuthor">J. Drake</span>, <span class="refTitle">"Requirements for Solutions that Support MPLS Network Actions (MNAs)"</span>, <span class="seriesInfo">RFC 9613</span>, <span class="seriesInfo">DOI 10.17487/RFC9613</span>, <time datetime="2024-08" class="refDate">August 2024</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9613">https://www.rfc-editor.org/info/rfc9613</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="acknowledgements">
<section id="appendix-A">
      <h2 id="name-acknowledgements">
<a href="#name-acknowledgements" class="section-name selfRef">Acknowledgements</a>
      </h2>
<p id="appendix-A-1"> The authors acknowledge <span class="contact-name">Loa       Andersson</span>, <span class="contact-name">Tarek Saad</span>, <span class="contact-name">Stewart Bryant</span>, <span class="contact-name">Rakesh Gandhi</span>,
      <span class="contact-name">Greg Mirsky</span>, <span class="contact-name">Aihua Liu</span>,
      <span class="contact-name">Shuangping Zhan</span>, <span class="contact-name">Ming Ke</span>,
      <span class="contact-name">Wei He</span>, <span class="contact-name">Ximing Dong</span>,
      <span class="contact-name">Darren Dukes</span>, <span class="contact-name">Tony Li</span>,
      <span class="contact-name">James Guichard</span>, <span class="contact-name">Daniele       Ceccarelli</span>, <span class="contact-name">Éric Vyncke</span>, <span class="contact-name">John Scudder</span>, <span class="contact-name">Gunter van de Velde</span>,
      <span class="contact-name">Roman Danyliw</span>, <span class="contact-name">Warren       Kumari</span>, <span class="contact-name">Murray Kucherawy</span>, <span class="contact-name">Deb Cooley</span>, <span class="contact-name">Zaheduzzaman Sarker</span>, and
      <span class="contact-name">Deborah Brungard</span> for their careful review and
      very helpful comments.<a href="#appendix-A-1" class="pilcrow">¶</a></p>
<p id="appendix-A-2"> They also acknowledge <span class="contact-name">Italo Busi</span> and
      <span class="contact-name">Chandrasekar Ramachandran</span> for their insightful
      MPLS-RT review and constructive comments.<a href="#appendix-A-2" class="pilcrow">¶</a></p>
<p id="appendix-A-3"> Additionally, the authors thank <span class="contact-name">Dhruv Dhody</span> for the English grammar review.<a href="#appendix-A-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="contrib">
<section id="appendix-B">
      <h2 id="name-contributors">
<a href="#name-contributors" class="section-name selfRef">Contributors</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Minxue Wang</span></div>
<div dir="auto" class="left"><span class="org">China Mobile</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:wangminxue@chinamobile.com" class="email">wangminxue@chinamobile.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Wen Ye</span></div>
<div dir="auto" class="left"><span class="org">China Mobile</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:yewen@chinamobile.com" class="email">yewen@chinamobile.com</a>
</div>
</address>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-C">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Weiqiang Cheng (<span class="role">editor</span>)</span></div>
<div dir="auto" class="left"><span class="org">China Mobile</span></div>
<div dir="auto" class="left"><span class="locality">Beijing</span></div>
<div dir="auto" class="left"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:chengweiqiang@chinamobile.com" class="email">chengweiqiang@chinamobile.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Xiao Min (<span class="role">editor</span>)</span></div>
<div dir="auto" class="left"><span class="org">ZTE Corp.</span></div>
<div dir="auto" class="left"><span class="locality">Nanjing</span></div>
<div dir="auto" class="left"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:xiao.min2@zte.com.cn" class="email">xiao.min2@zte.com.cn</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Tianran Zhou</span></div>
<div dir="auto" class="left"><span class="org">Huawei</span></div>
<div dir="auto" class="left"><span class="locality">Beijing</span></div>
<div dir="auto" class="left"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:zhoutianran@huawei.com" class="email">zhoutianran@huawei.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Jinyou Dai</span></div>
<div dir="auto" class="left"><span class="org">FiberHome</span></div>
<div dir="auto" class="left"><span class="locality">Wuhan</span></div>
<div dir="auto" class="left"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:djy@fiberhome.com" class="email">djy@fiberhome.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Yoav Peleg</span></div>
<div dir="auto" class="left"><span class="org">Broadcom</span></div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:yoav.peleg@broadcom.com" class="email">yoav.peleg@broadcom.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
