<!DOCTYPE html>
<html lang="en" class="RFC">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>RFC 9878: Updates to Private Header (P-Header) Extension Usage in Session Initiation Protocol (SIP) Requests and Responses</title>
<meta content="Christer Holmberg" name="author">
<meta content="Nevenka Biondic" name="author">
<meta content="Gonzalo Salgueiro" name="author">
<meta content="Roland Jesske" name="author">
<meta content='
       
   The Third Generation Partnership Project (3GPP) has identified cases where different SIP private header extensions referred to as "P-" header fields, and defined in RFC 7315, need to be included in SIP requests and responses where they were not allowed according to RFC 7315. This document updates RFC 7315, in order to allow inclusion of the affected "P-" header fields in such requests and responses. This document obsoletes RFC 7976. The changes related to RFC 7976 involve the inclusion of the P-Visited-Network-ID header field in SIP responses.
 
       
   This document also makes updates to RFC 7315 in order to fix misalignments that occurred when RFC 3455 was obsoleted by RFC 7315.
       
    ' name="description">
<meta content="xml2rfc 3.31.0" name="generator">
<meta content="3GPP" name="keyword">
<meta content="Visited" name="keyword">
<meta content="ID" name="keyword">
<meta content="9878" name="rfc.number">
<!-- Generator version information:
  xml2rfc 3.31.0
    Python 3.9.15
    ConfigArgParse 1.5.3
    google-i18n-address 3.0.0
    intervaltree 3.1.0
    Jinja2 3.1.2
    lxml 5.3.0
    platformdirs 3.8.0
    pycountry 22.3.5
    PyYAML 6.0
    requests 2.28.0
    wcwidth 0.2.5
    weasyprint 65.0
-->
<link href="rfc9878.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necessary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://static.ietf.org/fonts/noto-sans/import.css'); /* Sans-serif */
@import url('https://static.ietf.org/fonts/noto-serif/import.css'); /* Serif (print) */
@import url('https://static.ietf.org/fonts/roboto-mono/import.css'); /* Monospace */

:root {
  --font-sans: 'Noto Sans', Arial, Helvetica, sans-serif;
  --font-serif: 'Noto Serif', 'Times', 'Times New Roman', serif;
  --font-mono: 'Roboto Mono', Courier, 'Courier New', monospace;
}

@viewport {
  zoom: 1.0;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: var(--font-sans);
  line-height: 1.6;
  scroll-behavior: smooth;
  overflow-wrap: break-word;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
@media print {
  svg {
    max-height: 850px;
    max-width: 660px;
  }
}
svg[font-family~="serif" i], svg [font-family~="serif" i] {
  font-family: var(--font-serif);
}
svg[font-family~="sans-serif" i], svg [font-family~="sans-serif" i] {
  font-family: var(--font-sans);
}
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  display: table;
  border: none;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre {
  background-color: #f9f9f9;
  font-family: var(--font-mono);
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
blockquote > *:last-child {
  margin-bottom: 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}
.xref {
  overflow-wrap: normal;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    max-width: 100%;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.refSubseries {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: var(--font-sans);
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  .breakable pre {
    break-inside: auto;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The following is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
.sourcecode pre,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .artwork > pre,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: upper-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background slightly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr {
  break-inside: avoid;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottom margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code, dt tt, dt code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the compact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > blockquote:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div.sourcecode:first-child,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type:only-child {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<link href="https://datatracker.ietf.org/doc/draft-ietf-sipcore-rfc7976bis-04" rel="prev">
  <link href="https://dx.doi.org/10.17487/rfc9878" rel="alternate">
  <link href="urn:issn:2070-1721" rel="alternate">
  </head>
<body class="xml2rfc">
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 9878</td>
<td class="center">Update to Private Header</td>
<td class="right">November 2025</td>
</tr></thead>
<tfoot><tr>
<td class="left">Holmberg, et al.</td>
<td class="center">Informational</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Engineering Task Force (IETF)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a href="https://www.rfc-editor.org/rfc/rfc9878" class="eref">9878</a></dd>
<dt class="label-obsoletes">Obsoletes:</dt>
<dd class="obsoletes">
<a href="https://www.rfc-editor.org/rfc/rfc7976" class="eref">7976</a> </dd>
<dt class="label-updates">Updates:</dt>
<dd class="updates">
<a href="https://www.rfc-editor.org/rfc/rfc7315" class="eref">7315</a> </dd>
<dt class="label-category">Category:</dt>
<dd class="category">Informational</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2025-11" class="published">November 2025</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">C. Holmberg</div>
<div class="org">Ericsson</div>
</div>
<div class="author">
      <div class="author-name">N. Biondic</div>
<div class="org">ETSI</div>
</div>
<div class="author">
      <div class="author-name">G. Salgueiro</div>
<div class="org">Cisco Systems, Inc.</div>
</div>
<div class="author">
      <div class="author-name">R. Jesske</div>
<div class="org">Deutsche Telekom</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 9878</h1>
<h1 id="title">Updates to Private Header (P-Header) Extension Usage in Session Initiation Protocol (SIP) Requests and Responses</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">
   The Third Generation Partnership Project (3GPP) has identified cases where different SIP private header extensions referred to as "P-" header fields, and defined in RFC 7315, need to be included in SIP requests and responses where they were not allowed according to RFC 7315. This document updates RFC 7315, in order to allow inclusion of the affected "P-" header fields in such requests and responses. This document obsoletes RFC 7976. The changes related to RFC 7976 involve the inclusion of the P-Visited-Network-ID header field in SIP responses.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
<p id="section-abstract-2">
   This document also makes updates to RFC 7315 in order to fix misalignments that occurred when RFC 3455 was obsoleted by RFC 7315.<a href="#section-abstract-2" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This document is not an Internet Standards Track specification; it is
            published for informational purposes.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by the
            Internet Engineering Steering Group (IESG).  Not all documents
            approved by the IESG are candidates for any level of Internet
            Standard; see Section 2 of RFC 7841.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc9878">https://www.rfc-editor.org/info/rfc9878</a></span>.<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2025 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="auto internal xref">1</a>.  <a href="#name-introduction" class="internal xref">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a href="#section-2" class="auto internal xref">2</a>.  <a href="#name-misalignments-and-3gpp-use-" class="internal xref">Misalignments and 3GPP Use Cases</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1" class="keepWithNext"><a href="#section-2.1" class="auto internal xref">2.1</a>.  <a href="#name-general" class="internal xref">General</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.2">
                <p id="section-toc.1-1.2.2.2.1" class="keepWithNext"><a href="#section-2.2" class="auto internal xref">2.2</a>.  <a href="#name-misalignments" class="internal xref">Misalignments</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3">
                <p id="section-toc.1-1.2.2.3.1"><a href="#section-2.3" class="auto internal xref">2.3</a>.  <a href="#name-3gpp-use-cases" class="internal xref">3GPP Use Cases</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3.2.1">
                    <p id="section-toc.1-1.2.2.3.2.1.1"><a href="#section-2.3.1" class="auto internal xref">2.3.1</a>.  <a href="#name-general-2" class="internal xref">General</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3.2.2">
                    <p id="section-toc.1-1.2.2.3.2.2.1"><a href="#section-2.3.2" class="auto internal xref">2.3.2</a>.  <a href="#name-p-access-network-info" class="internal xref">P-Access-Network-Info</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3.2.3">
                    <p id="section-toc.1-1.2.2.3.2.3.1"><a href="#section-2.3.3" class="auto internal xref">2.3.3</a>.  <a href="#name-p-charging-vector" class="internal xref">P-Charging-Vector</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="auto internal xref">3</a>.  <a href="#name-updates-to-rfc-7315" class="internal xref">Updates to RFC 7315</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="auto internal xref">4</a>.  <a href="#name-iana-considerations" class="internal xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="auto internal xref">5</a>.  <a href="#name-security-considerations" class="internal xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="auto internal xref">6</a>.  <a href="#name-operational-considerations" class="internal xref">Operational considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="auto internal xref">7</a>.  <a href="#name-changes-since-rfc-7976" class="internal xref">Changes since RFC 7976</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="auto internal xref">8</a>.  <a href="#name-references" class="internal xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a href="#section-8.1" class="auto internal xref">8.1</a>.  <a href="#name-normative-references" class="internal xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1"><a href="#section-8.2" class="auto internal xref">8.2</a>.  <a href="#name-informative-references" class="internal xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#appendix-A" class="auto internal xref"></a><a href="#name-acknowledgments" class="internal xref">Acknowledgments</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#appendix-B" class="auto internal xref"></a><a href="#name-authors-addresses" class="internal xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="intro">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">
    The Third Generation Partnership Project (3GPP) has identified cases where different Session Initiation Protocol (SIP) <span>[<a href="#RFC3261" class="cite xref">RFC3261</a>]</span> private header extensions 
    referred to  as "P-" header fields, and defined in <span>[<a href="#RFC7315" class="cite xref">RFC7315</a>]</span>, need to be included in SIP requests and responses
    where they were not allowed according to <span>[<a href="#RFC7315" class="cite xref">RFC7315</a>]</span>.  This document updates <span>[<a href="#RFC7315" class="cite xref">RFC7315</a>]</span>, in order to allow inclusion of the affected "P-" header
    fields in such requests and responses.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">
    This document also makes updates to <span>[<a href="#RFC7315" class="cite xref">RFC7315</a>]</span> in order to fix
    misalignments that occurred when <span>[<a href="#RFC3455" class="cite xref">RFC3455</a>]</span> was updated and subsequently obsoleted by the publication of <span>[<a href="#RFC7315" class="cite xref">RFC7315</a>]</span>.<a href="#section-1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="Misalignment_3GPP_Use_Cases">
<section id="section-2">
      <h2 id="name-misalignments-and-3gpp-use-">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-misalignments-and-3gpp-use-" class="section-name selfRef">Misalignments and 3GPP Use Cases</a>
      </h2>
<div id="General">
<section id="section-2.1">
        <h3 id="name-general">
<a href="#section-2.1" class="section-number selfRef">2.1. </a><a href="#name-general" class="section-name selfRef">General</a>
        </h3>
<p id="section-2.1-1">  
   <span>[<a href="#RFC7315" class="cite xref">RFC7315</a>]</span> contains contradictory statements regarding the usage of SIP
    "P-" header fields in SIP requests and responses, which leave the presence of the SIP "P-" header fields in the SIP requests and
    responses open to interpretation and different implementations. Statements in <span><a href="https://rfc-editor.org/rfc/rfc7315#section-5.7" class="relref">Section 5.7</a> of [<a href="#RFC7315" class="cite xref">RFC7315</a>]</span> are not aligned with the
    definitions and usage of the SIP "P-" header fields specified in <span><a href="https://rfc-editor.org/rfc/rfc7315#section-4" class="relref">Section 4</a> of [<a href="#RFC7315" class="cite xref">RFC7315</a>]</span>.  This section describes the misalignments that occurred
    when <span>[<a href="#RFC3455" class="cite xref">RFC3455</a>]</span> was updated and subsequently obsoleted by the publication of <span>[<a href="#RFC7315" class="cite xref">RFC7315</a>]</span>, and how they are fixed.<a href="#section-2.1-1" class="pilcrow">¶</a></p>
<aside id="section-2.1-2">
          <p id="section-2.1-2.1"> 
    NOTE: In the case of the P-Called-Party-ID header field, allowing it
    in PUBLISH requests was done deliberately in <span>[<a href="#RFC7315" class="cite xref">RFC7315</a>]</span>.  Therefore, it
    is not considered a misalignment.<a href="#section-2.1-2.1" class="pilcrow">¶</a></p>
</aside>
<p id="section-2.1-3">
    Since <span>[<a href="#RFC7315" class="cite xref">RFC7315</a>]</span> was published, 3GPP defined new use cases that require
    the RFC to be updated.  This section describes the 3GPP use cases
    behind the updates, and the updates needed to <span>[<a href="#RFC7315" class="cite xref">RFC7315</a>]</span> in order to
    support the use cases.<a href="#section-2.1-3" class="pilcrow">¶</a></p>
<p id="section-2.1-4"> 
    <a href="#Updates_to_RFC_7315" class="auto internal xref">Section 3</a> updates <span>[<a href="#RFC7315" class="cite xref">RFC7315</a>]</span>, based on the misalignments and 3GPP use
    cases.<a href="#section-2.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="Misalignments">
<section id="section-2.2">
        <h3 id="name-misalignments">
<a href="#section-2.2" class="section-number selfRef">2.2. </a><a href="#name-misalignments" class="section-name selfRef">Misalignments</a>
        </h3>
<p id="section-2.2-1">  
  The following updates are needed in order to fix the misalignments
    that occurred when <span>[<a href="#RFC3455" class="cite xref">RFC3455</a>]</span> was obsoleted by <span>[<a href="#RFC7315" class="cite xref">RFC7315</a>]</span>:<a href="#section-2.2-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.2-2.1">P-Associated-URI: Remove the statement that the header field can appear in
the SIP REGISTER method.<a href="#section-2.2-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-2.2-2.2">P-Called-Party-ID: Delete the statement that the P-Called-Party-ID header
field can appear in SIP responses.  Add a statement that the P-Called-Party-ID
header field can appear in the SIP REFER method.<a href="#section-2.2-2.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-2.2-2.3">P-Access-Network-Info: Add a statement that the P-Access-Network- Info
header field can appear in SIP responses.<a href="#section-2.2-2.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-2.2-2.4">P-Charging-Vector: Add a statement that the P-Charging-Vector header field
can appear in SIP responses.  Add a statement that the P-Charging-Vector
header field cannot appear in the SIP ACK method.<a href="#section-2.2-2.4" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-2.2-2.5">P-Charging-Function-Addresses: Add a statement that the
P-Charging-Function-Addresses header field can appear in SIP responses.<a href="#section-2.2-2.5" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-2.2-3">The following update is needed in order to clarify the usage of
        the header compared to <span>[<a href="#RFC7315" class="cite xref">RFC7315</a>]</span>:<a href="#section-2.2-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.2-4.1">P-Visited-Network-ID: Add a statement that the P-Visited-Network-ID header
field cannot appear in the SIP NOTIFY, PRACK, INFO, and UPDATE methods. Add
statement that the P-Visited-Network-ID header field can appear in all non-100
(Trying) responses.<a href="#section-2.2-4.1" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</div>
<div id="_GPP_Use_Cases">
<section id="section-2.3">
        <h3 id="name-3gpp-use-cases">
<a href="#section-2.3" class="section-number selfRef">2.3. </a><a href="#name-3gpp-use-cases" class="section-name selfRef">3GPP Use Cases</a>
        </h3>
<div id="General_use_case">
<section id="section-2.3.1">
          <h4 id="name-general-2">
<a href="#section-2.3.1" class="section-number selfRef">2.3.1. </a><a href="#name-general-2" class="section-name selfRef">General</a>
          </h4>
<p id="section-2.3.1-1">The following updates are needed in order to implement the 3GPP
          use cases:<a href="#section-2.3.1-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.3.1-2.1">P-Access-Network-Info: Add statement that the P-Access-Network- Info
  header field can appear in the SIP ACK method when triggered by a SIP 2xx
  response.<a href="#section-2.3.1-2.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-2.3.1-2.2">P-Charging-Vector: Add statement that the P-Charging-Vector header field
  can appear in the SIP ACK method when triggered by a SIP 2xx response.<a href="#section-2.3.1-2.2" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-2.3.1-3">This following sections describe, for individual "P-" header fields, the
  3GPP use cases that are the basis for the updates.  The use cases are based
  on the procedures defined in <span>[<a href="#TS24.229" class="cite xref">TS24.229</a>]</span>.<a href="#section-2.3.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="P-Access-Network-Info">
<section id="section-2.3.2">
          <h4 id="name-p-access-network-info">
<a href="#section-2.3.2" class="section-number selfRef">2.3.2. </a><a href="#name-p-access-network-info" class="section-name selfRef">P-Access-Network-Info</a>
          </h4>
<p id="section-2.3.2-1">  
   
    The P-Access-Network-Info header field may contain the Network
    Provided Location Information (NPLI).  The NPLI is described in
    <span>[<a href="#TS23.228" class="cite xref">TS23.228</a>]</span>.<a href="#section-2.3.2-1" class="pilcrow">¶</a></p>
<p id="section-2.3.2-2">
    A proxy in possession of appropriate information about the access
    technology might insert a P-Access-Network-Info header field with its
    own values.  Such values are identified by the string "network-
    provided" defined in <span>[<a href="#RFC7315" class="cite xref">RFC7315</a>]</span>.  Based on operator policy, roaming agreement, or both, the local time of the visited network may be
    included.<a href="#section-2.3.2-2" class="pilcrow">¶</a></p>
<p id="section-2.3.2-3">The Call Data Records (CDRs) generated within the IP Multimedia
          Subsystem (IMS) have to contain the NPLI in order to guarantee
          correct billing.  When an IMS session is modified, the NPLI also
          needs to be stored, as the location of the user at the time when the
          session is modified may generate a charging event.  In case of a
          session modification event at IMS, the NPLI needs to be provided:<a href="#section-2.3.2-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.3.2-4.1">when the bearer establishment is triggered, or<a href="#section-2.3.2-4.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-2.3.2-4.2">at session release when the bearer deactivation is triggered, or<a href="#section-2.3.2-4.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-2.3.2-4.3">when the bearer modification is triggered, e.g., a QoS modification for
  the use of a newly negotiated codec.<a href="#section-2.3.2-4.3" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-2.3.2-5">
    In some scenarios, the bearer modification may be triggered by the
    proxy upon reception of a Session Description Protocol (SDP) answer
    within the SIP 2xx response to the SIP INVITE request.  In such case, the
    NPLI needs to be provided within the SIP ACK request.  However, <span>[<a href="#RFC7315" class="cite xref">RFC7315</a>]</span>  does not allow the usage of the P-Access-Network-Info header
    field in a SIP ACK request.<a href="#section-2.3.2-5" class="pilcrow">¶</a></p>
<p id="section-2.3.2-6">
    Upon reception of the SDP answer within a SIP 2xx response on the SIP
    INVITE request, a proxy may initiate procedures to obtain the NPLI
    and may include the P-Access-Network-Info header field with the NPLI
    in the SIP ACK request.<a href="#section-2.3.2-6" class="pilcrow">¶</a></p>
<p id="section-2.3.2-7">
    The P-Access-Network-Info header field shall not be included in SIP
    ACK requests triggered by non-2xx responses.<a href="#section-2.3.2-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="P-Charging-Vector">
<section id="section-2.3.3">
          <h4 id="name-p-charging-vector">
<a href="#section-2.3.3" class="section-number selfRef">2.3.3. </a><a href="#name-p-charging-vector" class="section-name selfRef">P-Charging-Vector</a>
          </h4>
<p id="section-2.3.3-1">  
   
    <span>[<a href="#RFC7315" class="cite xref">RFC7315</a>]</span> defines an Inter Operator Identifier (IOI) to enable
    different operators involved in a SIP dialog or a transaction outside
    a dialog to identify each other by exchanging operator identification
    information within the P-Charging-Vector header field.<a href="#section-2.3.3-1" class="pilcrow">¶</a></p>
<p id="section-2.3.3-2">
    In the interconnection scenarios in multi-operator environments,
    where one or more transit operators are between the originating and
    terminating operator, the identities of the involved transit
    operators are represented by a transit-ioi parameter of the
    P-Charging-Vector header field.<a href="#section-2.3.3-2" class="pilcrow">¶</a></p>
<p id="section-2.3.3-3">
    Transit operators can be selected independently for each SIP method
    and direction of request.  A transit network will only have knowledge
    of an individual SIP request, and transit network selection will be
    an independent decision for each request and could be made based on
    load, cost, percentage, time of day, and other factors.  For this
    reason, it is necessary that the P-Charging-Vector header field,
    which carries the transit IOI information, is included in each SIP
    request and response.  However, <span>[<a href="#RFC7315" class="cite xref">RFC7315</a>]</span> does not allow the usage of
    the P-Charging-Vector header field in the SIP ACK request.<a href="#section-2.3.3-3" class="pilcrow">¶</a></p>
<p id="section-2.3.3-4">
     A SIP proxy that supports this extension and receives the SIP ACK
    request may include a P-Charging-Vector header field in the SIP ACK
    request.<a href="#section-2.3.3-4" class="pilcrow">¶</a></p>
<p id="section-2.3.3-5">
    The P-Charging-Vector header field shall not be included in SIP ACK
    requests triggered by non-2xx responses.<a href="#section-2.3.3-5" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="Updates_to_RFC_7315">
<section id="section-3">
      <h2 id="name-updates-to-rfc-7315">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-updates-to-rfc-7315" class="section-name selfRef">Updates to RFC 7315</a>
      </h2>
<p id="section-3-1">
    
    This section contains the update to <span><a href="https://rfc-editor.org/rfc/rfc7315#section-5.7" class="relref">Section 5.7</a> of [<a href="#RFC7315" class="cite xref">RFC7315</a>]</span>, in
    order to implement the misalignment fixes and the 3GPP requirements
    described in <a href="#Misalignment_3GPP_Use_Cases" class="auto internal xref">Section 2</a>. In the old text, blank lines have been added for readability.<a href="#section-3-1" class="pilcrow">¶</a></p>
<p id="section-3-2">Old text:<a href="#section-3-2" class="pilcrow">¶</a></p>
<blockquote id="section-3-3">
        <p id="section-3-3.1">The P-Associated-URI header field can appear in SIP REGISTER method
and 2xx resonses [sic].<a href="#section-3-3.1" class="pilcrow">¶</a></p>
<p id="section-3-3.2">The P-Called-Party-ID header field can appear in
SIP INVITE, OPTIONS, PUBLISH, SUBSCRIBE, and MESSAGE methods and all
responses.<a href="#section-3-3.2" class="pilcrow">¶</a></p>
<p id="section-3-3.3">The P-Visited-Network-ID header field can appear in all
SIP methods except ACK, BYE, and CANCEL and all responses.<a href="#section-3-3.3" class="pilcrow">¶</a></p>
<p id="section-3-3.4">The P-Access-Network-Info header field can appear in all SIP methods
except ACK and CANCEL.<a href="#section-3-3.4" class="pilcrow">¶</a></p>
<p id="section-3-3.5">The P-Charging-Vector header field can appear
in all SIP methods except CANCEL.<a href="#section-3-3.5" class="pilcrow">¶</a></p>
<p id="section-3-3.6">The P-Charging-Function-Addresses
header field can appear in all SIP methods except ACK and CANCEL.<a href="#section-3-3.6" class="pilcrow">¶</a></p>
</blockquote>
<p id="section-3-4">New text:<a href="#section-3-4" class="pilcrow">¶</a></p>
<blockquote id="section-3-5">
        <p id="section-3-5.1">The P-Associated-URI header field can appear in SIP REGISTER 2xx
      responses.<a href="#section-3-5.1" class="pilcrow">¶</a></p>
<p id="section-3-5.2">
       The P-Called-Party-ID header field can appear in the SIP INVITE,
       OPTIONS, PUBLISH, REFER, SUBSCRIBE, and MESSAGE requests.<a href="#section-3-5.2" class="pilcrow">¶</a></p>
<p id="section-3-5.3">
 The P-Visited-Network-ID header field can appear in all SIP requests
 and the associated non-100 response message except in ACK, BYE,
 CANCEL, NOTIFY, PRACK, INFO, UPDATE.<a href="#section-3-5.3" class="pilcrow">¶</a></p>
<p id="section-3-5.4">
       The P-Access-Network-Info header field can appear in all SIP requests
       and the associated non-100 responses, except in CANCEL requests, CANCEL
       responses, and ACK methods triggered by non-2xx responses.<a href="#section-3-5.4" class="pilcrow">¶</a></p>
<p id="section-3-5.5">
 The P-Charging-Vector header field can appear in all SIP requests and
 the associated non-100 responses, except in CANCEL requests, CANCEL
 responses, and ACK requests triggered by non-2xx responses.<a href="#section-3-5.5" class="pilcrow">¶</a></p>
<p id="section-3-5.6">
       The P-Charging-Function-Addresses header field can appear in all SIP
       methods and the associated non-100 responses, except in CANCEL
       requests, CANCEL responses, and ACK requests.<a href="#section-3-5.6" class="pilcrow">¶</a></p>
</blockquote>
</section>
</div>
<div id="IANA">
<section id="section-4">
      <h2 id="name-iana-considerations">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-4-1">
   This document has no IANA actions.<a href="#section-4-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="security">
<section id="section-5">
      <h2 id="name-security-considerations">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-5-1">
   The security considerations for these "P-" header fields are defined
   in <span>[<a href="#RFC7315" class="cite xref">RFC7315</a>]</span>.  This specification allows some header fields to be
   present in messages where they were previously not allowed, and the
   security considerations and assumptions described in <span>[<a href="#RFC7315" class="cite xref">RFC7315</a>]</span> (e.g.,
   regarding only sending information to trusted entities) also apply to
   those messages.  
   In addition, this specification also disallows some
   header fields to be present in messages where they were previously
   allowed.  That does not cause any security issues, but implementors
   need to be aware that implementations may not have been updated
   according to this document, and take proper actions if a header field
   occurs, or does not occur, in a message where it should occur (or
   occurs in a message where it should not occur).  
   This document adds
   the ability to include P-Access-Network-Info in ACK requests.  As
   documented in <span>[<a href="#RFC7315" class="cite xref">RFC7315</a>]</span>, P-Access-Network-Info may include privacy
   sensitive information, including the user's location.  The security
   and privacy considerations for P-Access-Network-Info in ACK requests
   are similar to those for the other SIP requests discussed in 
   <span><a href="https://rfc-editor.org/rfc/rfc7315#section-6.4" class="relref">Section 6.4</a> of [<a href="#RFC7315" class="cite xref">RFC7315</a>]</span>.
   The security and privacy considerations for  the P-Visited-Network-ID header field are
   similar to those for the other SIP responses discussed in <span><a href="https://rfc-editor.org/rfc/rfc7315#section-6.3" class="relref">Section 6.3</a> of [<a href="#RFC7315" class="cite xref">RFC7315</a>]</span>.<a href="#section-5-1" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-6">
      <h2 id="name-operational-considerations">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-operational-considerations" class="section-name selfRef">Operational considerations</a>
      </h2>
<p id="section-6-1">
          As the "P-" header fields are mainly used in (and in most cases, only defined for) 
          networks defined by the 3GPP, where the updates defined in this document are already 
    defined  <span>[<a href="#TS24.229" class="cite xref">TS24.229</a>]</span>, the updates are not seen to cause 
    backward-compatibility concerns.<a href="#section-6-1" class="pilcrow">¶</a></p>
</section>
<section id="section-7">
      <h2 id="name-changes-since-rfc-7976">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-changes-since-rfc-7976" class="section-name selfRef">Changes since RFC 7976</a>
      </h2>
<p id="section-7-1"> The changes related to RFC 7976
      involve the inclusion of the P-Visited-Network-ID header field in SIP
      responses. Specifically, any SIP response message, with the exception of
      a 100 (Trying) response, may include a P-Visited-Network-ID header
      field.<a href="#section-7-1" class="pilcrow">¶</a></p>
</section>
<section id="section-8">
      <h2 id="name-references">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-8.1">
        <h3 id="name-normative-references">
<a href="#section-8.1" class="section-number selfRef">8.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC3261">[RFC3261]</dt>
        <dd>
<span class="refAuthor">Rosenberg, J.</span>, <span class="refAuthor">Schulzrinne, H.</span>, <span class="refAuthor">Camarillo, G.</span>, <span class="refAuthor">Johnston, A.</span>, <span class="refAuthor">Peterson, J.</span>, <span class="refAuthor">Sparks, R.</span>, <span class="refAuthor">Handley, M.</span>, and <span class="refAuthor">E. Schooler</span>, <span class="refTitle">"SIP: Session Initiation Protocol"</span>, <span class="seriesInfo">RFC 3261</span>, <span class="seriesInfo">DOI 10.17487/RFC3261</span>, <time datetime="2002-06" class="refDate">June 2002</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3261">https://www.rfc-editor.org/info/rfc3261</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7315">[RFC7315]</dt>
        <dd>
<span class="refAuthor">Jesske, R.</span>, <span class="refAuthor">Drage, K.</span>, and <span class="refAuthor">C. Holmberg</span>, <span class="refTitle">"Private Header (P-Header) Extensions to the Session Initiation Protocol (SIP) for the 3GPP"</span>, <span class="seriesInfo">RFC 7315</span>, <span class="seriesInfo">DOI 10.17487/RFC7315</span>, <time datetime="2014-07" class="refDate">July 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7315">https://www.rfc-editor.org/info/rfc7315</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="TS23.228">[TS23.228]</dt>
        <dd>
<span class="refAuthor">3GPP</span>, <span class="refTitle">"IP Multimedia Subsystem (IMS); Stage 2"</span>, <span class="seriesInfo">3GPP TS 23.228</span>, <span>&lt;<a href="https://portal.3gpp.org/desktopmodules/Specifications/SpecificationDetails.aspx?specificationId=821">https://portal.3gpp.org/desktopmodules/Specifications/SpecificationDetails.aspx?specificationId=821</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="TS24.229">[TS24.229]</dt>
      <dd>
<span class="refAuthor">3GPP</span>, <span class="refTitle">"IP multimedia call control protocol based on Session Initiation Protocol (SIP) and Session Description Protocol (SDP); Stage 3"</span>, <span class="seriesInfo">3GPP TS 24.229</span>, <span>&lt;<a href="https://portal.3gpp.org/desktopmodules/Specifications/SpecificationDetails.aspx?specificationId=1055">https://portal.3gpp.org/desktopmodules/Specifications/SpecificationDetails.aspx?specificationId=1055</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-8.2">
        <h3 id="name-informative-references">
<a href="#section-8.2" class="section-number selfRef">8.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="RFC3455">[RFC3455]</dt>
      <dd>
<span class="refAuthor">Garcia-Martin, M.</span>, <span class="refAuthor">Henrikson, E.</span>, and <span class="refAuthor">D. Mills</span>, <span class="refTitle">"Private Header (P-Header) Extensions to the Session Initiation Protocol (SIP) for the 3rd-Generation Partnership Project (3GPP)"</span>, <span class="seriesInfo">RFC 3455</span>, <span class="seriesInfo">DOI 10.17487/RFC3455</span>, <time datetime="2003-01" class="refDate">January 2003</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3455">https://www.rfc-editor.org/info/rfc3455</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<section id="appendix-A">
      <h2 id="name-acknowledgments">
<a href="#name-acknowledgments" class="section-name selfRef">Acknowledgments</a>
      </h2>
<p id="appendix-A-1">The author would like to acknowledge the constructive feedback provided
   by <span class="contact-name">Michael Kreipl</span>, <span class="contact-name">Charles    Eckel</span>, and <span class="contact-name">Paul Kyzivat</span>.<a href="#appendix-A-1" class="pilcrow">¶</a></p>
<p id="appendix-A-2">Thanks to <span class="contact-name">Paul Kyzivat</span>, <span class="contact-name">Jean    Mahoney</span>, <span class="contact-name">Ben Campbell</span>, and <span class="contact-name">Adam    Roach</span> for providing comments on an earlier draft version of this document.<a href="#appendix-A-2" class="pilcrow">¶</a></p>
</section>
<div id="authors-addresses">
<section id="appendix-B">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Christer Holmberg</span></div>
<div dir="auto" class="left"><span class="org">Ericsson</span></div>
<div dir="auto" class="left"><span class="street-address">Hirsalantie 11</span></div>
<div dir="auto" class="left">FI-<span class="postal-code">02420</span> <span class="locality">Jorvas</span>
</div>
<div dir="auto" class="left"><span class="country-name">Finland</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:christer.holmberg@ericsson.com" class="email">christer.holmberg@ericsson.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Nevenka Biondic</span></div>
<div dir="auto" class="left"><span class="org">ETSI</span></div>
<div dir="auto" class="left"><span class="street-address">650 route des Lucioles</span></div>
<div dir="auto" class="left">
<span class="postal-code">06921</span> <span class="locality">Sophia Antipolis cedex</span>
</div>
<div dir="auto" class="left"><span class="country-name">France</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:Nevenka.Biondic@etsi.org" class="email">Nevenka.Biondic@etsi.org</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Gonzalo Salgueiro</span></div>
<div dir="auto" class="left"><span class="org">Cisco Systems, Inc.</span></div>
<div dir="auto" class="left"><span class="street-address">7200-12 Kit Creek Road</span></div>
<div dir="auto" class="left">
<span class="locality">Research Triangle Park</span>, <span class="region">NC</span> <span class="postal-code">27709</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:gsalguei@cisco.com" class="email">gsalguei@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Roland Jesske</span></div>
<div dir="auto" class="left"><span class="org">Deutsche Telekom</span></div>
<div dir="auto" class="left"><span class="street-address">Deutsche-Telekom-Allee 9</span></div>
<div dir="auto" class="left">
<span class="postal-code">64295</span> <span class="locality">Darmstadt</span>
</div>
<div dir="auto" class="left"><span class="country-name">Germany</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:r.jesske@telekom.de" class="email">r.jesske@telekom.de</a>
</div>
<div class="url">
<span>URI:</span>
<a href="www.telekom.com" class="url">www.telekom.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
